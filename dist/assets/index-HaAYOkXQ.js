(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function a(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=a(u);fetch(u.href,c)}})();function _A(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ah={exports:{}},sl={};var Qg;function TA(){if(Qg)return sl;Qg=1;var e=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(s,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var d in u)d!=="key"&&(c[d]=u[d])}else c=u;return u=c.ref,{$$typeof:e,type:s,key:h,ref:u!==void 0?u:null,props:c}}return sl.Fragment=i,sl.jsx=a,sl.jsxs=a,sl}var Wg;function NA(){return Wg||(Wg=1,Ah.exports=TA()),Ah.exports}var O=NA(),Sh={exports:{}},Tt={};var Jg;function UA(){if(Jg)return Tt;Jg=1;var e=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),v=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,C={};function H(N,L,at){this.props=N,this.context=L,this.refs=C,this.updater=at||x}H.prototype.isReactComponent={},H.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function V(){}V.prototype=H.prototype;function k(N,L,at){this.props=N,this.context=L,this.refs=C,this.updater=at||x}var z=k.prototype=new V;z.constructor=k,U(z,H.prototype),z.isPureReactComponent=!0;var Y=Array.isArray;function J(){}var P={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function ut(N,L,at){var st=at.ref;return{$$typeof:e,type:N,key:L,ref:st!==void 0?st:null,props:at}}function Nt(N,L){return ut(N.type,L,N.props)}function Ut(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function yt(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(at){return L[at]})}var $=/\/+/g;function Z(N,L){return typeof N=="object"&&N!==null&&N.key!=null?yt(""+N.key):L.toString(36)}function Q(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(J,J):(N.status="pending",N.then(function(L){N.status==="pending"&&(N.status="fulfilled",N.value=L)},function(L){N.status==="pending"&&(N.status="rejected",N.reason=L)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function I(N,L,at,st,ot){var dt=typeof N;(dt==="undefined"||dt==="boolean")&&(N=null);var bt=!1;if(N===null)bt=!0;else switch(dt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(N.$$typeof){case e:case i:bt=!0;break;case m:return bt=N._init,I(bt(N._payload),L,at,st,ot)}}if(bt)return ot=ot(N),bt=st===""?"."+Z(N,0):st,Y(ot)?(at="",bt!=null&&(at=bt.replace($,"$&/")+"/"),I(ot,L,at,"",function(ee){return ee})):ot!=null&&(Ut(ot)&&(ot=Nt(ot,at+(ot.key==null||N&&N.key===ot.key?"":(""+ot.key).replace($,"$&/")+"/")+bt)),L.push(ot)),1;bt=0;var Lt=st===""?".":st+":";if(Y(N))for(var xt=0;xt<N.length;xt++)st=N[xt],dt=Lt+Z(st,xt),bt+=I(st,L,at,dt,ot);else if(xt=_(N),typeof xt=="function")for(N=xt.call(N),xt=0;!(st=N.next()).done;)st=st.value,dt=Lt+Z(st,xt++),bt+=I(st,L,at,dt,ot);else if(dt==="object"){if(typeof N.then=="function")return I(Q(N),L,at,st,ot);throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return bt}function q(N,L,at){if(N==null)return N;var st=[],ot=0;return I(N,st,"","",function(dt){return L.call(at,dt,ot++)}),st}function rt(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(at){(N._status===0||N._status===-1)&&(N._status=1,N._result=at)},function(at){(N._status===0||N._status===-1)&&(N._status=2,N._result=at)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var lt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},nt={map:q,forEach:function(N,L,at){q(N,function(){L.apply(this,arguments)},at)},count:function(N){var L=0;return q(N,function(){L++}),L},toArray:function(N){return q(N,function(L){return L})||[]},only:function(N){if(!Ut(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Tt.Activity=E,Tt.Children=nt,Tt.Component=H,Tt.Fragment=a,Tt.Profiler=u,Tt.PureComponent=k,Tt.StrictMode=s,Tt.Suspense=p,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return P.H.useMemoCache(N)}},Tt.cache=function(N){return function(){return N.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(N,L,at){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var st=U({},N.props),ot=N.key;if(L!=null)for(dt in L.key!==void 0&&(ot=""+L.key),L)!ct.call(L,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&L.ref===void 0||(st[dt]=L[dt]);var dt=arguments.length-2;if(dt===1)st.children=at;else if(1<dt){for(var bt=Array(dt),Lt=0;Lt<dt;Lt++)bt[Lt]=arguments[Lt+2];st.children=bt}return ut(N.type,ot,st)},Tt.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Tt.createElement=function(N,L,at){var st,ot={},dt=null;if(L!=null)for(st in L.key!==void 0&&(dt=""+L.key),L)ct.call(L,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(ot[st]=L[st]);var bt=arguments.length-2;if(bt===1)ot.children=at;else if(1<bt){for(var Lt=Array(bt),xt=0;xt<bt;xt++)Lt[xt]=arguments[xt+2];ot.children=Lt}if(N&&N.defaultProps)for(st in bt=N.defaultProps,bt)ot[st]===void 0&&(ot[st]=bt[st]);return ut(N,dt,ot)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(N){return{$$typeof:d,render:N}},Tt.isValidElement=Ut,Tt.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:rt}},Tt.memo=function(N,L){return{$$typeof:y,type:N,compare:L===void 0?null:L}},Tt.startTransition=function(N){var L=P.T,at={};P.T=at;try{var st=N(),ot=P.S;ot!==null&&ot(at,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(J,lt)}catch(dt){lt(dt)}finally{L!==null&&at.types!==null&&(L.types=at.types),P.T=L}},Tt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Tt.use=function(N){return P.H.use(N)},Tt.useActionState=function(N,L,at){return P.H.useActionState(N,L,at)},Tt.useCallback=function(N,L){return P.H.useCallback(N,L)},Tt.useContext=function(N){return P.H.useContext(N)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(N,L){return P.H.useDeferredValue(N,L)},Tt.useEffect=function(N,L){return P.H.useEffect(N,L)},Tt.useEffectEvent=function(N){return P.H.useEffectEvent(N)},Tt.useId=function(){return P.H.useId()},Tt.useImperativeHandle=function(N,L,at){return P.H.useImperativeHandle(N,L,at)},Tt.useInsertionEffect=function(N,L){return P.H.useInsertionEffect(N,L)},Tt.useLayoutEffect=function(N,L){return P.H.useLayoutEffect(N,L)},Tt.useMemo=function(N,L){return P.H.useMemo(N,L)},Tt.useOptimistic=function(N,L){return P.H.useOptimistic(N,L)},Tt.useReducer=function(N,L,at){return P.H.useReducer(N,L,at)},Tt.useRef=function(N){return P.H.useRef(N)},Tt.useState=function(N){return P.H.useState(N)},Tt.useSyncExternalStore=function(N,L,at){return P.H.useSyncExternalStore(N,L,at)},Tt.useTransition=function(){return P.H.useTransition()},Tt.version="19.2.4",Tt}var tm;function gd(){return tm||(tm=1,Sh.exports=UA()),Sh.exports}var Et=gd();const xe=_A(Et);var xh={exports:{}},ll={},_h={exports:{}},Th={};var em;function OA(){return em||(em=1,(function(e){function i(I,q){var rt=I.length;I.push(q);t:for(;0<rt;){var lt=rt-1>>>1,nt=I[lt];if(0<u(nt,q))I[lt]=q,I[rt]=nt,rt=lt;else break t}}function a(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var q=I[0],rt=I.pop();if(rt!==q){I[0]=rt;t:for(var lt=0,nt=I.length,N=nt>>>1;lt<N;){var L=2*(lt+1)-1,at=I[L],st=L+1,ot=I[st];if(0>u(at,rt))st<nt&&0>u(ot,at)?(I[lt]=ot,I[st]=rt,lt=st):(I[lt]=at,I[L]=rt,lt=L);else if(st<nt&&0>u(ot,rt))I[lt]=ot,I[st]=rt,lt=st;else break t}}return q}function u(I,q){var rt=I.sortIndex-q.sortIndex;return rt!==0?rt:I.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();e.unstable_now=function(){return h.now()-d}}var p=[],y=[],m=1,E=null,v=3,_=!1,x=!1,U=!1,C=!1,H=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function z(I){for(var q=a(y);q!==null;){if(q.callback===null)s(y);else if(q.startTime<=I)s(y),q.sortIndex=q.expirationTime,i(p,q);else break;q=a(y)}}function Y(I){if(U=!1,z(I),!x)if(a(p)!==null)x=!0,J||(J=!0,yt());else{var q=a(y);q!==null&&Q(Y,q.startTime-I)}}var J=!1,P=-1,ct=5,ut=-1;function Nt(){return C?!0:!(e.unstable_now()-ut<ct)}function Ut(){if(C=!1,J){var I=e.unstable_now();ut=I;var q=!0;try{t:{x=!1,U&&(U=!1,V(P),P=-1),_=!0;var rt=v;try{e:{for(z(I),E=a(p);E!==null&&!(E.expirationTime>I&&Nt());){var lt=E.callback;if(typeof lt=="function"){E.callback=null,v=E.priorityLevel;var nt=lt(E.expirationTime<=I);if(I=e.unstable_now(),typeof nt=="function"){E.callback=nt,z(I),q=!0;break e}E===a(p)&&s(p),z(I)}else s(p);E=a(p)}if(E!==null)q=!0;else{var N=a(y);N!==null&&Q(Y,N.startTime-I),q=!1}}break t}finally{E=null,v=rt,_=!1}q=void 0}}finally{q?yt():J=!1}}}var yt;if(typeof k=="function")yt=function(){k(Ut)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=Ut,yt=function(){Z.postMessage(null)}}else yt=function(){H(Ut,0)};function Q(I,q){P=H(function(){I(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var rt=v;v=q;try{return I()}finally{v=rt}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(I,q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var rt=v;v=I;try{return q()}finally{v=rt}},e.unstable_scheduleCallback=function(I,q,rt){var lt=e.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?lt+rt:lt):rt=lt,I){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=rt+nt,I={id:m++,callback:q,priorityLevel:I,startTime:rt,expirationTime:nt,sortIndex:-1},rt>lt?(I.sortIndex=rt,i(y,I),a(p)===null&&I===a(y)&&(U?(V(P),P=-1):U=!0,Q(Y,rt-lt))):(I.sortIndex=nt,i(p,I),x||_||(x=!0,J||(J=!0,yt()))),I},e.unstable_shouldYield=Nt,e.unstable_wrapCallback=function(I){var q=v;return function(){var rt=v;v=q;try{return I.apply(this,arguments)}finally{v=rt}}}})(Th)),Th}var nm;function BA(){return nm||(nm=1,_h.exports=OA()),_h.exports}var Nh={exports:{}},ke={};var im;function CA(){if(im)return ke;im=1;var e=gd();function i(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)y+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(p,y,m){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:p,containerInfo:y,implementation:m}}var h=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ke.createPortal=function(p,y){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(i(299));return c(p,y,null,m)},ke.flushSync=function(p){var y=h.T,m=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=y,s.p=m,s.d.f()}},ke.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},ke.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ke.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var m=y.as,E=d(m,y.crossOrigin),v=typeof y.integrity=="string"?y.integrity:void 0,_=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;m==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:v,fetchPriority:_}):m==="script"&&s.d.X(p,{crossOrigin:E,integrity:v,fetchPriority:_,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ke.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var m=d(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},ke.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var m=y.as,E=d(m,y.crossOrigin);s.d.L(p,m,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ke.preloadModule=function(p,y){if(typeof p=="string")if(y){var m=d(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},ke.requestFormReset=function(p){s.d.r(p)},ke.unstable_batchedUpdates=function(p,y){return p(y)},ke.useFormState=function(p,y,m){return h.H.useFormState(p,y,m)},ke.useFormStatus=function(){return h.H.useHostTransitionStatus()},ke.version="19.2.4",ke}var rm;function RA(){if(rm)return Nh.exports;rm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(i){console.error(i)}}return e(),Nh.exports=CA(),Nh.exports}var am;function IA(){if(am)return ll;am=1;var e=BA(),i=gd(),a=RA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var o=r.return;if(o===null)break;var f=o.alternate;if(f===null){if(l=o.return,l!==null){r=l;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===r)return p(o),t;if(f===l)return p(o),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=o,l=f;else{for(var w=!1,A=o.child;A;){if(A===r){w=!0,r=o,l=f;break}if(A===l){w=!0,l=o,r=f;break}A=A.sibling}if(!w){for(A=f.child;A;){if(A===r){w=!0,r=f,l=o;break}if(A===l){w=!0,l=f,r=o;break}A=A.sibling}if(!w)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function m(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=m(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),k=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),ut=Symbol.for("react.activity"),Nt=Symbol.for("react.memo_cache_sentinel"),Ut=Symbol.iterator;function yt(t){return t===null||typeof t!="object"?null:(t=Ut&&t[Ut]||t["@@iterator"],typeof t=="function"?t:null)}var $=Symbol.for("react.client.reference");function Z(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===$?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case H:return"Profiler";case C:return"StrictMode";case Y:return"Suspense";case J:return"SuspenseList";case ut:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case k:return t.displayName||"Context";case V:return(t._context.displayName||"Context")+".Consumer";case z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return n=t.displayName||null,n!==null?n:Z(t.type)||"Memo";case ct:n=t._payload,t=t._init;try{return Z(t(n))}catch{}}return null}var Q=Array.isArray,I=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},lt=[],nt=-1;function N(t){return{current:t}}function L(t){0>nt||(t.current=lt[nt],lt[nt]=null,nt--)}function at(t,n){nt++,lt[nt]=t.current,t.current=n}var st=N(null),ot=N(null),dt=N(null),bt=N(null);function Lt(t,n){switch(at(dt,n),at(ot,t),at(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?wg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=wg(n),t=vg(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(st),at(st,t)}function xt(){L(st),L(ot),L(dt)}function ee(t){t.memoizedState!==null&&at(bt,t);var n=st.current,r=vg(n,t.type);n!==r&&(at(ot,t),at(st,r))}function Mn(t){ot.current===t&&(L(st),L(ot)),bt.current===t&&(L(bt),nl._currentValue=rt)}var ui,pn;function nn(t){if(ui===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ui=n&&n[1]||"",pn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ui+t+pn}var cs=!1;function fs(t,n){if(!t||cs)return"";cs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(F){var G=F}Reflect.construct(t,[],it)}else{try{it.call()}catch(F){G=F}t.call(it.prototype)}}else{try{throw Error()}catch(F){G=F}(it=t())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(F){if(F&&G&&typeof F.stack=="string")return[F.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),w=f[0],A=f[1];if(w&&A){var B=w.split(`
`),K=A.split(`
`);for(o=l=0;l<B.length&&!B[l].includes("DetermineComponentFrameRoot");)l++;for(;o<K.length&&!K[o].includes("DetermineComponentFrameRoot");)o++;if(l===B.length||o===K.length)for(l=B.length-1,o=K.length-1;1<=l&&0<=o&&B[l]!==K[o];)o--;for(;1<=l&&0<=o;l--,o--)if(B[l]!==K[o]){if(l!==1||o!==1)do if(l--,o--,0>o||B[l]!==K[o]){var W=`
`+B[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=o);break}}}finally{cs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?nn(r):""}function hs(t,n){switch(t.tag){case 26:case 27:case 5:return nn(t.type);case 16:return nn("Lazy");case 13:return t.child!==n&&n!==null?nn("Suspense Fallback"):nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return fs(t.type,!1);case 11:return fs(t.type.render,!1);case 1:return fs(t.type,!0);case 31:return nn("Activity");default:return""}}function Dl(t){try{var n="",r=null;do n+=hs(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ds=Object.prototype.hasOwnProperty,la=e.unstable_scheduleCallback,Gi=e.unstable_cancelCallback,yn=e.unstable_shouldYield,ps=e.unstable_requestPaint,Ke=e.unstable_now,Fn=e.unstable_getCurrentPriorityLevel,zl=e.unstable_ImmediatePriority,S=e.unstable_UserBlockingPriority,g=e.unstable_NormalPriority,b=e.unstable_LowPriority,T=e.unstable_IdlePriority,M=e.log,X=e.unstable_setDisableYieldValue,tt=null,wt=null;function Gt(t){if(typeof M=="function"&&X(t),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(tt,t)}catch{}}var Ct=Math.clz32?Math.clz32:fw,re=Math.log,Yt=Math.LN2;function fw(t){return t>>>=0,t===0?32:31-(re(t)/Yt|0)|0}var Ll=256,jl=262144,Kl=4194304;function Br(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gl(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var o=0,f=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~f,l!==0?o=Br(l):(w&=A,w!==0?o=Br(w):r||(r=A&~t,r!==0&&(o=Br(r))))):(A=l&~f,A!==0?o=Br(A):w!==0?o=Br(w):r||(r=l&~t,r!==0&&(o=Br(r)))),o===0?0:n!==0&&n!==o&&(n&f)===0&&(f=o&-o,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:o}function ys(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function hw(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e0(){var t=Kl;return Kl<<=1,(Kl&62914560)===0&&(Kl=4194304),t}function oc(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function gs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function dw(t,n,r,l,o,f){var w=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var A=t.entanglements,B=t.expirationTimes,K=t.hiddenUpdates;for(r=w&~r;0<r;){var W=31-Ct(r),it=1<<W;A[W]=0,B[W]=-1;var G=K[W];if(G!==null)for(K[W]=null,W=0;W<G.length;W++){var F=G[W];F!==null&&(F.lane&=-536870913)}r&=~it}l!==0&&n0(t,l,0),f!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=f&~(w&~n))}function n0(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ct(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function i0(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ct(r),o=1<<l;o&n|t[l]&n&&(t[l]|=n),r&=~o}}function r0(t,n){var r=n&-n;return r=(r&42)!==0?1:cc(r),(r&(t.suspendedLanes|n))!==0?0:r}function cc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function a0(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Vg(t.type))}function s0(t,n){var r=q.p;try{return q.p=t,n()}finally{q.p=r}}var Xi=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Xi,Ye="__reactProps$"+Xi,ua="__reactContainer$"+Xi,hc="__reactEvents$"+Xi,pw="__reactListeners$"+Xi,yw="__reactHandles$"+Xi,l0="__reactResources$"+Xi,ms="__reactMarker$"+Xi;function dc(t){delete t[Oe],delete t[Ye],delete t[hc],delete t[pw],delete t[yw]}function oa(t){var n=t[Oe];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ua]||r[Oe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ug(t);t!==null;){if(r=t[Oe])return r;t=Ug(t)}return n}t=r,r=t.parentNode}return null}function ca(t){if(t=t[Oe]||t[ua]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Es(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function fa(t){var n=t[l0];return n||(n=t[l0]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(t){t[ms]=!0}var u0=new Set,o0={};function Cr(t,n){ha(t,n),ha(t+"Capture",n)}function ha(t,n){for(o0[t]=n,t=0;t<n.length;t++)u0.add(n[t])}var gw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),c0={},f0={};function mw(t){return ds.call(f0,t)?!0:ds.call(c0,t)?!1:gw.test(t)?f0[t]=!0:(c0[t]=!0,!1)}function Xl(t,n,r){if(mw(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Vl(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function oi(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function gn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h0(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ew(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return o.call(this)},set:function(w){r=""+w,f.call(this,w)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(w){r=""+w},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function pc(t){if(!t._valueTracker){var n=h0(t)?"checked":"value";t._valueTracker=Ew(t,n,""+t[n])}}function d0(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=h0(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Yl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bw=/[\n"\\]/g;function mn(t){return t.replace(bw,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function yc(t,n,r,l,o,f,w,A){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),n!=null?w==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+gn(n)):t.value!==""+gn(n)&&(t.value=""+gn(n)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),n!=null?gc(t,w,gn(n)):r!=null?gc(t,w,gn(r)):l!=null&&t.removeAttribute("value"),o==null&&f!=null&&(t.defaultChecked=!!f),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+gn(A):t.removeAttribute("name")}function p0(t,n,r,l,o,f,w,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){pc(t);return}r=r!=null?""+gn(r):"",n=n!=null?""+gn(n):r,A||n===t.value||(t.value=n),t.defaultValue=n}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w),pc(t)}function gc(t,n,r){n==="number"&&Yl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function da(t,n,r,l){if(t=t.options,n){n={};for(var o=0;o<r.length;o++)n["$"+r[o]]=!0;for(r=0;r<t.length;r++)o=n.hasOwnProperty("$"+t[r].value),t[r].selected!==o&&(t[r].selected=o),o&&l&&(t[r].defaultSelected=!0)}else{for(r=""+gn(r),n=null,o=0;o<t.length;o++){if(t[o].value===r){t[o].selected=!0,l&&(t[o].defaultSelected=!0);return}n!==null||t[o].disabled||(n=t[o])}n!==null&&(n.selected=!0)}}function y0(t,n,r){if(n!=null&&(n=""+gn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+gn(r):""}function g0(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Q(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=gn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),pc(t)}function pa(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var ww=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function m0(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||ww.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function E0(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var o in n)l=n[o],n.hasOwnProperty(o)&&r[o]!==l&&m0(t,o,l)}else for(var f in n)n.hasOwnProperty(f)&&m0(t,f,n[f])}function mc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Aw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fl(t){return Aw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var Ec=null;function bc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ya=null,ga=null;function b0(t){var n=ca(t);if(n&&(t=n.stateNode)){var r=t[Ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(yc(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var o=l[Ye]||null;if(!o)throw Error(s(90));yc(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&d0(l)}break t;case"textarea":y0(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&da(t,!!r.multiple,n,!1)}}}var wc=!1;function w0(t,n,r){if(wc)return t(n,r);wc=!0;try{var l=t(n);return l}finally{if(wc=!1,(ya!==null||ga!==null)&&(Iu(),ya&&(n=ya,t=ga,ga=ya=null,b0(n),t)))for(n=0;n<t.length;n++)b0(t[n])}}function bs(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Ye]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=!1;if(fi)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){vc=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{vc=!1}var Vi=null,Ac=null,ql=null;function v0(){if(ql)return ql;var t,n=Ac,r=n.length,l,o="value"in Vi?Vi.value:Vi.textContent,f=o.length;for(t=0;t<r&&n[t]===o[t];t++);var w=r-t;for(l=1;l<=w&&n[r-l]===o[f-l];l++);return ql=o.slice(t,1<l?1-l:void 0)}function Pl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $l(){return!0}function A0(){return!1}function Fe(t){function n(r,l,o,f,w){this._reactName=r,this._targetInst=o,this.type=l,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$l:A0,this.isPropagationStopped=A0,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),n}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Fe(Rr),vs=E({},Rr,{view:0,detail:0}),Sw=Fe(vs),Sc,xc,As,Ql=E({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==As&&(As&&t.type==="mousemove"?(Sc=t.screenX-As.screenX,xc=t.screenY-As.screenY):xc=Sc=0,As=t),Sc)},movementY:function(t){return"movementY"in t?t.movementY:xc}}),S0=Fe(Ql),xw=E({},Ql,{dataTransfer:0}),_w=Fe(xw),Tw=E({},vs,{relatedTarget:0}),_c=Fe(Tw),Nw=E({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Uw=Fe(Nw),Ow=E({},Rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bw=Fe(Ow),Cw=E({},Rr,{data:0}),x0=Fe(Cw),Rw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kw(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Hw[t])?!!n[t]:!1}function Tc(){return kw}var Mw=E({},vs,{key:function(t){if(t.key){var n=Rw[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(t){return t.type==="keypress"?Pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dw=Fe(Mw),zw=E({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_0=Fe(zw),Lw=E({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),jw=Fe(Lw),Kw=E({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gw=Fe(Kw),Xw=E({},Ql,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vw=Fe(Xw),Yw=E({},Rr,{newState:0,oldState:0}),Fw=Fe(Yw),qw=[9,13,27,32],Nc=fi&&"CompositionEvent"in window,Ss=null;fi&&"documentMode"in document&&(Ss=document.documentMode);var Pw=fi&&"TextEvent"in window&&!Ss,T0=fi&&(!Nc||Ss&&8<Ss&&11>=Ss),N0=" ",U0=!1;function O0(t,n){switch(t){case"keyup":return qw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function $w(t,n){switch(t){case"compositionend":return B0(n);case"keypress":return n.which!==32?null:(U0=!0,N0);case"textInput":return t=n.data,t===N0&&U0?null:t;default:return null}}function Zw(t,n){if(ma)return t==="compositionend"||!Nc&&O0(t,n)?(t=v0(),ql=Ac=Vi=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return T0&&n.locale!=="ko"?null:n.data;default:return null}}var Qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C0(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Qw[t.type]:n==="textarea"}function R0(t,n,r,l){ya?ga?ga.push(l):ga=[l]:ya=l,n=ju(n,"onChange"),0<n.length&&(r=new Zl("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var xs=null,_s=null;function Ww(t){pg(t,0)}function Wl(t){var n=Es(t);if(d0(n))return t}function I0(t,n){if(t==="change")return n}var H0=!1;if(fi){var Uc;if(fi){var Oc="oninput"in document;if(!Oc){var k0=document.createElement("div");k0.setAttribute("oninput","return;"),Oc=typeof k0.oninput=="function"}Uc=Oc}else Uc=!1;H0=Uc&&(!document.documentMode||9<document.documentMode)}function M0(){xs&&(xs.detachEvent("onpropertychange",D0),_s=xs=null)}function D0(t){if(t.propertyName==="value"&&Wl(_s)){var n=[];R0(n,_s,t,bc(t)),w0(Ww,n)}}function Jw(t,n,r){t==="focusin"?(M0(),xs=n,_s=r,xs.attachEvent("onpropertychange",D0)):t==="focusout"&&M0()}function tv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wl(_s)}function ev(t,n){if(t==="click")return Wl(n)}function nv(t,n){if(t==="input"||t==="change")return Wl(n)}function iv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:iv;function Ts(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var o=r[l];if(!ds.call(n,o)||!rn(t[o],n[o]))return!1}return!0}function z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L0(t,n){var r=z0(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=z0(r)}}function j0(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?j0(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function K0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Yl(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Yl(t.document)}return n}function Bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var rv=fi&&"documentMode"in document&&11>=document.documentMode,Ea=null,Cc=null,Ns=null,Rc=!1;function G0(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rc||Ea==null||Ea!==Yl(l)||(l=Ea,"selectionStart"in l&&Bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ns&&Ts(Ns,l)||(Ns=l,l=ju(Cc,"onSelect"),0<l.length&&(n=new Zl("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ea)))}function Ir(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ba={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Ic={},X0={};fi&&(X0=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Hr(t){if(Ic[t])return Ic[t];if(!ba[t])return t;var n=ba[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in X0)return Ic[t]=n[r];return t}var V0=Hr("animationend"),Y0=Hr("animationiteration"),F0=Hr("animationstart"),av=Hr("transitionrun"),sv=Hr("transitionstart"),lv=Hr("transitioncancel"),q0=Hr("transitionend"),P0=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function Dn(t,n){P0.set(t,n),Cr(n,[t])}var Jl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},En=[],wa=0,kc=0;function tu(){for(var t=wa,n=kc=wa=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var o=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&o!==null){var w=l.pending;w===null?o.next=o:(o.next=w.next,w.next=o),l.pending=o}f!==0&&$0(r,o,f)}}function eu(t,n,r,l){En[wa++]=t,En[wa++]=n,En[wa++]=r,En[wa++]=l,kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mc(t,n,r,l){return eu(t,n,r,l),nu(t)}function kr(t,n){return eu(t,null,null,n),nu(t)}function $0(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var o=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(o=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,o&&n!==null&&(o=31-Ct(r),t=f.hiddenUpdates,l=t[o],l===null?t[o]=[n]:l.push(n),n.lane=r|536870912),f):null}function nu(t){if(50<$s)throw $s=0,Ff=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var va={};function uv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,r,l){return new uv(t,n,r,l)}function Dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hi(t,n){var r=t.alternate;return r===null?(r=an(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Z0(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function iu(t,n,r,l,o,f){var w=0;if(l=t,typeof t=="function")Dc(t)&&(w=1);else if(typeof t=="string")w=dA(t,r,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ut:return t=an(31,r,n,o),t.elementType=ut,t.lanes=f,t;case U:return Mr(r.children,o,f,n);case C:w=8,o|=24;break;case H:return t=an(12,r,n,o|2),t.elementType=H,t.lanes=f,t;case Y:return t=an(13,r,n,o),t.elementType=Y,t.lanes=f,t;case J:return t=an(19,r,n,o),t.elementType=J,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:w=10;break t;case V:w=9;break t;case z:w=11;break t;case P:w=14;break t;case ct:w=16,l=null;break t}w=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=an(w,r,n,o),n.elementType=t,n.type=l,n.lanes=f,n}function Mr(t,n,r,l){return t=an(7,t,l,n),t.lanes=r,t}function zc(t,n,r){return t=an(6,t,null,n),t.lanes=r,t}function Q0(t){var n=an(18,null,null,0);return n.stateNode=t,n}function Lc(t,n,r){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var W0=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var r=W0.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Dl(n)},W0.set(t,n),n)}return{value:t,source:n,stack:Dl(n)}}var Aa=[],Sa=0,ru=null,Us=0,wn=[],vn=0,Yi=null,qn=1,Pn="";function di(t,n){Aa[Sa++]=Us,Aa[Sa++]=ru,ru=t,Us=n}function J0(t,n,r){wn[vn++]=qn,wn[vn++]=Pn,wn[vn++]=Yi,Yi=t;var l=qn;t=Pn;var o=32-Ct(l)-1;l&=~(1<<o),r+=1;var f=32-Ct(n)+o;if(30<f){var w=o-o%5;f=(l&(1<<w)-1).toString(32),l>>=w,o-=w,qn=1<<32-Ct(n)+o|r<<o|l,Pn=f+t}else qn=1<<f|r<<o|l,Pn=t}function jc(t){t.return!==null&&(di(t,1),J0(t,1,0))}function Kc(t){for(;t===ru;)ru=Aa[--Sa],Aa[Sa]=null,Us=Aa[--Sa],Aa[Sa]=null;for(;t===Yi;)Yi=wn[--vn],wn[vn]=null,Pn=wn[--vn],wn[vn]=null,qn=wn[--vn],wn[vn]=null}function tp(t,n){wn[vn++]=qn,wn[vn++]=Pn,wn[vn++]=Yi,qn=n.id,Pn=n.overflow,Yi=t}var Be=null,ne=null,Dt=!1,Fi=null,An=!1,Gc=Error(s(519));function qi(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Os(bn(n,t)),Gc}function ep(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Oe]=t,n[Ye]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Qs.length;r++)It(Qs[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),p0(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),g0(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Eg(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=ci),n=!0):n=!1,n||qi(t,!0)}function np(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:An=!1;return;case 27:case 3:An=!0;return;default:Be=Be.return}}function xa(t){if(t!==Be)return!1;if(!Dt)return np(t),Dt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||lh(t.type,t.memoizedProps)),r=!r),r&&ne&&qi(t),np(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=Ng(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=Ng(t)}else n===27?(n=ne,lr(t.type)?(t=hh,hh=null,ne=t):ne=n):ne=Be?xn(t.stateNode.nextSibling):null;return!0}function Dr(){ne=Be=null,Dt=!1}function Xc(){var t=Fi;return t!==null&&(Ze===null?Ze=t:Ze.push.apply(Ze,t),Fi=null),t}function Os(t){Fi===null?Fi=[t]:Fi.push(t)}var Vc=N(null),zr=null,pi=null;function Pi(t,n,r){at(Vc,n._currentValue),n._currentValue=r}function yi(t){t._currentValue=Vc.current,L(Vc)}function Yc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Fc(t,n,r,l){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){var w=o.child;f=f.firstContext;t:for(;f!==null;){var A=f;f=o;for(var B=0;B<n.length;B++)if(A.context===n[B]){f.lanes|=r,A=f.alternate,A!==null&&(A.lanes|=r),Yc(f.return,r,t),l||(w=null);break t}f=A.next}}else if(o.tag===18){if(w=o.return,w===null)throw Error(s(341));w.lanes|=r,f=w.alternate,f!==null&&(f.lanes|=r),Yc(w,r,t),w=null}else w=o.child;if(w!==null)w.return=o;else for(w=o;w!==null;){if(w===t){w=null;break}if(o=w.sibling,o!==null){o.return=w.return,w=o;break}w=w.return}o=w}}function _a(t,n,r,l){t=null;for(var o=n,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var w=o.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var A=o.type;rn(o.pendingProps.value,w.value)||(t!==null?t.push(A):t=[A])}}else if(o===bt.current){if(w=o.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(nl):t=[nl])}o=o.return}t!==null&&Fc(n,t,r,l),n.flags|=262144}function au(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Lr(t){zr=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ce(t){return ip(zr,t)}function su(t,n){return zr===null&&Lr(t),ip(t,n)}function ip(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},pi===null){if(t===null)throw Error(s(308));pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pi=pi.next=n;return r}var ov=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},cv=e.unstable_scheduleCallback,fv=e.unstable_NormalPriority,me={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new ov,data:new Map,refCount:0}}function Bs(t){t.refCount--,t.refCount===0&&cv(fv,function(){t.controller.abort()})}var Cs=null,Pc=0,Ta=0,Na=null;function hv(t,n){if(Cs===null){var r=Cs=[];Pc=0,Ta=Wf(),Na={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Pc++,n.then(rp,rp),n}function rp(){if(--Pc===0&&Cs!==null){Na!==null&&(Na.status="fulfilled");var t=Cs;Cs=null,Ta=0,Na=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function dv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(o){r.push(o)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var o=0;o<r.length;o++)(0,r[o])(n)},function(o){for(l.status="rejected",l.reason=o,o=0;o<r.length;o++)(0,r[o])(void 0)}),l}var ap=I.S;I.S=function(t,n){Gy=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hv(t,n),ap!==null&&ap(t,n)};var jr=N(null);function $c(){var t=jr.current;return t!==null?t:Jt.pooledCache}function lu(t,n){n===null?at(jr,jr.current):at(jr,n.pool)}function sp(){var t=$c();return t===null?null:{parent:me._currentValue,pool:t}}var Ua=Error(s(460)),Zc=Error(s(474)),uu=Error(s(542)),ou={then:function(){}};function lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function up(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ci,ci),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cp(t),t;default:if(typeof n.status=="string")n.then(ci,ci);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var o=n;o.status="fulfilled",o.value=l}},function(l){if(n.status==="pending"){var o=n;o.status="rejected",o.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cp(t),t}throw Gr=n,Ua}}function Kr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Gr=r,Ua):r}}var Gr=null;function op(){if(Gr===null)throw Error(s(459));var t=Gr;return Gr=null,t}function cp(t){if(t===Ua||t===uu)throw Error(s(483))}var Oa=null,Rs=0;function cu(t){var n=Rs;return Rs+=1,Oa===null&&(Oa=[]),up(Oa,t,n)}function Is(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function fu(t,n){throw n.$$typeof===v?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fp(t){function n(D,R){if(t){var j=D.deletions;j===null?(D.deletions=[R],D.flags|=16):j.push(R)}}function r(D,R){if(!t)return null;for(;R!==null;)n(D,R),R=R.sibling;return null}function l(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function o(D,R){return D=hi(D,R),D.index=0,D.sibling=null,D}function f(D,R,j){return D.index=j,t?(j=D.alternate,j!==null?(j=j.index,j<R?(D.flags|=67108866,R):j):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function w(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function A(D,R,j,et){return R===null||R.tag!==6?(R=zc(j,D.mode,et),R.return=D,R):(R=o(R,j),R.return=D,R)}function B(D,R,j,et){var mt=j.type;return mt===U?W(D,R,j.props.children,et,j.key):R!==null&&(R.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===ct&&Kr(mt)===R.type)?(R=o(R,j.props),Is(R,j),R.return=D,R):(R=iu(j.type,j.key,j.props,null,D.mode,et),Is(R,j),R.return=D,R)}function K(D,R,j,et){return R===null||R.tag!==4||R.stateNode.containerInfo!==j.containerInfo||R.stateNode.implementation!==j.implementation?(R=Lc(j,D.mode,et),R.return=D,R):(R=o(R,j.children||[]),R.return=D,R)}function W(D,R,j,et,mt){return R===null||R.tag!==7?(R=Mr(j,D.mode,et,mt),R.return=D,R):(R=o(R,j),R.return=D,R)}function it(D,R,j){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=zc(""+R,D.mode,j),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return j=iu(R.type,R.key,R.props,null,D.mode,j),Is(j,R),j.return=D,j;case x:return R=Lc(R,D.mode,j),R.return=D,R;case ct:return R=Kr(R),it(D,R,j)}if(Q(R)||yt(R))return R=Mr(R,D.mode,j,null),R.return=D,R;if(typeof R.then=="function")return it(D,cu(R),j);if(R.$$typeof===k)return it(D,su(D,R),j);fu(D,R)}return null}function G(D,R,j,et){var mt=R!==null?R.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return mt!==null?null:A(D,R,""+j,et);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return j.key===mt?B(D,R,j,et):null;case x:return j.key===mt?K(D,R,j,et):null;case ct:return j=Kr(j),G(D,R,j,et)}if(Q(j)||yt(j))return mt!==null?null:W(D,R,j,et,null);if(typeof j.then=="function")return G(D,R,cu(j),et);if(j.$$typeof===k)return G(D,R,su(D,j),et);fu(D,j)}return null}function F(D,R,j,et,mt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return D=D.get(j)||null,A(R,D,""+et,mt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case _:return D=D.get(et.key===null?j:et.key)||null,B(R,D,et,mt);case x:return D=D.get(et.key===null?j:et.key)||null,K(R,D,et,mt);case ct:return et=Kr(et),F(D,R,j,et,mt)}if(Q(et)||yt(et))return D=D.get(j)||null,W(R,D,et,mt,null);if(typeof et.then=="function")return F(D,R,j,cu(et),mt);if(et.$$typeof===k)return F(D,R,j,su(R,et),mt);fu(R,et)}return null}function ht(D,R,j,et){for(var mt=null,jt=null,pt=R,Bt=R=0,Mt=null;pt!==null&&Bt<j.length;Bt++){pt.index>Bt?(Mt=pt,pt=null):Mt=pt.sibling;var Kt=G(D,pt,j[Bt],et);if(Kt===null){pt===null&&(pt=Mt);break}t&&pt&&Kt.alternate===null&&n(D,pt),R=f(Kt,R,Bt),jt===null?mt=Kt:jt.sibling=Kt,jt=Kt,pt=Mt}if(Bt===j.length)return r(D,pt),Dt&&di(D,Bt),mt;if(pt===null){for(;Bt<j.length;Bt++)pt=it(D,j[Bt],et),pt!==null&&(R=f(pt,R,Bt),jt===null?mt=pt:jt.sibling=pt,jt=pt);return Dt&&di(D,Bt),mt}for(pt=l(pt);Bt<j.length;Bt++)Mt=F(pt,D,Bt,j[Bt],et),Mt!==null&&(t&&Mt.alternate!==null&&pt.delete(Mt.key===null?Bt:Mt.key),R=f(Mt,R,Bt),jt===null?mt=Mt:jt.sibling=Mt,jt=Mt);return t&&pt.forEach(function(hr){return n(D,hr)}),Dt&&di(D,Bt),mt}function vt(D,R,j,et){if(j==null)throw Error(s(151));for(var mt=null,jt=null,pt=R,Bt=R=0,Mt=null,Kt=j.next();pt!==null&&!Kt.done;Bt++,Kt=j.next()){pt.index>Bt?(Mt=pt,pt=null):Mt=pt.sibling;var hr=G(D,pt,Kt.value,et);if(hr===null){pt===null&&(pt=Mt);break}t&&pt&&hr.alternate===null&&n(D,pt),R=f(hr,R,Bt),jt===null?mt=hr:jt.sibling=hr,jt=hr,pt=Mt}if(Kt.done)return r(D,pt),Dt&&di(D,Bt),mt;if(pt===null){for(;!Kt.done;Bt++,Kt=j.next())Kt=it(D,Kt.value,et),Kt!==null&&(R=f(Kt,R,Bt),jt===null?mt=Kt:jt.sibling=Kt,jt=Kt);return Dt&&di(D,Bt),mt}for(pt=l(pt);!Kt.done;Bt++,Kt=j.next())Kt=F(pt,D,Bt,Kt.value,et),Kt!==null&&(t&&Kt.alternate!==null&&pt.delete(Kt.key===null?Bt:Kt.key),R=f(Kt,R,Bt),jt===null?mt=Kt:jt.sibling=Kt,jt=Kt);return t&&pt.forEach(function(xA){return n(D,xA)}),Dt&&di(D,Bt),mt}function Wt(D,R,j,et){if(typeof j=="object"&&j!==null&&j.type===U&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case _:t:{for(var mt=j.key;R!==null;){if(R.key===mt){if(mt=j.type,mt===U){if(R.tag===7){r(D,R.sibling),et=o(R,j.props.children),et.return=D,D=et;break t}}else if(R.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===ct&&Kr(mt)===R.type){r(D,R.sibling),et=o(R,j.props),Is(et,j),et.return=D,D=et;break t}r(D,R);break}else n(D,R);R=R.sibling}j.type===U?(et=Mr(j.props.children,D.mode,et,j.key),et.return=D,D=et):(et=iu(j.type,j.key,j.props,null,D.mode,et),Is(et,j),et.return=D,D=et)}return w(D);case x:t:{for(mt=j.key;R!==null;){if(R.key===mt)if(R.tag===4&&R.stateNode.containerInfo===j.containerInfo&&R.stateNode.implementation===j.implementation){r(D,R.sibling),et=o(R,j.children||[]),et.return=D,D=et;break t}else{r(D,R);break}else n(D,R);R=R.sibling}et=Lc(j,D.mode,et),et.return=D,D=et}return w(D);case ct:return j=Kr(j),Wt(D,R,j,et)}if(Q(j))return ht(D,R,j,et);if(yt(j)){if(mt=yt(j),typeof mt!="function")throw Error(s(150));return j=mt.call(j),vt(D,R,j,et)}if(typeof j.then=="function")return Wt(D,R,cu(j),et);if(j.$$typeof===k)return Wt(D,R,su(D,j),et);fu(D,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,R!==null&&R.tag===6?(r(D,R.sibling),et=o(R,j),et.return=D,D=et):(r(D,R),et=zc(j,D.mode,et),et.return=D,D=et),w(D)):r(D,R)}return function(D,R,j,et){try{Rs=0;var mt=Wt(D,R,j,et);return Oa=null,mt}catch(pt){if(pt===Ua||pt===uu)throw pt;var jt=an(29,pt,null,D.mode);return jt.lanes=et,jt.return=D,jt}}}var Xr=fp(!0),hp=fp(!1),$i=!1;function Qc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var o=l.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),l.pending=n,n=nu(t),$0(t,null,r),n}return eu(t,l,n,r),nu(t)}function Hs(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,i0(t,r)}}function Jc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var o=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?o=f=w:f=f.next=w,r=r.next}while(r!==null);f===null?o=f=n:f=f.next=n}else o=f=n;r={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var tf=!1;function ks(){if(tf){var t=Na;if(t!==null)throw t}}function Ms(t,n,r,l){tf=!1;var o=t.updateQueue;$i=!1;var f=o.firstBaseUpdate,w=o.lastBaseUpdate,A=o.shared.pending;if(A!==null){o.shared.pending=null;var B=A,K=B.next;B.next=null,w===null?f=K:w.next=K,w=B;var W=t.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==w&&(A===null?W.firstBaseUpdate=K:A.next=K,W.lastBaseUpdate=B))}if(f!==null){var it=o.baseState;w=0,W=K=B=null,A=f;do{var G=A.lane&-536870913,F=G!==A.lane;if(F?(kt&G)===G:(l&G)===G){G!==0&&G===Ta&&(tf=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ht=t,vt=A;G=n;var Wt=r;switch(vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){it=ht.call(Wt,it,G);break t}it=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,G=typeof ht=="function"?ht.call(Wt,it,G):ht,G==null)break t;it=E({},it,G);break t;case 2:$i=!0}}G=A.callback,G!==null&&(t.flags|=64,F&&(t.flags|=8192),F=o.callbacks,F===null?o.callbacks=[G]:F.push(G))}else F={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(K=W=F,B=it):W=W.next=F,w|=G;if(A=A.next,A===null){if(A=o.shared.pending,A===null)break;F=A,A=F.next,F.next=null,o.lastBaseUpdate=F,o.shared.pending=null}}while(!0);W===null&&(B=it),o.baseState=B,o.firstBaseUpdate=K,o.lastBaseUpdate=W,f===null&&(o.shared.lanes=0),nr|=w,t.lanes=w,t.memoizedState=it}}function dp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function pp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)dp(r[t],n)}var Ba=N(null),hu=N(0);function yp(t,n){t=xi,at(hu,t),at(Ba,n),xi=t|n.baseLanes}function ef(){at(hu,xi),at(Ba,Ba.current)}function nf(){xi=hu.current,L(Ba),L(hu)}var sn=N(null),Sn=null;function Wi(t){var n=t.alternate;at(de,de.current&1),at(sn,t),Sn===null&&(n===null||Ba.current!==null||n.memoizedState!==null)&&(Sn=t)}function rf(t){at(de,de.current),at(sn,t),Sn===null&&(Sn=t)}function gp(t){t.tag===22?(at(de,de.current),at(sn,t),Sn===null&&(Sn=t)):Ji()}function Ji(){at(de,de.current),at(sn,sn.current)}function ln(t){L(sn),Sn===t&&(Sn=null),L(de)}var de=N(0);function du(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ch(r)||fh(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gi=0,Ot=null,Zt=null,Ee=null,pu=!1,Ca=!1,Vr=!1,yu=0,Ds=0,Ra=null,pv=0;function le(){throw Error(s(321))}function af(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!rn(t[r],n[r]))return!1;return!0}function sf(t,n,r,l,o,f){return gi=f,Ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=t===null||t.memoizedState===null?Jp:vf,Vr=!1,f=r(l,o),Vr=!1,Ca&&(f=Ep(n,r,l,o)),mp(t),f}function mp(t){I.H=js;var n=Zt!==null&&Zt.next!==null;if(gi=0,Ee=Zt=Ot=null,pu=!1,Ds=0,Ra=null,n)throw Error(s(300));t===null||be||(t=t.dependencies,t!==null&&au(t)&&(be=!0))}function Ep(t,n,r,l){Ot=t;var o=0;do{if(Ca&&(Ra=null),Ds=0,Ca=!1,25<=o)throw Error(s(301));if(o+=1,Ee=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}I.H=ty,f=n(r,l)}while(Ca);return f}function yv(){var t=I.H,n=t.useState()[0];return n=typeof n.then=="function"?zs(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Ot.flags|=1024),n}function lf(){var t=yu!==0;return yu=0,t}function uf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function of(t){if(pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}pu=!1}gi=0,Ee=Zt=Ot=null,Ca=!1,Ds=yu=0,Ra=null}function Ge(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Ot.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function pe(){if(Zt===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=Ee===null?Ot.memoizedState:Ee.next;if(n!==null)Ee=n,Zt=t;else{if(t===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ee===null?Ot.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zs(t){var n=Ds;return Ds+=1,Ra===null&&(Ra=[]),t=up(Ra,t,n),n=Ot,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?Jp:vf),t}function mu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zs(t);if(t.$$typeof===k)return Ce(t)}throw Error(s(438,String(t)))}function cf(t){var n=null,r=Ot.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(o){return o.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=gu(),Ot.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Nt;return n.index++,r}function mi(t,n){return typeof n=="function"?n(t):n}function Eu(t){var n=pe();return ff(n,Zt,t)}function ff(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var o=t.baseQueue,f=l.pending;if(f!==null){if(o!==null){var w=o.next;o.next=f.next,f.next=w}n.baseQueue=o=f,l.pending=null}if(f=t.baseState,o===null)t.memoizedState=f;else{n=o.next;var A=w=null,B=null,K=n,W=!1;do{var it=K.lane&-536870913;if(it!==K.lane?(kt&it)===it:(gi&it)===it){var G=K.revertLane;if(G===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),it===Ta&&(W=!0);else if((gi&G)===G){K=K.next,G===Ta&&(W=!0);continue}else it={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(A=B=it,w=f):B=B.next=it,Ot.lanes|=G,nr|=G;it=K.action,Vr&&r(f,it),f=K.hasEagerState?K.eagerState:r(f,it)}else G={lane:it,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(A=B=G,w=f):B=B.next=G,Ot.lanes|=it,nr|=it;K=K.next}while(K!==null&&K!==n);if(B===null?w=f:B.next=A,!rn(f,t.memoizedState)&&(be=!0,W&&(r=Na,r!==null)))throw r;t.memoizedState=f,t.baseState=w,t.baseQueue=B,l.lastRenderedState=f}return o===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hf(t){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,o=r.pending,f=n.memoizedState;if(o!==null){r.pending=null;var w=o=o.next;do f=t(f,w.action),w=w.next;while(w!==o);rn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function bp(t,n,r){var l=Ot,o=pe(),f=Dt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var w=!rn((Zt||o).memoizedState,r);if(w&&(o.memoizedState=r,be=!0),o=o.queue,yf(Ap.bind(null,l,o,t),[t]),o.getSnapshot!==n||w||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,Ia(9,{destroy:void 0},vp.bind(null,l,o,r,n),null),Jt===null)throw Error(s(349));f||(gi&127)!==0||wp(l,n,r)}return r}function wp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ot.updateQueue,n===null?(n=gu(),Ot.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function vp(t,n,r,l){n.value=r,n.getSnapshot=l,Sp(n)&&xp(t)}function Ap(t,n,r){return r(function(){Sp(n)&&xp(t)})}function Sp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!rn(t,r)}catch{return!0}}function xp(t){var n=kr(t,2);n!==null&&Qe(n,t,2)}function df(t){var n=Ge();if(typeof t=="function"){var r=t;if(t=r(),Vr){Gt(!0);try{r()}finally{Gt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:t},n}function _p(t,n,r,l){return t.baseState=r,ff(t,Zt,typeof l=="function"?l:mi)}function gv(t,n,r,l,o){if(vu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){f.listeners.push(w)}};I.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Tp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Tp(t,n){var r=n.action,l=n.payload,o=t.state;if(n.isTransition){var f=I.T,w={};I.T=w;try{var A=r(o,l),B=I.S;B!==null&&B(w,A),Np(t,n,A)}catch(K){pf(t,n,K)}finally{f!==null&&w.types!==null&&(f.types=w.types),I.T=f}}else try{f=r(o,l),Np(t,n,f)}catch(K){pf(t,n,K)}}function Np(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Up(t,n,l)},function(l){return pf(t,n,l)}):Up(t,n,r)}function Up(t,n,r){n.status="fulfilled",n.value=r,Op(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Tp(t,r)))}function pf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Op(n),n=n.next;while(n!==l)}t.action=null}function Op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Bp(t,n){return n}function Cp(t,n){if(Dt){var r=Jt.formState;if(r!==null){t:{var l=Ot;if(Dt){if(ne){e:{for(var o=ne,f=An;o.nodeType!==8;){if(!f){o=null;break e}if(o=xn(o.nextSibling),o===null){o=null;break e}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){ne=xn(o.nextSibling),l=o.data==="F!";break t}}qi(l)}l=!1}l&&(n=r[0])}}return r=Ge(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bp,lastRenderedState:n},r.queue=l,r=Zp.bind(null,Ot,l),l.dispatch=r,l=df(!1),f=wf.bind(null,Ot,!1,l.queue),l=Ge(),o={state:n,dispatch:null,action:t,pending:null},l.queue=o,r=gv.bind(null,Ot,o,f,r),o.dispatch=r,l.memoizedState=t,[n,r,!1]}function Rp(t){var n=pe();return Ip(n,Zt,t)}function Ip(t,n,r){if(n=ff(t,n,Bp)[0],t=Eu(mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=zs(n)}catch(w){throw w===Ua?uu:w}else l=n;n=pe();var o=n.queue,f=o.dispatch;return r!==n.memoizedState&&(Ot.flags|=2048,Ia(9,{destroy:void 0},mv.bind(null,o,r),null)),[l,f,t]}function mv(t,n){t.action=n}function Hp(t){var n=pe(),r=Zt;if(r!==null)return Ip(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ia(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ot.updateQueue,n===null&&(n=gu(),Ot.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function kp(){return pe().memoizedState}function bu(t,n,r,l){var o=Ge();Ot.flags|=t,o.memoizedState=Ia(1|n,{destroy:void 0},r,l===void 0?null:l)}function wu(t,n,r,l){var o=pe();l=l===void 0?null:l;var f=o.memoizedState.inst;Zt!==null&&l!==null&&af(l,Zt.memoizedState.deps)?o.memoizedState=Ia(n,f,r,l):(Ot.flags|=t,o.memoizedState=Ia(1|n,f,r,l))}function Mp(t,n){bu(8390656,8,t,n)}function yf(t,n){wu(2048,8,t,n)}function Ev(t){Ot.flags|=4;var n=Ot.updateQueue;if(n===null)n=gu(),Ot.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Dp(t){var n=pe().memoizedState;return Ev({ref:n,nextImpl:t}),function(){if((Xt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function zp(t,n){return wu(4,2,t,n)}function Lp(t,n){return wu(4,4,t,n)}function jp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Kp(t,n,r){r=r!=null?r.concat([t]):null,wu(4,4,jp.bind(null,n,t),r)}function gf(){}function Gp(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&af(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Xp(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&af(n,l[1]))return l[0];if(l=t(),Vr){Gt(!0);try{t()}finally{Gt(!1)}}return r.memoizedState=[l,n],l}function mf(t,n,r){return r===void 0||(gi&1073741824)!==0&&(kt&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Vy(),Ot.lanes|=t,nr|=t,r)}function Vp(t,n,r,l){return rn(r,n)?r:Ba.current!==null?(t=mf(t,r,l),rn(t,n)||(be=!0),t):(gi&42)===0||(gi&1073741824)!==0&&(kt&261930)===0?(be=!0,t.memoizedState=r):(t=Vy(),Ot.lanes|=t,nr|=t,n)}function Yp(t,n,r,l,o){var f=q.p;q.p=f!==0&&8>f?f:8;var w=I.T,A={};I.T=A,wf(t,!1,n,r);try{var B=o(),K=I.S;if(K!==null&&K(A,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var W=dv(B,l);Ls(t,n,W,cn(t))}else Ls(t,n,l,cn(t))}catch(it){Ls(t,n,{then:function(){},status:"rejected",reason:it},cn())}finally{q.p=f,w!==null&&A.types!==null&&(w.types=A.types),I.T=w}}function bv(){}function Ef(t,n,r,l){if(t.tag!==5)throw Error(s(476));var o=Fp(t).queue;Yp(t,o,n,rt,r===null?bv:function(){return qp(t),r(l)})}function Fp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function qp(t){var n=Fp(t);n.next===null&&(n=t.alternate.memoizedState),Ls(t,n.next.queue,{},cn())}function bf(){return Ce(nl)}function Pp(){return pe().memoizedState}function $p(){return pe().memoizedState}function wv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Zi(r);var l=Qi(n,t,r);l!==null&&(Qe(l,n,r),Hs(l,n,r)),n={cache:qc()},t.payload=n;return}n=n.return}}function vv(t,n,r){var l=cn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},vu(t)?Qp(n,r):(r=Mc(t,n,r,l),r!==null&&(Qe(r,t,l),Wp(r,n,l)))}function Zp(t,n,r){var l=cn();Ls(t,n,r,l)}function Ls(t,n,r,l){var o={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(vu(t))Qp(n,o);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var w=n.lastRenderedState,A=f(w,r);if(o.hasEagerState=!0,o.eagerState=A,rn(A,w))return eu(t,n,o,0),Jt===null&&tu(),!1}catch{}if(r=Mc(t,n,o,l),r!==null)return Qe(r,t,l),Wp(r,n,l),!0}return!1}function wf(t,n,r,l){if(l={lane:2,revertLane:Wf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vu(t)){if(n)throw Error(s(479))}else n=Mc(t,r,l,2),n!==null&&Qe(n,t,2)}function vu(t){var n=t.alternate;return t===Ot||n!==null&&n===Ot}function Qp(t,n){Ca=pu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Wp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,i0(t,r)}}var js={readContext:Ce,use:mu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};js.useEffectEvent=le;var Jp={readContext:Ce,use:mu,useCallback:function(t,n){return Ge().memoizedState=[t,n===void 0?null:n],t},useContext:Ce,useEffect:Mp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,bu(4194308,4,jp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return bu(4194308,4,t,n)},useInsertionEffect:function(t,n){bu(4,2,t,n)},useMemo:function(t,n){var r=Ge();n=n===void 0?null:n;var l=t();if(Vr){Gt(!0);try{t()}finally{Gt(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ge();if(r!==void 0){var o=r(n);if(Vr){Gt(!0);try{r(n)}finally{Gt(!1)}}}else o=n;return l.memoizedState=l.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},l.queue=t,t=t.dispatch=vv.bind(null,Ot,t),[l.memoizedState,t]},useRef:function(t){var n=Ge();return t={current:t},n.memoizedState=t},useState:function(t){t=df(t);var n=t.queue,r=Zp.bind(null,Ot,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:gf,useDeferredValue:function(t,n){var r=Ge();return mf(r,t,n)},useTransition:function(){var t=df(!1);return t=Yp.bind(null,Ot,t.queue,!0,!1),Ge().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ot,o=Ge();if(Dt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(kt&127)!==0||wp(l,n,r)}o.memoizedState=r;var f={value:r,getSnapshot:n};return o.queue=f,Mp(Ap.bind(null,l,f,t),[t]),l.flags|=2048,Ia(9,{destroy:void 0},vp.bind(null,l,f,r,n),null),r},useId:function(){var t=Ge(),n=Jt.identifierPrefix;if(Dt){var r=Pn,l=qn;r=(l&~(1<<32-Ct(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=yu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=pv++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:bf,useFormState:Cp,useActionState:Cp,useOptimistic:function(t){var n=Ge();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=wf.bind(null,Ot,!0,r),r.dispatch=n,[t,n]},useMemoCache:cf,useCacheRefresh:function(){return Ge().memoizedState=wv.bind(null,Ot)},useEffectEvent:function(t){var n=Ge(),r={impl:t};return n.memoizedState=r,function(){if((Xt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},vf={readContext:Ce,use:mu,useCallback:Gp,useContext:Ce,useEffect:yf,useImperativeHandle:Kp,useInsertionEffect:zp,useLayoutEffect:Lp,useMemo:Xp,useReducer:Eu,useRef:kp,useState:function(){return Eu(mi)},useDebugValue:gf,useDeferredValue:function(t,n){var r=pe();return Vp(r,Zt.memoizedState,t,n)},useTransition:function(){var t=Eu(mi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:zs(t),n]},useSyncExternalStore:bp,useId:Pp,useHostTransitionStatus:bf,useFormState:Rp,useActionState:Rp,useOptimistic:function(t,n){var r=pe();return _p(r,Zt,t,n)},useMemoCache:cf,useCacheRefresh:$p};vf.useEffectEvent=Dp;var ty={readContext:Ce,use:mu,useCallback:Gp,useContext:Ce,useEffect:yf,useImperativeHandle:Kp,useInsertionEffect:zp,useLayoutEffect:Lp,useMemo:Xp,useReducer:hf,useRef:kp,useState:function(){return hf(mi)},useDebugValue:gf,useDeferredValue:function(t,n){var r=pe();return Zt===null?mf(r,t,n):Vp(r,Zt.memoizedState,t,n)},useTransition:function(){var t=hf(mi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:zs(t),n]},useSyncExternalStore:bp,useId:Pp,useHostTransitionStatus:bf,useFormState:Hp,useActionState:Hp,useOptimistic:function(t,n){var r=pe();return Zt!==null?_p(r,Zt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:cf,useCacheRefresh:$p};ty.useEffectEvent=Dp;function Af(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),o=Zi(l);o.payload=n,r!=null&&(o.callback=r),n=Qi(t,o,l),n!==null&&(Qe(n,t,l),Hs(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),o=Zi(l);o.tag=1,o.payload=n,r!=null&&(o.callback=r),n=Qi(t,o,l),n!==null&&(Qe(n,t,l),Hs(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Zi(r);l.tag=2,n!=null&&(l.callback=n),n=Qi(t,l,r),n!==null&&(Qe(n,t,r),Hs(n,t,r))}};function ey(t,n,r,l,o,f,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,w):n.prototype&&n.prototype.isPureReactComponent?!Ts(r,l)||!Ts(o,f):!0}function ny(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Sf.enqueueReplaceState(n,n.state,null)}function Yr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var o in t)r[o]===void 0&&(r[o]=t[o])}return r}function iy(t){Jl(t)}function ry(t){console.error(t)}function ay(t){Jl(t)}function Au(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function sy(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function xf(t,n,r){return r=Zi(r),r.tag=3,r.payload={element:null},r.callback=function(){Au(t,n)},r}function ly(t){return t=Zi(t),t.tag=3,t}function uy(t,n,r,l){var o=r.type.getDerivedStateFromError;if(typeof o=="function"){var f=l.value;t.payload=function(){return o(f)},t.callback=function(){sy(n,r,l)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){sy(n,r,l),typeof o!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function Av(t,n,r,l,o){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&_a(n,r,o,!0),r=sn.current,r!==null){switch(r.tag){case 31:case 13:return Sn===null?Hu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=o,l===ou?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),$f(t,l,o)),!1;case 22:return r.flags|=65536,l===ou?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),$f(t,l,o)),!1}throw Error(s(435,r.tag))}return $f(t,l,o),Hu(),!1}if(Dt)return n=sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=o,l!==Gc&&(t=Error(s(422),{cause:l}),Os(bn(t,r)))):(l!==Gc&&(n=Error(s(423),{cause:l}),Os(bn(n,r))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,l=bn(l,r),o=xf(t.stateNode,l,o),Jc(t,o),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,r),Ps===null?Ps=[f]:Ps.push(f),ue!==4&&(ue=2),n===null)return!0;l=bn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=o&-o,r.lanes|=t,t=xf(r.stateNode,l,t),Jc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ir===null||!ir.has(f))))return r.flags|=65536,o&=-o,r.lanes|=o,o=ly(o),uy(o,t,r,l),Jc(r,o),!1}r=r.return}while(r!==null);return!1}var _f=Error(s(461)),be=!1;function Re(t,n,r,l){n.child=t===null?hp(n,null,r,l):Xr(n,t.child,r,l)}function oy(t,n,r,l,o){r=r.render;var f=n.ref;if("ref"in l){var w={};for(var A in l)A!=="ref"&&(w[A]=l[A])}else w=l;return Lr(n),l=sf(t,n,r,w,f,o),A=lf(),t!==null&&!be?(uf(t,n,o),Ei(t,n,o)):(Dt&&A&&jc(n),n.flags|=1,Re(t,n,l,o),n.child)}function cy(t,n,r,l,o){if(t===null){var f=r.type;return typeof f=="function"&&!Dc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,fy(t,n,f,l,o)):(t=iu(r.type,null,l,n,n.mode,o),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!If(t,o)){var w=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ts,r(w,l)&&t.ref===n.ref)return Ei(t,n,o)}return n.flags|=1,t=hi(f,l),t.ref=n.ref,t.return=n,n.child=t}function fy(t,n,r,l,o){if(t!==null){var f=t.memoizedProps;if(Ts(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,If(t,o))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,Ei(t,n,o)}return Tf(t,n,r,l,o)}function hy(t,n,r,l){var o=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~f}else l=0,n.child=null;return dy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&lu(n,f!==null?f.cachePool:null),f!==null?yp(n,f):ef(),gp(n);else return l=n.lanes=536870912,dy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(lu(n,f.cachePool),yp(n,f),Ji(),n.memoizedState=null):(t!==null&&lu(n,null),ef(),Ji());return Re(t,n,o,r),n.child}function Ks(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(t,n,r,l,o){var f=$c();return f=f===null?null:{parent:me._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&lu(n,null),ef(),gp(n),t!==null&&_a(t,n,l,!0),n.childLanes=o,null}function Su(t,n){return n=_u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function py(t,n,r){return Xr(n,t.child,null,r),t=Su(n,n.pendingProps),t.flags|=2,ln(n),n.memoizedState=null,t}function Sv(t,n,r){var l=n.pendingProps,o=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Dt){if(l.mode==="hidden")return t=Su(n,l),n.lanes=536870912,Ks(null,t);if(rf(n),(t=ne)?(t=Tg(t,An),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Yi!==null?{id:qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},r=Q0(t),r.return=n,n.child=r,Be=n,ne=null)):t=null,t===null)throw qi(n);return n.lanes=536870912,null}return Su(n,l)}var f=t.memoizedState;if(f!==null){var w=f.dehydrated;if(rf(n),o)if(n.flags&256)n.flags&=-257,n=py(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||_a(t,n,r,!1),o=(r&t.childLanes)!==0,be||o){if(l=Jt,l!==null&&(w=r0(l,r),w!==0&&w!==f.retryLane))throw f.retryLane=w,kr(t,w),Qe(l,t,w),_f;Hu(),n=py(t,n,r)}else t=f.treeContext,ne=xn(w.nextSibling),Be=n,Dt=!0,Fi=null,An=!1,t!==null&&tp(n,t),n=Su(n,l),n.flags|=4096;return n}return t=hi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function xu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Tf(t,n,r,l,o){return Lr(n),r=sf(t,n,r,l,void 0,o),l=lf(),t!==null&&!be?(uf(t,n,o),Ei(t,n,o)):(Dt&&l&&jc(n),n.flags|=1,Re(t,n,r,o),n.child)}function yy(t,n,r,l,o,f){return Lr(n),n.updateQueue=null,r=Ep(n,l,r,o),mp(t),l=lf(),t!==null&&!be?(uf(t,n,f),Ei(t,n,f)):(Dt&&l&&jc(n),n.flags|=1,Re(t,n,r,f),n.child)}function gy(t,n,r,l,o){if(Lr(n),n.stateNode===null){var f=va,w=r.contextType;typeof w=="object"&&w!==null&&(f=Ce(w)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Qc(n),w=r.contextType,f.context=typeof w=="object"&&w!==null?Ce(w):va,f.state=n.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(Af(n,r,w,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(w=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),w!==f.state&&Sf.enqueueReplaceState(f,f.state,null),Ms(n,l,f,o),ks(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var A=n.memoizedProps,B=Yr(r,A);f.props=B;var K=f.context,W=r.contextType;w=va,typeof W=="object"&&W!==null&&(w=Ce(W));var it=r.getDerivedStateFromProps;W=typeof it=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||K!==w)&&ny(n,f,l,w),$i=!1;var G=n.memoizedState;f.state=G,Ms(n,l,f,o),ks(),K=n.memoizedState,A||G!==K||$i?(typeof it=="function"&&(Af(n,r,it,l),K=n.memoizedState),(B=$i||ey(n,r,B,l,G,K,w))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=w,l=B):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Wc(t,n),w=n.memoizedProps,W=Yr(r,w),f.props=W,it=n.pendingProps,G=f.context,K=r.contextType,B=va,typeof K=="object"&&K!==null&&(B=Ce(K)),A=r.getDerivedStateFromProps,(K=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==it||G!==B)&&ny(n,f,l,B),$i=!1,G=n.memoizedState,f.state=G,Ms(n,l,f,o),ks();var F=n.memoizedState;w!==it||G!==F||$i||t!==null&&t.dependencies!==null&&au(t.dependencies)?(typeof A=="function"&&(Af(n,r,A,l),F=n.memoizedState),(W=$i||ey(n,r,W,l,G,F,B)||t!==null&&t.dependencies!==null&&au(t.dependencies))?(K||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,B),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,B)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=B,l=W):(typeof f.componentDidUpdate!="function"||w===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,xu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xr(n,t.child,null,o),n.child=Xr(n,null,r,o)):Re(t,n,r,o),n.memoizedState=f.state,t=n.child):t=Ei(t,n,o),t}function my(t,n,r,l){return Dr(),n.flags|=256,Re(t,n,r,l),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:sp()}}function Of(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=on),t}function Ey(t,n,r){var l=n.pendingProps,o=!1,f=(n.flags&128)!==0,w;if((w=f)||(w=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),w&&(o=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,t===null){if(Dt){if(o?Wi(n):Ji(),(t=ne)?(t=Tg(t,An),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Yi!==null?{id:qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},r=Q0(t),r.return=n,n.child=r,Be=n,ne=null)):t=null,t===null)throw qi(n);return fh(t)?n.lanes=32:n.lanes=536870912,null}var A=l.children;return l=l.fallback,o?(Ji(),o=n.mode,A=_u({mode:"hidden",children:A},o),l=Mr(l,o,r,null),A.return=n,l.return=n,A.sibling=l,n.child=A,l=n.child,l.memoizedState=Uf(r),l.childLanes=Of(t,w,r),n.memoizedState=Nf,Ks(null,l)):(Wi(n),Bf(n,A))}var B=t.memoizedState;if(B!==null&&(A=B.dehydrated,A!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=Cf(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),A=l.fallback,o=n.mode,l=_u({mode:"visible",children:l.children},o),A=Mr(A,o,r,null),A.flags|=2,l.return=n,A.return=n,l.sibling=A,n.child=l,Xr(n,t.child,null,r),l=n.child,l.memoizedState=Uf(r),l.childLanes=Of(t,w,r),n.memoizedState=Nf,n=Ks(null,l));else if(Wi(n),fh(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var K=w.dgst;w=K,l=Error(s(419)),l.stack="",l.digest=w,Os({value:l,source:null,stack:null}),n=Cf(t,n,r)}else if(be||_a(t,n,r,!1),w=(r&t.childLanes)!==0,be||w){if(w=Jt,w!==null&&(l=r0(w,r),l!==0&&l!==B.retryLane))throw B.retryLane=l,kr(t,l),Qe(w,t,l),_f;ch(A)||Hu(),n=Cf(t,n,r)}else ch(A)?(n.flags|=192,n.child=t.child,n=null):(t=B.treeContext,ne=xn(A.nextSibling),Be=n,Dt=!0,Fi=null,An=!1,t!==null&&tp(n,t),n=Bf(n,l.children),n.flags|=4096);return n}return o?(Ji(),A=l.fallback,o=n.mode,B=t.child,K=B.sibling,l=hi(B,{mode:"hidden",children:l.children}),l.subtreeFlags=B.subtreeFlags&65011712,K!==null?A=hi(K,A):(A=Mr(A,o,r,null),A.flags|=2),A.return=n,l.return=n,l.sibling=A,n.child=l,Ks(null,l),l=n.child,A=t.child.memoizedState,A===null?A=Uf(r):(o=A.cachePool,o!==null?(B=me._currentValue,o=o.parent!==B?{parent:B,pool:B}:o):o=sp(),A={baseLanes:A.baseLanes|r,cachePool:o}),l.memoizedState=A,l.childLanes=Of(t,w,r),n.memoizedState=Nf,Ks(t.child,l)):(Wi(n),r=t.child,t=r.sibling,r=hi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(w=n.deletions,w===null?(n.deletions=[t],n.flags|=16):w.push(t)),n.child=r,n.memoizedState=null,r)}function Bf(t,n){return n=_u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function _u(t,n){return t=an(22,t,null,n),t.lanes=0,t}function Cf(t,n,r){return Xr(n,t.child,null,r),t=Bf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function by(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Yc(t.return,n,r)}function Rf(t,n,r,l,o,f){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:o,treeForkCount:f}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=r,w.tailMode=o,w.treeForkCount=f)}function wy(t,n,r){var l=n.pendingProps,o=l.revealOrder,f=l.tail;l=l.children;var w=de.current,A=(w&2)!==0;if(A?(w=w&1|2,n.flags|=128):w&=1,at(de,w),Re(t,n,l,r),l=Dt?Us:0,!A&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&by(t,r,n);else if(t.tag===19)by(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(o){case"forwards":for(r=n.child,o=null;r!==null;)t=r.alternate,t!==null&&du(t)===null&&(o=r),r=r.sibling;r=o,r===null?(o=n.child,n.child=null):(o=r.sibling,r.sibling=null),Rf(n,!1,o,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,o=n.child,n.child=null;o!==null;){if(t=o.alternate,t!==null&&du(t)===null){n.child=o;break}t=o.sibling,o.sibling=r,r=o,o=t}Rf(n,!0,r,null,f,l);break;case"together":Rf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ei(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),nr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(_a(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=hi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=hi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function If(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&au(t)))}function xv(t,n,r){switch(n.tag){case 3:Lt(n,n.stateNode.containerInfo),Pi(n,me,t.memoizedState.cache),Dr();break;case 27:case 5:ee(n);break;case 4:Lt(n,n.stateNode.containerInfo);break;case 10:Pi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ey(t,n,r):(Wi(n),t=Ei(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var o=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(_a(t,n,r,!1),l=(r&n.childLanes)!==0),o){if(l)return wy(t,n,r);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),at(de,de.current),l)break;return null;case 22:return n.lanes=0,hy(t,n,r,n.pendingProps);case 24:Pi(n,me,t.memoizedState.cache)}return Ei(t,n,r)}function vy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!If(t,r)&&(n.flags&128)===0)return be=!1,xv(t,n,r);be=(t.flags&131072)!==0}else be=!1,Dt&&(n.flags&1048576)!==0&&J0(n,Us,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Kr(n.elementType),n.type=t,typeof t=="function")Dc(t)?(l=Yr(t,l),n.tag=1,n=gy(null,n,t,l,r)):(n.tag=0,n=Tf(null,n,t,l,r));else{if(t!=null){var o=t.$$typeof;if(o===z){n.tag=11,n=oy(null,n,t,l,r);break t}else if(o===P){n.tag=14,n=cy(null,n,t,l,r);break t}}throw n=Z(t)||t,Error(s(306,n,""))}}return n;case 0:return Tf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,o=Yr(l,n.pendingProps),gy(t,n,l,o,r);case 3:t:{if(Lt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;o=f.element,Wc(t,n),Ms(n,l,null,r);var w=n.memoizedState;if(l=w.cache,Pi(n,me,l),l!==f.cache&&Fc(n,[me],r,!0),ks(),l=w.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(t,n,l,r);break t}else if(l!==o){o=bn(Error(s(424)),n),Os(o),n=my(t,n,l,r);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ne=xn(t.firstChild),Be=n,Dt=!0,Fi=null,An=!0,r=hp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dr(),l===o){n=Ei(t,n,r);break t}Re(t,n,l,r)}n=n.child}return n;case 26:return xu(t,n),t===null?(r=Rg(n.type,null,n.pendingProps,null))?n.memoizedState=r:Dt||(r=n.type,t=n.pendingProps,l=Ku(dt.current).createElement(r),l[Oe]=n,l[Ye]=t,Ie(l,r,t),Ne(l),n.stateNode=l):n.memoizedState=Rg(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ee(n),t===null&&Dt&&(l=n.stateNode=Og(n.type,n.pendingProps,dt.current),Be=n,An=!0,o=ne,lr(n.type)?(hh=o,ne=xn(l.firstChild)):ne=o),Re(t,n,n.pendingProps.children,r),xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Dt&&((o=l=ne)&&(l=tA(l,n.type,n.pendingProps,An),l!==null?(n.stateNode=l,Be=n,ne=xn(l.firstChild),An=!1,o=!0):o=!1),o||qi(n)),ee(n),o=n.type,f=n.pendingProps,w=t!==null?t.memoizedProps:null,l=f.children,lh(o,f)?l=null:w!==null&&lh(o,w)&&(n.flags|=32),n.memoizedState!==null&&(o=sf(t,n,yv,null,null,r),nl._currentValue=o),xu(t,n),Re(t,n,l,r),n.child;case 6:return t===null&&Dt&&((t=r=ne)&&(r=eA(r,n.pendingProps,An),r!==null?(n.stateNode=r,Be=n,ne=null,t=!0):t=!1),t||qi(n)),null;case 13:return Ey(t,n,r);case 4:return Lt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xr(n,null,l,r):Re(t,n,l,r),n.child;case 11:return oy(t,n,n.type,n.pendingProps,r);case 7:return Re(t,n,n.pendingProps,r),n.child;case 8:return Re(t,n,n.pendingProps.children,r),n.child;case 12:return Re(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Pi(n,n.type,l.value),Re(t,n,l.children,r),n.child;case 9:return o=n.type._context,l=n.pendingProps.children,Lr(n),o=Ce(o),l=l(o),n.flags|=1,Re(t,n,l,r),n.child;case 14:return cy(t,n,n.type,n.pendingProps,r);case 15:return fy(t,n,n.type,n.pendingProps,r);case 19:return wy(t,n,r);case 31:return Sv(t,n,r);case 22:return hy(t,n,r,n.pendingProps);case 24:return Lr(n),l=Ce(me),t===null?(o=$c(),o===null&&(o=Jt,f=qc(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=r),o=f),n.memoizedState={parent:l,cache:o},Qc(n),Pi(n,me,o)):((t.lanes&r)!==0&&(Wc(t,n),Ms(n,null,null,r),ks()),o=t.memoizedState,f=n.memoizedState,o.parent!==l?(o={parent:l,cache:l},n.memoizedState=o,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=o),Pi(n,me,l)):(l=f.cache,Pi(n,me,l),l!==o.cache&&Fc(n,[me],r,!0))),Re(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function bi(t){t.flags|=4}function Hf(t,n,r,l,o){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(o&335544128)===o)if(t.stateNode.complete)t.flags|=8192;else if(Py())t.flags|=8192;else throw Gr=ou,Zc}else t.flags&=-16777217}function Ay(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dg(n))if(Py())t.flags|=8192;else throw Gr=ou,Zc}function Tu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?e0():536870912,t.lanes|=n,Da|=n)}function Gs(t,n){if(!Dt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var o=t.child;o!==null;)r|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)r|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function _v(t,n,r){var l=n.pendingProps;switch(Kc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),yi(me),xt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xa(n)?bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xc())),ie(n),null;case 26:var o=n.type,f=n.memoizedState;return t===null?(bi(n),f!==null?(ie(n),Ay(n,f)):(ie(n),Hf(n,o,null,l,r))):f?f!==t.memoizedState?(bi(n),ie(n),Ay(n,f)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&bi(n),ie(n),Hf(n,o,t,l,r)),null;case 27:if(Mn(n),r=dt.current,o=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=st.current,xa(n)?ep(n):(t=Og(o,l,r),n.stateNode=t,bi(n))}return ie(n),null;case 5:if(Mn(n),o=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(f=st.current,xa(n))ep(n);else{var w=Ku(dt.current);switch(f){case 1:f=w.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:f=w.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":f=w.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":f=w.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":f=w.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?w.createElement(o,{is:l.is}):w.createElement(o)}}f[Oe]=n,f[Ye]=l;t:for(w=n.child;w!==null;){if(w.tag===5||w.tag===6)f.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===n)break t;for(;w.sibling===null;){if(w.return===null||w.return===n)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}n.stateNode=f;t:switch(Ie(f,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&bi(n)}}return ie(n),Hf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=dt.current,xa(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,o=Be,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}t[Oe]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Eg(t.nodeValue,r)),t||qi(n,!0)}else t=Ku(t).createTextNode(l),t[Oe]=n,n.stateNode=t}return ie(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=xa(n),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Oe]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else r=Xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(ln(n),n):(ln(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=xa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!o)throw Error(s(318));if(o=n.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[Oe]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),o=!1}else o=Xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return n.flags&256?(ln(n),n):(ln(n),null)}return ln(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==o&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Tu(n,n.updateQueue),ie(n),null);case 4:return xt(),t===null&&nh(n.stateNode.containerInfo),ie(n),null;case 10:return yi(n.type),ie(n),null;case 19:if(L(de),l=n.memoizedState,l===null)return ie(n),null;if(o=(n.flags&128)!==0,f=l.rendering,f===null)if(o)Gs(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=du(t),f!==null){for(n.flags|=128,Gs(l,!1),t=f.updateQueue,n.updateQueue=t,Tu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Z0(r,t),r=r.sibling;return at(de,de.current&1|2),Dt&&di(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ke()>Cu&&(n.flags|=128,o=!0,Gs(l,!1),n.lanes=4194304)}else{if(!o)if(t=du(f),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,Tu(n,t),Gs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Dt)return ie(n),null}else 2*Ke()-l.renderingStartTime>Cu&&r!==536870912&&(n.flags|=128,o=!0,Gs(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,r=de.current,at(de,o?r&1|2:r&1),Dt&&di(n,l.treeForkCount),t):(ie(n),null);case 22:case 23:return ln(n),nf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Tu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&L(jr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),yi(me),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Tv(t,n){switch(Kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return yi(me),xt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Mn(n),null;case 31:if(n.memoizedState!==null){if(ln(n),n.alternate===null)throw Error(s(340));Dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(ln(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return L(de),null;case 4:return xt(),null;case 10:return yi(n.type),null;case 22:case 23:return ln(n),nf(),t!==null&&L(jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return yi(me),null;case 25:return null;default:return null}}function Sy(t,n){switch(Kc(n),n.tag){case 3:yi(me),xt();break;case 26:case 27:case 5:Mn(n);break;case 4:xt();break;case 31:n.memoizedState!==null&&ln(n);break;case 13:ln(n);break;case 19:L(de);break;case 10:yi(n.type);break;case 22:case 23:ln(n),nf(),t!==null&&L(jr);break;case 24:yi(me)}}function Xs(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var o=l.next;r=o;do{if((r.tag&t)===t){l=void 0;var f=r.create,w=r.inst;l=f(),w.destroy=l}r=r.next}while(r!==o)}}catch(A){qt(n,n.return,A)}}function tr(t,n,r){try{var l=n.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var f=o.next;l=f;do{if((l.tag&t)===t){var w=l.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,o=n;var B=r,K=A;try{K()}catch(W){qt(o,B,W)}}}l=l.next}while(l!==f)}}catch(W){qt(n,n.return,W)}}function xy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{pp(n,r)}catch(l){qt(t,t.return,l)}}}function _y(t,n,r){r.props=Yr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){qt(t,n,l)}}function Vs(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(o){qt(t,n,o)}}function $n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(o){qt(t,n,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(o){qt(t,n,o)}else r.current=null}function Ty(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(o){qt(t,t.return,o)}}function kf(t,n,r){try{var l=t.stateNode;Pv(l,t.type,r,n),l[Ye]=n}catch(o){qt(t,t.return,o)}}function Ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function Mf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Df(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ci));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Df(t,n,r),t=t.sibling;t!==null;)Df(t,n,r),t=t.sibling}function Nu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Nu(t,n,r),t=t.sibling;t!==null;)Nu(t,n,r),t=t.sibling}function Uy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,o=n.attributes;o.length;)n.removeAttributeNode(o[0]);Ie(n,l,r),n[Oe]=t,n[Ye]=r}catch(f){qt(t,t.return,f)}}var wi=!1,we=!1,zf=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Nv(t,n){if(t=t.containerInfo,ah=Pu,t=K0(t),Bc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var o=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var w=0,A=-1,B=-1,K=0,W=0,it=t,G=null;e:for(;;){for(var F;it!==r||o!==0&&it.nodeType!==3||(A=w+o),it!==f||l!==0&&it.nodeType!==3||(B=w+l),it.nodeType===3&&(w+=it.nodeValue.length),(F=it.firstChild)!==null;)G=it,it=F;for(;;){if(it===t)break e;if(G===r&&++K===o&&(A=w),G===f&&++W===l&&(B=w),(F=it.nextSibling)!==null)break;it=G,G=it.parentNode}it=F}r=A===-1||B===-1?null:{start:A,end:B}}else r=null}r=r||{start:0,end:0}}else r=null;for(sh={focusedElem:t,selectionRange:r},Pu=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)o=t[r],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,o=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ht=Yr(r.type,o);t=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){qt(r,r.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)oh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":oh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function By(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ai(t,r),l&4&&Xs(5,r);break;case 1:if(Ai(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(w){qt(r,r.return,w)}else{var o=Yr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(o,n,t.__reactInternalSnapshotBeforeUpdate)}catch(w){qt(r,r.return,w)}}l&64&&xy(r),l&512&&Vs(r,r.return);break;case 3:if(Ai(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{pp(t,n)}catch(w){qt(r,r.return,w)}}break;case 27:n===null&&l&4&&Uy(r);case 26:case 5:Ai(t,r),n===null&&l&4&&Ty(r),l&512&&Vs(r,r.return);break;case 12:Ai(t,r);break;case 31:Ai(t,r),l&4&&Iy(t,r);break;case 13:Ai(t,r),l&4&&Hy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Mv.bind(null,r),nA(t,r))));break;case 22:if(l=r.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||we,o=wi;var f=we;wi=l,(we=n)&&!f?Si(t,r,(r.subtreeFlags&8772)!==0):Ai(t,r),wi=o,we=f}break;case 30:break;default:Ai(t,r)}}function Cy(t){var n=t.alternate;n!==null&&(t.alternate=null,Cy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&dc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,qe=!1;function vi(t,n,r){for(r=r.child;r!==null;)Ry(t,n,r),r=r.sibling}function Ry(t,n,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(tt,r)}catch{}switch(r.tag){case 26:we||$n(r,n),vi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:we||$n(r,n);var l=ae,o=qe;lr(r.type)&&(ae=r.stateNode,qe=!1),vi(t,n,r),Js(r.stateNode),ae=l,qe=o;break;case 5:we||$n(r,n);case 6:if(l=ae,o=qe,ae=null,vi(t,n,r),ae=l,qe=o,ae!==null)if(qe)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){qt(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){qt(r,n,f)}break;case 18:ae!==null&&(qe?(t=ae,xg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ya(t)):xg(ae,r.stateNode));break;case 4:l=ae,o=qe,ae=r.stateNode.containerInfo,qe=!0,vi(t,n,r),ae=l,qe=o;break;case 0:case 11:case 14:case 15:tr(2,r,n),we||tr(4,r,n),vi(t,n,r);break;case 1:we||($n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&_y(r,n,l)),vi(t,n,r);break;case 21:vi(t,n,r);break;case 22:we=(l=we)||r.memoizedState!==null,vi(t,n,r),we=l;break;default:vi(t,n,r)}}function Iy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(r){qt(n,n.return,r)}}}function Hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(r){qt(n,n.return,r)}}function Uv(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Oy),n;default:throw Error(s(435,t.tag))}}function Uu(t,n){var r=Uv(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var o=Dv.bind(null,t,l);l.then(o,o)}})}function Pe(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var o=r[l],f=t,w=n,A=w;t:for(;A!==null;){switch(A.tag){case 27:if(lr(A.type)){ae=A.stateNode,qe=!1;break t}break;case 5:ae=A.stateNode,qe=!1;break t;case 3:case 4:ae=A.stateNode.containerInfo,qe=!0;break t}A=A.return}if(ae===null)throw Error(s(160));Ry(f,w,o),ae=null,qe=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,t),n=n.sibling}var zn=null;function ky(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pe(n,t),$e(t),l&4&&(tr(3,t,t.return),Xs(3,t),tr(5,t,t.return));break;case 1:Pe(n,t),$e(t),l&512&&(we||r===null||$n(r,r.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var o=zn;if(Pe(n,t),$e(t),l&512&&(we||r===null||$n(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,o=o.ownerDocument||o;e:switch(l){case"title":f=o.getElementsByTagName("title")[0],(!f||f[ms]||f[Oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(l),o.head.insertBefore(f,o.querySelector("head > title"))),Ie(f,l,r),f[Oe]=t,Ne(f),l=f;break t;case"link":var w=kg("link","href",o).get(l+(r.href||""));if(w){for(var A=0;A<w.length;A++)if(f=w[A],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(A,1);break e}}f=o.createElement(l),Ie(f,l,r),o.head.appendChild(f);break;case"meta":if(w=kg("meta","content",o).get(l+(r.content||""))){for(A=0;A<w.length;A++)if(f=w[A],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(A,1);break e}}f=o.createElement(l),Ie(f,l,r),o.head.appendChild(f);break;default:throw Error(s(468,l))}f[Oe]=t,Ne(f),l=f}t.stateNode=l}else Mg(o,t.type,t.stateNode);else t.stateNode=Hg(o,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Mg(o,t.type,t.stateNode):Hg(o,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Pe(n,t),$e(t),l&512&&(we||r===null||$n(r,r.return)),r!==null&&l&4&&kf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Pe(n,t),$e(t),l&512&&(we||r===null||$n(r,r.return)),t.flags&32){o=t.stateNode;try{pa(o,"")}catch(ht){qt(t,t.return,ht)}}l&4&&t.stateNode!=null&&(o=t.memoizedProps,kf(t,o,r!==null?r.memoizedProps:o)),l&1024&&(zf=!0);break;case 6:if(Pe(n,t),$e(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ht){qt(t,t.return,ht)}}break;case 3:if(Vu=null,o=zn,zn=Gu(n.containerInfo),Pe(n,t),zn=o,$e(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ya(n.containerInfo)}catch(ht){qt(t,t.return,ht)}zf&&(zf=!1,My(t));break;case 4:l=zn,zn=Gu(t.stateNode.containerInfo),Pe(n,t),$e(t),zn=l;break;case 12:Pe(n,t),$e(t);break;case 31:Pe(n,t),$e(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uu(t,l)));break;case 13:Pe(n,t),$e(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Bu=Ke()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uu(t,l)));break;case 22:o=t.memoizedState!==null;var B=r!==null&&r.memoizedState!==null,K=wi,W=we;if(wi=K||o,we=W||B,Pe(n,t),we=W,wi=K,$e(t),l&8192)t:for(n=t.stateNode,n._visibility=o?n._visibility&-2:n._visibility|1,o&&(r===null||B||wi||we||Fr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){B=r=n;try{if(f=B.stateNode,o)w=f.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=B.stateNode;var it=B.memoizedProps.style,G=it!=null&&it.hasOwnProperty("display")?it.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ht){qt(B,B.return,ht)}}}else if(n.tag===6){if(r===null){B=n;try{B.stateNode.nodeValue=o?"":B.memoizedProps}catch(ht){qt(B,B.return,ht)}}}else if(n.tag===18){if(r===null){B=n;try{var F=B.stateNode;o?_g(F,!0):_g(B.stateNode,!1)}catch(ht){qt(B,B.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Uu(t,r))));break;case 19:Pe(n,t),$e(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uu(t,l)));break;case 30:break;case 21:break;default:Pe(n,t),$e(t)}}function $e(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ny(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var o=r.stateNode,f=Mf(t);Nu(t,f,o);break;case 5:var w=r.stateNode;r.flags&32&&(pa(w,""),r.flags&=-33);var A=Mf(t);Nu(t,A,w);break;case 3:case 4:var B=r.stateNode.containerInfo,K=Mf(t);Df(t,K,B);break;default:throw Error(s(161))}}catch(W){qt(t,t.return,W)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function My(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ai(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)By(t,n.alternate,n),n=n.sibling}function Fr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:tr(4,n,n.return),Fr(n);break;case 1:$n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&_y(n,n.return,r),Fr(n);break;case 27:Js(n.stateNode);case 26:case 5:$n(n,n.return),Fr(n);break;case 22:n.memoizedState===null&&Fr(n);break;case 30:Fr(n);break;default:Fr(n)}t=t.sibling}}function Si(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,o=t,f=n,w=f.flags;switch(f.tag){case 0:case 11:case 15:Si(o,f,r),Xs(4,f);break;case 1:if(Si(o,f,r),l=f,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(K){qt(l,l.return,K)}if(l=f,o=l.updateQueue,o!==null){var A=l.stateNode;try{var B=o.shared.hiddenCallbacks;if(B!==null)for(o.shared.hiddenCallbacks=null,o=0;o<B.length;o++)dp(B[o],A)}catch(K){qt(l,l.return,K)}}r&&w&64&&xy(f),Vs(f,f.return);break;case 27:Uy(f);case 26:case 5:Si(o,f,r),r&&l===null&&w&4&&Ty(f),Vs(f,f.return);break;case 12:Si(o,f,r);break;case 31:Si(o,f,r),r&&w&4&&Iy(o,f);break;case 13:Si(o,f,r),r&&w&4&&Hy(o,f);break;case 22:f.memoizedState===null&&Si(o,f,r),Vs(f,f.return);break;case 30:break;default:Si(o,f,r)}n=n.sibling}}function Lf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Bs(r))}function jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Bs(t))}function Ln(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(t,n,r,l),n=n.sibling}function Dy(t,n,r,l){var o=n.flags;switch(n.tag){case 0:case 11:case 15:Ln(t,n,r,l),o&2048&&Xs(9,n);break;case 1:Ln(t,n,r,l);break;case 3:Ln(t,n,r,l),o&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Bs(t)));break;case 12:if(o&2048){Ln(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,w=f.id,A=f.onPostCommit;typeof A=="function"&&A(w,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(B){qt(n,n.return,B)}}else Ln(t,n,r,l);break;case 31:Ln(t,n,r,l);break;case 13:Ln(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,w=n.alternate,n.memoizedState!==null?f._visibility&2?Ln(t,n,r,l):Ys(t,n):f._visibility&2?Ln(t,n,r,l):(f._visibility|=2,Ha(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),o&2048&&Lf(w,n);break;case 24:Ln(t,n,r,l),o&2048&&jf(n.alternate,n);break;default:Ln(t,n,r,l)}}function Ha(t,n,r,l,o){for(o=o&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,w=n,A=r,B=l,K=w.flags;switch(w.tag){case 0:case 11:case 15:Ha(f,w,A,B,o),Xs(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&2?Ha(f,w,A,B,o):Ys(f,w):(W._visibility|=2,Ha(f,w,A,B,o)),o&&K&2048&&Lf(w.alternate,w);break;case 24:Ha(f,w,A,B,o),o&&K&2048&&jf(w.alternate,w);break;default:Ha(f,w,A,B,o)}n=n.sibling}}function Ys(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,o=l.flags;switch(l.tag){case 22:Ys(r,l),o&2048&&Lf(l.alternate,l);break;case 24:Ys(r,l),o&2048&&jf(l.alternate,l);break;default:Ys(r,l)}n=n.sibling}}var Fs=8192;function ka(t,n,r){if(t.subtreeFlags&Fs)for(t=t.child;t!==null;)zy(t,n,r),t=t.sibling}function zy(t,n,r){switch(t.tag){case 26:ka(t,n,r),t.flags&Fs&&t.memoizedState!==null&&pA(r,zn,t.memoizedState,t.memoizedProps);break;case 5:ka(t,n,r);break;case 3:case 4:var l=zn;zn=Gu(t.stateNode.containerInfo),ka(t,n,r),zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Fs,Fs=16777216,ka(t,n,r),Fs=l):ka(t,n,r));break;default:ka(t,n,r)}}function Ly(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function qs(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ue=l,Ky(l,t)}Ly(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 0:case 11:case 15:qs(t),t.flags&2048&&tr(9,t,t.return);break;case 3:qs(t);break;case 12:qs(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ou(t)):qs(t);break;default:qs(t)}}function Ou(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ue=l,Ky(l,t)}Ly(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:tr(8,n,n.return),Ou(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ou(n));break;default:Ou(n)}t=t.sibling}}function Ky(t,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bs(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ue=l;else t:for(r=t;Ue!==null;){l=Ue;var o=l.sibling,f=l.return;if(Cy(l),l===r){Ue=null;break t}if(o!==null){o.return=f,Ue=o;break t}Ue=f}}}var Ov={getCacheForType:function(t){var n=Ce(me),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Ce(me).controller.signal}},Bv=typeof WeakMap=="function"?WeakMap:Map,Xt=0,Jt=null,Rt=null,kt=0,Ft=0,un=null,er=!1,Ma=!1,Kf=!1,xi=0,ue=0,nr=0,qr=0,Gf=0,on=0,Da=0,Ps=null,Ze=null,Xf=!1,Bu=0,Gy=0,Cu=1/0,Ru=null,ir=null,Ae=0,rr=null,za=null,_i=0,Vf=0,Yf=null,Xy=null,$s=0,Ff=null;function cn(){return(Xt&2)!==0&&kt!==0?kt&-kt:I.T!==null?Wf():a0()}function Vy(){if(on===0)if((kt&536870912)===0||Dt){var t=jl;jl<<=1,(jl&3932160)===0&&(jl=262144),on=t}else on=536870912;return t=sn.current,t!==null&&(t.flags|=32),on}function Qe(t,n,r){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(La(t,0),ar(t,kt,on,!1)),gs(t,r),((Xt&2)===0||t!==Jt)&&(t===Jt&&((Xt&2)===0&&(qr|=r),ue===4&&ar(t,kt,on,!1)),Zn(t))}function Yy(t,n,r){if((Xt&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ys(t,n),o=l?Iv(t,n):Pf(t,n,!0),f=l;do{if(o===0){Ma&&!l&&ar(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!Cv(r)){o=Pf(t,n,!1),f=!1;continue}if(o===2){if(f=n,t.errorRecoveryDisabledLanes&f)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;t:{var A=t;o=Ps;var B=A.current.memoizedState.isDehydrated;if(B&&(La(A,w).flags|=256),w=Pf(A,w,!1),w!==2){if(Kf&&!B){A.errorRecoveryDisabledLanes|=f,qr|=f,o=4;break t}f=Ze,Ze=o,f!==null&&(Ze===null?Ze=f:Ze.push.apply(Ze,f))}o=w}if(f=!1,o!==2)continue}}if(o===1){La(t,0),ar(t,n,0,!0);break}t:{switch(l=t,f=o,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ar(l,n,on,!er);break t;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(o=Bu+300-Ke(),10<o)){if(ar(l,n,on,!er),Gl(l,0,!0)!==0)break t;_i=n,l.timeoutHandle=Ag(Fy.bind(null,l,r,Ze,Ru,Xf,n,on,qr,Da,er,f,"Throttled",-0,0),o);break t}Fy(l,r,Ze,Ru,Xf,n,on,qr,Da,er,f,null,-0,0)}}break}while(!0);Zn(t)}function Fy(t,n,r,l,o,f,w,A,B,K,W,it,G,F){if(t.timeoutHandle=-1,it=n.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},zy(n,f,it);var ht=(f&62914560)===f?Bu-Ke():(f&4194048)===f?Gy-Ke():0;if(ht=yA(it,ht),ht!==null){_i=f,t.cancelPendingCommit=ht(tg.bind(null,t,n,f,r,l,o,w,A,B,W,it,null,G,F)),ar(t,f,w,!K);return}}tg(t,n,f,r,l,o,w,A,B)}function Cv(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var o=r[l],f=o.getSnapshot;o=o.value;try{if(!rn(f(),o))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ar(t,n,r,l){n&=~Gf,n&=~qr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var o=n;0<o;){var f=31-Ct(o),w=1<<f;l[f]=-1,o&=~w}r!==0&&n0(t,r,n)}function Iu(){return(Xt&6)===0?(Zs(0),!1):!0}function qf(){if(Rt!==null){if(Ft===0)var t=Rt.return;else t=Rt,pi=zr=null,of(t),Oa=null,Rs=0,t=Rt;for(;t!==null;)Sy(t.alternate,t),t=t.return;Rt=null}}function La(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Qv(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),_i=0,qf(),Jt=t,Rt=r=hi(t.current,null),kt=n,Ft=0,un=null,er=!1,Ma=ys(t,n),Kf=!1,Da=on=Gf=qr=nr=ue=0,Ze=Ps=null,Xf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var o=31-Ct(l),f=1<<o;n|=t[o],l&=~f}return xi=n,tu(),r}function qy(t,n){Ot=null,I.H=js,n===Ua||n===uu?(n=op(),Ft=3):n===Zc?(n=op(),Ft=4):Ft=n===_f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Rt===null&&(ue=1,Au(t,bn(n,t.current)))}function Py(){var t=sn.current;return t===null?!0:(kt&4194048)===kt?Sn===null:(kt&62914560)===kt||(kt&536870912)!==0?t===Sn:!1}function $y(){var t=I.H;return I.H=js,t===null?js:t}function Zy(){var t=I.A;return I.A=Ov,t}function Hu(){ue=4,er||(kt&4194048)!==kt&&sn.current!==null||(Ma=!0),(nr&134217727)===0&&(qr&134217727)===0||Jt===null||ar(Jt,kt,on,!1)}function Pf(t,n,r){var l=Xt;Xt|=2;var o=$y(),f=Zy();(Jt!==t||kt!==n)&&(Ru=null,La(t,n)),n=!1;var w=ue;t:do try{if(Ft!==0&&Rt!==null){var A=Rt,B=un;switch(Ft){case 8:qf(),w=6;break t;case 3:case 2:case 9:case 6:sn.current===null&&(n=!0);var K=Ft;if(Ft=0,un=null,ja(t,A,B,K),r&&Ma){w=0;break t}break;default:K=Ft,Ft=0,un=null,ja(t,A,B,K)}}Rv(),w=ue;break}catch(W){qy(t,W)}while(!0);return n&&t.shellSuspendCounter++,pi=zr=null,Xt=l,I.H=o,I.A=f,Rt===null&&(Jt=null,kt=0,tu()),w}function Rv(){for(;Rt!==null;)Qy(Rt)}function Iv(t,n){var r=Xt;Xt|=2;var l=$y(),o=Zy();Jt!==t||kt!==n?(Ru=null,Cu=Ke()+500,La(t,n)):Ma=ys(t,n);t:do try{if(Ft!==0&&Rt!==null){n=Rt;var f=un;e:switch(Ft){case 1:Ft=0,un=null,ja(t,n,f,1);break;case 2:case 9:if(lp(f)){Ft=0,un=null,Wy(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),Zn(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:lp(f)?(Ft=0,un=null,Wy(n)):(Ft=0,un=null,ja(t,n,f,7));break;case 5:var w=null;switch(Rt.tag){case 26:w=Rt.memoizedState;case 5:case 27:var A=Rt;if(w?Dg(w):A.stateNode.complete){Ft=0,un=null;var B=A.sibling;if(B!==null)Rt=B;else{var K=A.return;K!==null?(Rt=K,ku(K)):Rt=null}break e}}Ft=0,un=null,ja(t,n,f,5);break;case 6:Ft=0,un=null,ja(t,n,f,6);break;case 8:qf(),ue=6;break t;default:throw Error(s(462))}}Hv();break}catch(W){qy(t,W)}while(!0);return pi=zr=null,I.H=l,I.A=o,Xt=r,Rt!==null?0:(Jt=null,kt=0,tu(),ue)}function Hv(){for(;Rt!==null&&!yn();)Qy(Rt)}function Qy(t){var n=vy(t.alternate,t,xi);t.memoizedProps=t.pendingProps,n===null?ku(t):Rt=n}function Wy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=yy(r,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=yy(r,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:of(n);default:Sy(r,n),n=Rt=Z0(n,xi),n=vy(r,n,xi)}t.memoizedProps=t.pendingProps,n===null?ku(t):Rt=n}function ja(t,n,r,l){pi=zr=null,of(n),Oa=null,Rs=0;var o=n.return;try{if(Av(t,o,n,r,kt)){ue=1,Au(t,bn(r,t.current)),Rt=null;return}}catch(f){if(o!==null)throw Rt=o,f;ue=1,Au(t,bn(r,t.current)),Rt=null;return}n.flags&32768?(Dt||l===1?t=!0:Ma||(kt&536870912)!==0?t=!1:(er=t=!0,(l===2||l===9||l===3||l===6)&&(l=sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jy(n,t)):ku(n)}function ku(t){var n=t;do{if((n.flags&32768)!==0){Jy(n,er);return}t=n.return;var r=_v(n.alternate,n,xi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ue===0&&(ue=5)}function Jy(t,n){do{var r=Tv(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);ue=6,Rt=null}function tg(t,n,r,l,o,f,w,A,B){t.cancelPendingCommit=null;do Mu();while(Ae!==0);if((Xt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=kc,dw(t,r,f,w,A,B),t===Jt&&(Rt=Jt=null,kt=0),za=n,rr=t,_i=r,Vf=f,Yf=o,Xy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zv(g,function(){return ag(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=I.T,I.T=null,o=q.p,q.p=2,w=Xt,Xt|=4;try{Nv(t,n,r)}finally{Xt=w,q.p=o,I.T=l}}Ae=1,eg(),ng(),ig()}}function eg(){if(Ae===1){Ae=0;var t=rr,n=za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=I.T,I.T=null;var l=q.p;q.p=2;var o=Xt;Xt|=4;try{ky(n,t);var f=sh,w=K0(t.containerInfo),A=f.focusedElem,B=f.selectionRange;if(w!==A&&A&&A.ownerDocument&&j0(A.ownerDocument.documentElement,A)){if(B!==null&&Bc(A)){var K=B.start,W=B.end;if(W===void 0&&(W=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(W,A.value.length);else{var it=A.ownerDocument||document,G=it&&it.defaultView||window;if(G.getSelection){var F=G.getSelection(),ht=A.textContent.length,vt=Math.min(B.start,ht),Wt=B.end===void 0?vt:Math.min(B.end,ht);!F.extend&&vt>Wt&&(w=Wt,Wt=vt,vt=w);var D=L0(A,vt),R=L0(A,Wt);if(D&&R&&(F.rangeCount!==1||F.anchorNode!==D.node||F.anchorOffset!==D.offset||F.focusNode!==R.node||F.focusOffset!==R.offset)){var j=it.createRange();j.setStart(D.node,D.offset),F.removeAllRanges(),vt>Wt?(F.addRange(j),F.extend(R.node,R.offset)):(j.setEnd(R.node,R.offset),F.addRange(j))}}}}for(it=[],F=A;F=F.parentNode;)F.nodeType===1&&it.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<it.length;A++){var et=it[A];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Pu=!!ah,sh=ah=null}finally{Xt=o,q.p=l,I.T=r}}t.current=n,Ae=2}}function ng(){if(Ae===2){Ae=0;var t=rr,n=za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=I.T,I.T=null;var l=q.p;q.p=2;var o=Xt;Xt|=4;try{By(t,n.alternate,n)}finally{Xt=o,q.p=l,I.T=r}}Ae=3}}function ig(){if(Ae===4||Ae===3){Ae=0,ps();var t=rr,n=za,r=_i,l=Xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ae=5:(Ae=0,za=rr=null,rg(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(ir=null),fc(r),n=n.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(tt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=I.T,o=q.p,q.p=2,I.T=null;try{for(var f=t.onRecoverableError,w=0;w<l.length;w++){var A=l[w];f(A.value,{componentStack:A.stack})}}finally{I.T=n,q.p=o}}(_i&3)!==0&&Mu(),Zn(t),o=t.pendingLanes,(r&261930)!==0&&(o&42)!==0?t===Ff?$s++:($s=0,Ff=t):$s=0,Zs(0)}}function rg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Bs(n)))}function Mu(){return eg(),ng(),ig(),ag()}function ag(){if(Ae!==5)return!1;var t=rr,n=Vf;Vf=0;var r=fc(_i),l=I.T,o=q.p;try{q.p=32>r?32:r,I.T=null,r=Yf,Yf=null;var f=rr,w=_i;if(Ae=0,za=rr=null,_i=0,(Xt&6)!==0)throw Error(s(331));var A=Xt;if(Xt|=4,jy(f.current),Dy(f,f.current,w,r),Xt=A,Zs(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(tt,f)}catch{}return!0}finally{q.p=o,I.T=l,rg(t,n)}}function sg(t,n,r){n=bn(r,n),n=xf(t.stateNode,n,2),t=Qi(t,n,2),t!==null&&(gs(t,2),Zn(t))}function qt(t,n,r){if(t.tag===3)sg(t,t,r);else for(;n!==null;){if(n.tag===3){sg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ir===null||!ir.has(l))){t=bn(r,t),r=ly(2),l=Qi(n,r,2),l!==null&&(uy(r,l,n,t),gs(l,2),Zn(l));break}}n=n.return}}function $f(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Bv;var o=new Set;l.set(n,o)}else o=l.get(n),o===void 0&&(o=new Set,l.set(n,o));o.has(r)||(Kf=!0,o.add(r),t=kv.bind(null,t,n,r),n.then(t,t))}function kv(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(kt&r)===r&&(ue===4||ue===3&&(kt&62914560)===kt&&300>Ke()-Bu?(Xt&2)===0&&La(t,0):Gf|=r,Da===kt&&(Da=0)),Zn(t)}function lg(t,n){n===0&&(n=e0()),t=kr(t,n),t!==null&&(gs(t,n),Zn(t))}function Mv(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),lg(t,r)}function Dv(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,o=t.memoizedState;o!==null&&(r=o.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),lg(t,r)}function zv(t,n){return la(t,n)}var Du=null,Ka=null,Zf=!1,zu=!1,Qf=!1,sr=0;function Zn(t){t!==Ka&&t.next===null&&(Ka===null?Du=Ka=t:Ka=Ka.next=t),zu=!0,Zf||(Zf=!0,jv())}function Zs(t,n){if(!Qf&&zu){Qf=!0;do for(var r=!1,l=Du;l!==null;){if(t!==0){var o=l.pendingLanes;if(o===0)var f=0;else{var w=l.suspendedLanes,A=l.pingedLanes;f=(1<<31-Ct(42|t)+1)-1,f&=o&~(w&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,fg(l,f))}else f=kt,f=Gl(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ys(l,f)||(r=!0,fg(l,f));l=l.next}while(r);Qf=!1}}function Lv(){ug()}function ug(){zu=Zf=!1;var t=0;sr!==0&&Zv()&&(t=sr);for(var n=Ke(),r=null,l=Du;l!==null;){var o=l.next,f=og(l,n);f===0?(l.next=null,r===null?Du=o:r.next=o,o===null&&(Ka=r)):(r=l,(t!==0||(f&3)!==0)&&(zu=!0)),l=o}Ae!==0&&Ae!==5||Zs(t),sr!==0&&(sr=0)}function og(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,o=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var w=31-Ct(f),A=1<<w,B=o[w];B===-1?((A&r)===0||(A&l)!==0)&&(o[w]=hw(A,n)):B<=n&&(t.expiredLanes|=A),f&=~A}if(n=Jt,r=kt,r=Gl(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gi(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ys(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Gi(l),fc(r)){case 2:case 8:r=S;break;case 32:r=g;break;case 268435456:r=T;break;default:r=g}return l=cg.bind(null,t),r=la(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Gi(l),t.callbackPriority=2,t.callbackNode=null,2}function cg(t,n){if(Ae!==0&&Ae!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Mu()&&t.callbackNode!==r)return null;var l=kt;return l=Gl(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Yy(t,l,n),og(t,Ke()),t.callbackNode!=null&&t.callbackNode===r?cg.bind(null,t):null)}function fg(t,n){if(Mu())return null;Yy(t,n,!0)}function jv(){Wv(function(){(Xt&6)!==0?la(zl,Lv):ug()})}function Wf(){if(sr===0){var t=Ta;t===0&&(t=Ll,Ll<<=1,(Ll&261888)===0&&(Ll=256)),sr=t}return sr}function hg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fl(""+t)}function dg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Kv(t,n,r,l,o){if(n==="submit"&&r&&r.stateNode===o){var f=hg((o[Ye]||null).action),w=l.submitter;w&&(n=(n=w[Ye]||null)?hg(n.formAction):w.getAttribute("formAction"),n!==null&&(f=n,w=null));var A=new Zl("action","action",null,l,o);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sr!==0){var B=w?dg(o,w):new FormData(o);Ef(r,{pending:!0,data:B,method:o.method,action:f},null,B)}}else typeof f=="function"&&(A.preventDefault(),B=w?dg(o,w):new FormData(o),Ef(r,{pending:!0,data:B,method:o.method,action:f},f,B))},currentTarget:o}]})}}for(var Jf=0;Jf<Hc.length;Jf++){var th=Hc[Jf],Gv=th.toLowerCase(),Xv=th[0].toUpperCase()+th.slice(1);Dn(Gv,"on"+Xv)}Dn(V0,"onAnimationEnd"),Dn(Y0,"onAnimationIteration"),Dn(F0,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(av,"onTransitionRun"),Dn(sv,"onTransitionStart"),Dn(lv,"onTransitionCancel"),Dn(q0,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qs));function pg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],o=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var w=l.length-1;0<=w;w--){var A=l[w],B=A.instance,K=A.currentTarget;if(A=A.listener,B!==f&&o.isPropagationStopped())break t;f=A,o.currentTarget=K;try{f(o)}catch(W){Jl(W)}o.currentTarget=null,f=B}else for(w=0;w<l.length;w++){if(A=l[w],B=A.instance,K=A.currentTarget,A=A.listener,B!==f&&o.isPropagationStopped())break t;f=A,o.currentTarget=K;try{f(o)}catch(W){Jl(W)}o.currentTarget=null,f=B}}}}function It(t,n){var r=n[hc];r===void 0&&(r=n[hc]=new Set);var l=t+"__bubble";r.has(l)||(yg(n,t,2,!1),r.add(l))}function eh(t,n,r){var l=0;n&&(l|=4),yg(r,t,l,n)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function nh(t){if(!t[Lu]){t[Lu]=!0,u0.forEach(function(r){r!=="selectionchange"&&(Vv.has(r)||eh(r,!1,t),eh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Lu]||(n[Lu]=!0,eh("selectionchange",!1,n))}}function yg(t,n,r,l){switch(Vg(n)){case 2:var o=EA;break;case 8:o=bA;break;default:o=mh}r=o.bind(null,n,r,t),o=void 0,!vc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),l?o!==void 0?t.addEventListener(n,r,{capture:!0,passive:o}):t.addEventListener(n,r,!0):o!==void 0?t.addEventListener(n,r,{passive:o}):t.addEventListener(n,r,!1)}function ih(t,n,r,l,o){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var A=l.stateNode.containerInfo;if(A===o)break;if(w===4)for(w=l.return;w!==null;){var B=w.tag;if((B===3||B===4)&&w.stateNode.containerInfo===o)return;w=w.return}for(;A!==null;){if(w=oa(A),w===null)return;if(B=w.tag,B===5||B===6||B===26||B===27){l=f=w;continue t}A=A.parentNode}}l=l.return}w0(function(){var K=f,W=bc(r),it=[];t:{var G=P0.get(t);if(G!==void 0){var F=Zl,ht=t;switch(t){case"keypress":if(Pl(r)===0)break t;case"keydown":case"keyup":F=Dw;break;case"focusin":ht="focus",F=_c;break;case"focusout":ht="blur",F=_c;break;case"beforeblur":case"afterblur":F=_c;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=S0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=_w;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=jw;break;case V0:case Y0:case F0:F=Uw;break;case q0:F=Gw;break;case"scroll":case"scrollend":F=Sw;break;case"wheel":F=Vw;break;case"copy":case"cut":case"paste":F=Bw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=_0;break;case"toggle":case"beforetoggle":F=Fw}var vt=(n&4)!==0,Wt=!vt&&(t==="scroll"||t==="scrollend"),D=vt?G!==null?G+"Capture":null:G;vt=[];for(var R=K,j;R!==null;){var et=R;if(j=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||j===null||D===null||(et=bs(R,D),et!=null&&vt.push(Ws(R,et,j))),Wt)break;R=R.return}0<vt.length&&(G=new F(G,ht,null,r,W),it.push({event:G,listeners:vt}))}}if((n&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",G&&r!==Ec&&(ht=r.relatedTarget||r.fromElement)&&(oa(ht)||ht[ua]))break t;if((F||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,F?(ht=r.relatedTarget||r.toElement,F=K,ht=ht?oa(ht):null,ht!==null&&(Wt=c(ht),vt=ht.tag,ht!==Wt||vt!==5&&vt!==27&&vt!==6)&&(ht=null)):(F=null,ht=K),F!==ht)){if(vt=S0,et="onMouseLeave",D="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(vt=_0,et="onPointerLeave",D="onPointerEnter",R="pointer"),Wt=F==null?G:Es(F),j=ht==null?G:Es(ht),G=new vt(et,R+"leave",F,r,W),G.target=Wt,G.relatedTarget=j,et=null,oa(W)===K&&(vt=new vt(D,R+"enter",ht,r,W),vt.target=j,vt.relatedTarget=Wt,et=vt),Wt=et,F&&ht)e:{for(vt=Yv,D=F,R=ht,j=0,et=D;et;et=vt(et))j++;et=0;for(var mt=R;mt;mt=vt(mt))et++;for(;0<j-et;)D=vt(D),j--;for(;0<et-j;)R=vt(R),et--;for(;j--;){if(D===R||R!==null&&D===R.alternate){vt=D;break e}D=vt(D),R=vt(R)}vt=null}else vt=null;F!==null&&gg(it,G,F,vt,!1),ht!==null&&Wt!==null&&gg(it,Wt,ht,vt,!0)}}t:{if(G=K?Es(K):window,F=G.nodeName&&G.nodeName.toLowerCase(),F==="select"||F==="input"&&G.type==="file")var jt=I0;else if(C0(G))if(H0)jt=nv;else{jt=tv;var pt=Jw}else F=G.nodeName,!F||F.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?K&&mc(K.elementType)&&(jt=I0):jt=ev;if(jt&&(jt=jt(t,K))){R0(it,jt,r,W);break t}pt&&pt(t,G,K),t==="focusout"&&K&&G.type==="number"&&K.memoizedProps.value!=null&&gc(G,"number",G.value)}switch(pt=K?Es(K):window,t){case"focusin":(C0(pt)||pt.contentEditable==="true")&&(Ea=pt,Cc=K,Ns=null);break;case"focusout":Ns=Cc=Ea=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,G0(it,r,W);break;case"selectionchange":if(rv)break;case"keydown":case"keyup":G0(it,r,W)}var Bt;if(Nc)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else ma?O0(t,r)&&(Mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Mt="onCompositionStart");Mt&&(T0&&r.locale!=="ko"&&(ma||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ma&&(Bt=v0()):(Vi=W,Ac="value"in Vi?Vi.value:Vi.textContent,ma=!0)),pt=ju(K,Mt),0<pt.length&&(Mt=new x0(Mt,t,null,r,W),it.push({event:Mt,listeners:pt}),Bt?Mt.data=Bt:(Bt=B0(r),Bt!==null&&(Mt.data=Bt)))),(Bt=Pw?$w(t,r):Zw(t,r))&&(Mt=ju(K,"onBeforeInput"),0<Mt.length&&(pt=new x0("onBeforeInput","beforeinput",null,r,W),it.push({event:pt,listeners:Mt}),pt.data=Bt)),Kv(it,t,K,r,W)}pg(it,n)})}function Ws(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ju(t,n){for(var r=n+"Capture",l=[];t!==null;){var o=t,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=bs(t,r),o!=null&&l.unshift(Ws(t,o,f)),o=bs(t,n),o!=null&&l.push(Ws(t,o,f))),t.tag===3)return l;t=t.return}return[]}function Yv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gg(t,n,r,l,o){for(var f=n._reactName,w=[];r!==null&&r!==l;){var A=r,B=A.alternate,K=A.stateNode;if(A=A.tag,B!==null&&B===l)break;A!==5&&A!==26&&A!==27||K===null||(B=K,o?(K=bs(r,f),K!=null&&w.unshift(Ws(r,K,B))):o||(K=bs(r,f),K!=null&&w.push(Ws(r,K,B)))),r=r.return}w.length!==0&&t.push({event:n,listeners:w})}var Fv=/\r\n?/g,qv=/\u0000|\uFFFD/g;function mg(t){return(typeof t=="string"?t:""+t).replace(Fv,`
`).replace(qv,"")}function Eg(t,n){return n=mg(n),mg(t)===n}function Qt(t,n,r,l,o,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pa(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pa(t,""+l);break;case"className":Vl(t,"class",l);break;case"tabIndex":Vl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(t,r,l);break;case"style":E0(t,l,f);break;case"data":if(n!=="object"){Vl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Fl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",o.name,o,null),Qt(t,n,"formEncType",o.formEncType,o,null),Qt(t,n,"formMethod",o.formMethod,o,null),Qt(t,n,"formTarget",o.formTarget,o,null)):(Qt(t,n,"encType",o.encType,o,null),Qt(t,n,"method",o.method,o,null),Qt(t,n,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Fl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ci);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(o.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Fl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Xl(t,"popover",l);break;case"xlinkActuate":oi(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":oi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":oi(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":oi(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":oi(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":oi(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":oi(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":oi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":oi(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=vw.get(r)||r,Xl(t,r,l))}}function rh(t,n,r,l,o,f){switch(r){case"style":E0(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(o.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pa(t,l):(typeof l=="number"||typeof l=="bigint")&&pa(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!o0.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(o=r.endsWith("Capture"),n=r.slice(2,o?r.length-7:void 0),f=t[Ye]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,o),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,o);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Xl(t,r,l)}}}function Ie(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,o=!1,f;for(f in r)if(r.hasOwnProperty(f)){var w=r[f];if(w!=null)switch(f){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,f,w,r,null)}}o&&Qt(t,n,"srcSet",r.srcSet,r,null),l&&Qt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var A=f=w=o=null,B=null,K=null;for(l in r)if(r.hasOwnProperty(l)){var W=r[l];if(W!=null)switch(l){case"name":o=W;break;case"type":w=W;break;case"checked":B=W;break;case"defaultChecked":K=W;break;case"value":f=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,n));break;default:Qt(t,n,l,W,r,null)}}p0(t,f,A,B,K,w,o,!1);return;case"select":It("invalid",t),l=w=f=null;for(o in r)if(r.hasOwnProperty(o)&&(A=r[o],A!=null))switch(o){case"value":f=A;break;case"defaultValue":w=A;break;case"multiple":l=A;default:Qt(t,n,o,A,r,null)}n=f,r=w,t.multiple=!!l,n!=null?da(t,!!l,n,!1):r!=null&&da(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=o=l=null;for(w in r)if(r.hasOwnProperty(w)&&(A=r[w],A!=null))switch(w){case"value":l=A;break;case"defaultValue":o=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Qt(t,n,w,A,r,null)}g0(t,l,o,f);return;case"option":for(B in r)r.hasOwnProperty(B)&&(l=r[B],l!=null)&&(B==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Qt(t,n,B,l,r,null));return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Qs.length;l++)It(Qs[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(l=r[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,K,l,r,null)}return;default:if(mc(n)){for(W in r)r.hasOwnProperty(W)&&(l=r[W],l!==void 0&&rh(t,n,W,l,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(l=r[A],l!=null&&Qt(t,n,A,l,r,null))}function Pv(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,w=null,A=null,B=null,K=null,W=null;for(F in r){var it=r[F];if(r.hasOwnProperty(F)&&it!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":B=it;default:l.hasOwnProperty(F)||Qt(t,n,F,null,l,it)}}for(var G in l){var F=l[G];if(it=r[G],l.hasOwnProperty(G)&&(F!=null||it!=null))switch(G){case"type":f=F;break;case"name":o=F;break;case"checked":K=F;break;case"defaultChecked":W=F;break;case"value":w=F;break;case"defaultValue":A=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==it&&Qt(t,n,G,F,l,it)}}yc(t,w,A,B,K,W,f,o);return;case"select":F=w=A=G=null;for(f in r)if(B=r[f],r.hasOwnProperty(f)&&B!=null)switch(f){case"value":break;case"multiple":F=B;default:l.hasOwnProperty(f)||Qt(t,n,f,null,l,B)}for(o in l)if(f=l[o],B=r[o],l.hasOwnProperty(o)&&(f!=null||B!=null))switch(o){case"value":G=f;break;case"defaultValue":A=f;break;case"multiple":w=f;default:f!==B&&Qt(t,n,o,f,l,B)}n=A,r=w,l=F,G!=null?da(t,!!r,G,!1):!!l!=!!r&&(n!=null?da(t,!!r,n,!0):da(t,!!r,r?[]:"",!1));return;case"textarea":F=G=null;for(A in r)if(o=r[A],r.hasOwnProperty(A)&&o!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Qt(t,n,A,null,l,o)}for(w in l)if(o=l[w],f=r[w],l.hasOwnProperty(w)&&(o!=null||f!=null))switch(w){case"value":G=o;break;case"defaultValue":F=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==f&&Qt(t,n,w,o,l,f)}y0(t,G,F);return;case"option":for(var ht in r)G=r[ht],r.hasOwnProperty(ht)&&G!=null&&!l.hasOwnProperty(ht)&&(ht==="selected"?t.selected=!1:Qt(t,n,ht,null,l,G));for(B in l)G=l[B],F=r[B],l.hasOwnProperty(B)&&G!==F&&(G!=null||F!=null)&&(B==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":Qt(t,n,B,G,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)G=r[vt],r.hasOwnProperty(vt)&&G!=null&&!l.hasOwnProperty(vt)&&Qt(t,n,vt,null,l,G);for(K in l)if(G=l[K],F=r[K],l.hasOwnProperty(K)&&G!==F&&(G!=null||F!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Qt(t,n,K,G,l,F)}return;default:if(mc(n)){for(var Wt in r)G=r[Wt],r.hasOwnProperty(Wt)&&G!==void 0&&!l.hasOwnProperty(Wt)&&rh(t,n,Wt,void 0,l,G);for(W in l)G=l[W],F=r[W],!l.hasOwnProperty(W)||G===F||G===void 0&&F===void 0||rh(t,n,W,G,l,F);return}}for(var D in r)G=r[D],r.hasOwnProperty(D)&&G!=null&&!l.hasOwnProperty(D)&&Qt(t,n,D,null,l,G);for(it in l)G=l[it],F=r[it],!l.hasOwnProperty(it)||G===F||G==null&&F==null||Qt(t,n,it,G,l,F)}function bg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $v(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var o=r[l],f=o.transferSize,w=o.initiatorType,A=o.duration;if(f&&A&&bg(w)){for(w=0,A=o.responseEnd,l+=1;l<r.length;l++){var B=r[l],K=B.startTime;if(K>A)break;var W=B.transferSize,it=B.initiatorType;W&&bg(it)&&(B=B.responseEnd,w+=W*(B<A?1:(A-K)/(B-K)))}if(--l,n+=8*(f+w)/(o.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ah=null,sh=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function wg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function lh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uh=null;function Zv(){var t=window.event;return t&&t.type==="popstate"?t===uh?!1:(uh=t,!0):(uh=null,!1)}var Ag=typeof setTimeout=="function"?setTimeout:void 0,Qv=typeof clearTimeout=="function"?clearTimeout:void 0,Sg=typeof Promise=="function"?Promise:void 0,Wv=typeof queueMicrotask=="function"?queueMicrotask:typeof Sg<"u"?function(t){return Sg.resolve(null).then(t).catch(Jv)}:Ag;function Jv(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function xg(t,n){var r=n,l=0;do{var o=r.nextSibling;if(t.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(o),Ya(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Js(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Js(r);for(var f=r.firstChild;f;){var w=f.nextSibling,A=f.nodeName;f[ms]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=w}}else r==="body"&&Js(t.ownerDocument.body);r=o}while(r);Ya(n)}function _g(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function oh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":oh(r),dc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function tA(t,n,r,l){for(;t.nodeType===1;){var o=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ms])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function eA(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=xn(t.nextSibling),t===null))return null;return t}function Tg(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=xn(t.nextSibling),t===null))return null;return t}function ch(t){return t.data==="$?"||t.data==="$~"}function fh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nA(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var hh=null;function Ng(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return xn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Ug(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function Og(t,n,r){switch(n=Ku(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Js(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);dc(t)}var _n=new Map,Bg=new Set;function Gu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ti=q.d;q.d={f:iA,r:rA,D:aA,C:sA,L:lA,m:uA,X:cA,S:oA,M:fA};function iA(){var t=Ti.f(),n=Iu();return t||n}function rA(t){var n=ca(t);n!==null&&n.tag===5&&n.type==="form"?qp(n):Ti.r(t)}var Ga=typeof document>"u"?null:document;function Cg(t,n,r){var l=Ga;if(l&&typeof n=="string"&&n){var o=mn(n);o='link[rel="'+t+'"][href="'+o+'"]',typeof r=="string"&&(o+='[crossorigin="'+r+'"]'),Bg.has(o)||(Bg.add(o),t={rel:t,crossOrigin:r,href:n},l.querySelector(o)===null&&(n=l.createElement("link"),Ie(n,"link",t),Ne(n),l.head.appendChild(n)))}}function aA(t){Ti.D(t),Cg("dns-prefetch",t,null)}function sA(t,n){Ti.C(t,n),Cg("preconnect",t,n)}function lA(t,n,r){Ti.L(t,n,r);var l=Ga;if(l&&t&&n){var o='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(o+='[imagesrcset="'+mn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(o+='[imagesizes="'+mn(r.imageSizes)+'"]')):o+='[href="'+mn(t)+'"]';var f=o;switch(n){case"style":f=Xa(t);break;case"script":f=Va(t)}_n.has(f)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),_n.set(f,t),l.querySelector(o)!==null||n==="style"&&l.querySelector(tl(f))||n==="script"&&l.querySelector(el(f))||(n=l.createElement("link"),Ie(n,"link",t),Ne(n),l.head.appendChild(n)))}}function uA(t,n){Ti.m(t,n);var r=Ga;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",o='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(t)+'"]',f=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(t)}if(!_n.has(f)&&(t=E({rel:"modulepreload",href:t},n),_n.set(f,t),r.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(el(f)))return}l=r.createElement("link"),Ie(l,"link",t),Ne(l),r.head.appendChild(l)}}}function oA(t,n,r){Ti.S(t,n,r);var l=Ga;if(l&&t){var o=fa(l).hoistableStyles,f=Xa(t);n=n||"default";var w=o.get(f);if(!w){var A={loading:0,preload:null};if(w=l.querySelector(tl(f)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=_n.get(f))&&dh(t,r);var B=w=l.createElement("link");Ne(B),Ie(B,"link",t),B._p=new Promise(function(K,W){B.onload=K,B.onerror=W}),B.addEventListener("load",function(){A.loading|=1}),B.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Xu(w,n,l)}w={type:"stylesheet",instance:w,count:1,state:A},o.set(f,w)}}}function cA(t,n){Ti.X(t,n);var r=Ga;if(r&&t){var l=fa(r).hoistableScripts,o=Va(t),f=l.get(o);f||(f=r.querySelector(el(o)),f||(t=E({src:t,async:!0},n),(n=_n.get(o))&&ph(t,n),f=r.createElement("script"),Ne(f),Ie(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(o,f))}}function fA(t,n){Ti.M(t,n);var r=Ga;if(r&&t){var l=fa(r).hoistableScripts,o=Va(t),f=l.get(o);f||(f=r.querySelector(el(o)),f||(t=E({src:t,async:!0,type:"module"},n),(n=_n.get(o))&&ph(t,n),f=r.createElement("script"),Ne(f),Ie(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(o,f))}}function Rg(t,n,r,l){var o=(o=dt.current)?Gu(o):null;if(!o)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Xa(r.href),r=fa(o).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Xa(r.href);var f=fa(o).hoistableStyles,w=f.get(t);if(w||(o=o.ownerDocument||o,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,w),(f=o.querySelector(tl(t)))&&!f._p&&(w.instance=f,w.state.loading=5),_n.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},_n.set(t,r),f||hA(o,t,r,w.state))),n&&l===null)throw Error(s(528,""));return w}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(r),r=fa(o).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+mn(t)+'"'}function tl(t){return'link[rel="stylesheet"]['+t+"]"}function Ig(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function hA(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ie(n,"link",r),Ne(n),t.head.appendChild(n))}function Va(t){return'[src="'+mn(t)+'"]'}function el(t){return"script[async]"+t}function Hg(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+mn(r.href)+'"]');if(l)return n.instance=l,Ne(l),l;var o=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ne(l),Ie(l,"style",o),Xu(l,r.precedence,t),n.instance=l;case"stylesheet":o=Xa(r.href);var f=t.querySelector(tl(o));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;l=Ig(r),(o=_n.get(o))&&dh(l,o),f=(t.ownerDocument||t).createElement("link"),Ne(f);var w=f;return w._p=new Promise(function(A,B){w.onload=A,w.onerror=B}),Ie(f,"link",l),n.state.loading|=4,Xu(f,r.precedence,t),n.instance=f;case"script":return f=Va(r.src),(o=t.querySelector(el(f)))?(n.instance=o,Ne(o),o):(l=r,(o=_n.get(f))&&(l=E({},r),ph(l,o)),t=t.ownerDocument||t,o=t.createElement("script"),Ne(o),Ie(o,"link",l),t.head.appendChild(o),n.instance=o);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Xu(l,r.precedence,t));return n.instance}function Xu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,f=o,w=0;w<l.length;w++){var A=l[w];if(A.dataset.precedence===n)f=A;else if(f!==o)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function dh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ph(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function kg(t,n,r){if(Vu===null){var l=new Map,o=Vu=new Map;o.set(r,l)}else o=Vu,l=o.get(r),l||(l=new Map,o.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),o=0;o<r.length;o++){var f=r[o];if(!(f[ms]||f[Oe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var w=f.getAttribute(n)||"";w=t+w;var A=l.get(w);A?A.push(f):l.set(w,[f])}}return l}function Mg(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function dA(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Dg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function pA(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var o=Xa(l.href),f=n.querySelector(tl(o));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Yu.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Ne(f);return}f=n.ownerDocument||n,l=Ig(l),(o=_n.get(o))&&dh(l,o),f=f.createElement("link"),Ne(f);var w=f;w._p=new Promise(function(A,B){w.onload=A,w.onerror=B}),Ie(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Yu.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var yh=0;function yA(t,n){return t.stylesheets&&t.count===0&&qu(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&qu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&yh===0&&(yh=62500*$v());var o=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>yh?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function Yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fu=null;function qu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fu=new Map,n.forEach(gA,t),Fu=null,Yu.call(t))}function gA(t,n){if(!(n.state.loading&4)){var r=Fu.get(t);if(r)var l=r.get(null);else{r=new Map,Fu.set(t,r);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var w=o[f];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),l=w)}l&&r.set(null,l)}o=n.instance,w=o.getAttribute("data-precedence"),f=r.get(w)||l,f===l&&r.set(null,o),r.set(w,o),this.count++,l=Yu.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),f?f.parentNode.insertBefore(o,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),n.state.loading|=4}}var nl={$$typeof:k,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function mA(t,n,r,l,o,f,w,A,B){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function zg(t,n,r,l,o,f,w,A,B,K,W,it){return t=new mA(t,n,r,w,B,K,W,it,A),n=1,f===!0&&(n|=24),f=an(3,null,null,n),t.current=f,f.stateNode=t,n=qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Qc(f),t}function Lg(t){return t?(t=va,t):va}function jg(t,n,r,l,o,f){o=Lg(o),l.context===null?l.context=o:l.pendingContext=o,l=Zi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Qi(t,l,n),r!==null&&(Qe(r,t,n),Hs(r,t,n))}function Kg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function gh(t,n){Kg(t,n),(t=t.alternate)&&Kg(t,n)}function Gg(t){if(t.tag===13||t.tag===31){var n=kr(t,67108864);n!==null&&Qe(n,t,67108864),gh(t,67108864)}}function Xg(t){if(t.tag===13||t.tag===31){var n=cn();n=cc(n);var r=kr(t,n);r!==null&&Qe(r,t,n),gh(t,n)}}var Pu=!0;function EA(t,n,r,l){var o=I.T;I.T=null;var f=q.p;try{q.p=2,mh(t,n,r,l)}finally{q.p=f,I.T=o}}function bA(t,n,r,l){var o=I.T;I.T=null;var f=q.p;try{q.p=8,mh(t,n,r,l)}finally{q.p=f,I.T=o}}function mh(t,n,r,l){if(Pu){var o=Eh(l);if(o===null)ih(t,n,l,$u,r),Yg(t,l);else if(vA(o,t,n,r,l))l.stopPropagation();else if(Yg(t,l),n&4&&-1<wA.indexOf(t)){for(;o!==null;){var f=ca(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var w=Br(f.pendingLanes);if(w!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var B=1<<31-Ct(w);A.entanglements[1]|=B,w&=~B}Zn(f),(Xt&6)===0&&(Cu=Ke()+500,Zs(0))}}break;case 31:case 13:A=kr(f,2),A!==null&&Qe(A,f,2),Iu(),gh(f,2)}if(f=Eh(l),f===null&&ih(t,n,l,$u,r),f===o)break;o=f}o!==null&&l.stopPropagation()}else ih(t,n,l,null,r)}}function Eh(t){return t=bc(t),bh(t)}var $u=null;function bh(t){if($u=null,t=oa(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=h(n),t!==null)return t;t=null}else if(r===31){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return $u=t,null}function Vg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fn()){case zl:return 2;case S:return 8;case g:case b:return 32;case T:return 268435456;default:return 32}default:return 32}}var wh=!1,ur=null,or=null,cr=null,il=new Map,rl=new Map,fr=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yg(t,n){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(n.pointerId)}}function al(t,n,r,l,o,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[o]},n!==null&&(n=ca(n),n!==null&&Gg(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),t)}function vA(t,n,r,l,o){switch(n){case"focusin":return ur=al(ur,t,n,r,l,o),!0;case"dragenter":return or=al(or,t,n,r,l,o),!0;case"mouseover":return cr=al(cr,t,n,r,l,o),!0;case"pointerover":var f=o.pointerId;return il.set(f,al(il.get(f)||null,t,n,r,l,o)),!0;case"gotpointercapture":return f=o.pointerId,rl.set(f,al(rl.get(f)||null,t,n,r,l,o)),!0}return!1}function Fg(t){var n=oa(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=h(r),n!==null){t.blockedOn=n,s0(t.priority,function(){Xg(r)});return}}else if(n===31){if(n=d(r),n!==null){t.blockedOn=n,s0(t.priority,function(){Xg(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Eh(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ec=l,r.target.dispatchEvent(l),Ec=null}else return n=ca(r),n!==null&&Gg(n),t.blockedOn=r,!1;n.shift()}return!0}function qg(t,n,r){Zu(t)&&r.delete(n)}function AA(){wh=!1,ur!==null&&Zu(ur)&&(ur=null),or!==null&&Zu(or)&&(or=null),cr!==null&&Zu(cr)&&(cr=null),il.forEach(qg),rl.forEach(qg)}function Qu(t,n){t.blockedOn===n&&(t.blockedOn=null,wh||(wh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,AA)))}var Wu=null;function Pg(t){Wu!==t&&(Wu=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Wu===t&&(Wu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],o=t[n+2];if(typeof l!="function"){if(bh(l||r)===null)continue;break}var f=ca(r);f!==null&&(t.splice(n,3),n-=3,Ef(f,{pending:!0,data:o,method:r.method,action:l},l,o))}}))}function Ya(t){function n(B){return Qu(B,t)}ur!==null&&Qu(ur,t),or!==null&&Qu(or,t),cr!==null&&Qu(cr,t),il.forEach(n),rl.forEach(n);for(var r=0;r<fr.length;r++){var l=fr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fr.length&&(r=fr[0],r.blockedOn===null);)Fg(r),r.blockedOn===null&&fr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var o=r[l],f=r[l+1],w=o[Ye]||null;if(typeof f=="function")w||Pg(r);else if(w){var A=null;if(f&&f.hasAttribute("formAction")){if(o=f,w=f[Ye]||null)A=w.formAction;else if(bh(o)!==null)continue}else A=w.action;typeof A=="function"?r[l+1]=A:(r.splice(l,3),l-=3),Pg(r)}}}function $g(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(w){return o=w})},focusReset:"manual",scroll:"manual"})}function n(){o!==null&&(o(),o=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),o!==null&&(o(),o=null)}}}function vh(t){this._internalRoot=t}Ju.prototype.render=vh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=cn();jg(r,l,t,n,null,null)},Ju.prototype.unmount=vh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;jg(t.current,2,null,t,null,null),Iu(),n[ua]=null}};function Ju(t){this._internalRoot=t}Ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=a0();t={blockedOn:null,target:t,priority:n};for(var r=0;r<fr.length&&n!==0&&n<fr[r].priority;r++);fr.splice(r,0,t),r===0&&Fg(t)}};var Zg=i.version;if(Zg!=="19.2.4")throw Error(s(527,Zg,"19.2.4"));q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var SA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{tt=to.inject(SA),wt=to}catch{}}return ll.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",o=iy,f=ry,w=ay;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError)),n=zg(t,1,!1,null,null,r,l,null,o,f,w,$g),t[ua]=n.current,nh(t),new vh(n)},ll.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,o="",f=iy,w=ry,A=ay,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(B=r.formState)),n=zg(t,1,!0,n,r??null,l,o,B,f,w,A,$g),n.context=Lg(null),r=n.current,l=cn(),l=cc(l),o=Zi(l),o.callback=null,Qi(r,o,l),r=l,n.current.lanes=r,gs(n,r),Zn(n),t[ua]=n.current,nh(t),new Ju(n)},ll.version="19.2.4",ll}var sm;function HA(){if(sm)return xh.exports;sm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(i){console.error(i)}}return e(),xh.exports=IA(),xh.exports}var kA=HA();const lm={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},_l={testnet:{label:"Testnet",mempoolApi:"https://mempool.space/testnet4/api",bitcoinNetwork:lm},signet:{label:"Signet",mempoolApi:"https://mempool.space/signet/api",bitcoinNetwork:lm}},MA="testnet",Tl="m/86'/1'",md={noSpendBlocks:5,multisigAfterBlocks:5,userOnlyAfterBlocks:10,heirOnlyAfterBlocks:20},Hi={WALLET:"btc_wallet",ACCOUNTS:"btc_accounts",TRANSACTIONS:"btc_transactions",NETWORK:"btc_network"},si={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};function DA(e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return!1;const i=e[3];if(i===0||5+i>=e.length||e[4+i]!==2)return!1;const a=e[5+i];return!(a===0||6+i+a!==e.length||e[4]&128||i>1&&e[4]===0&&!(e[5]&128)||e[i+6]&128||a>1&&e[i+6]===0&&!(e[i+7]&128))}function zA(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(e[0]!==48)throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(e[2]!==2)throw new Error("Expected DER integer");const i=e[3];if(i===0)throw new Error("R length is zero");if(5+i>=e.length)throw new Error("R length is too long");if(e[4+i]!==2)throw new Error("Expected DER integer (2)");const a=e[5+i];if(a===0)throw new Error("S length is zero");if(6+i+a!==e.length)throw new Error("S length is invalid");if(e[4]&128)throw new Error("R value is negative");if(i>1&&e[4]===0&&!(e[5]&128))throw new Error("R value excessively padded");if(e[i+6]&128)throw new Error("S value is negative");if(a>1&&e[i+6]===0&&!(e[i+7]&128))throw new Error("S value excessively padded");return{r:e.slice(4,4+i),s:e.slice(6+i)}}function LA(e,i){const a=e.length,s=i.length;if(a===0)throw new Error("R length is zero");if(s===0)throw new Error("S length is zero");if(a>33)throw new Error("R length is too long");if(s>33)throw new Error("S length is too long");if(e[0]&128)throw new Error("R value is negative");if(i[0]&128)throw new Error("S value is negative");if(a>1&&e[0]===0&&!(e[1]&128))throw new Error("R value excessively padded");if(s>1&&i[0]===0&&!(i[1]&128))throw new Error("S value excessively padded");const u=new Uint8Array(6+a+s);return u[0]=48,u[1]=u.length-2,u[2]=2,u[3]=e.length,u.set(e,4),u[4+a]=2,u[5+a]=i.length,u.set(i,6+a),u}var $t;(function(e){e[e.OP_FALSE=0]="OP_FALSE",e[e.OP_0=0]="OP_0",e[e.OP_PUSHDATA1=76]="OP_PUSHDATA1",e[e.OP_PUSHDATA2=77]="OP_PUSHDATA2",e[e.OP_PUSHDATA4=78]="OP_PUSHDATA4",e[e.OP_1NEGATE=79]="OP_1NEGATE",e[e.OP_RESERVED=80]="OP_RESERVED",e[e.OP_TRUE=81]="OP_TRUE",e[e.OP_1=81]="OP_1",e[e.OP_2=82]="OP_2",e[e.OP_3=83]="OP_3",e[e.OP_4=84]="OP_4",e[e.OP_5=85]="OP_5",e[e.OP_6=86]="OP_6",e[e.OP_7=87]="OP_7",e[e.OP_8=88]="OP_8",e[e.OP_9=89]="OP_9",e[e.OP_10=90]="OP_10",e[e.OP_11=91]="OP_11",e[e.OP_12=92]="OP_12",e[e.OP_13=93]="OP_13",e[e.OP_14=94]="OP_14",e[e.OP_15=95]="OP_15",e[e.OP_16=96]="OP_16",e[e.OP_NOP=97]="OP_NOP",e[e.OP_VER=98]="OP_VER",e[e.OP_IF=99]="OP_IF",e[e.OP_NOTIF=100]="OP_NOTIF",e[e.OP_VERIF=101]="OP_VERIF",e[e.OP_VERNOTIF=102]="OP_VERNOTIF",e[e.OP_ELSE=103]="OP_ELSE",e[e.OP_ENDIF=104]="OP_ENDIF",e[e.OP_VERIFY=105]="OP_VERIFY",e[e.OP_RETURN=106]="OP_RETURN",e[e.OP_TOALTSTACK=107]="OP_TOALTSTACK",e[e.OP_FROMALTSTACK=108]="OP_FROMALTSTACK",e[e.OP_2DROP=109]="OP_2DROP",e[e.OP_2DUP=110]="OP_2DUP",e[e.OP_3DUP=111]="OP_3DUP",e[e.OP_2OVER=112]="OP_2OVER",e[e.OP_2ROT=113]="OP_2ROT",e[e.OP_2SWAP=114]="OP_2SWAP",e[e.OP_IFDUP=115]="OP_IFDUP",e[e.OP_DEPTH=116]="OP_DEPTH",e[e.OP_DROP=117]="OP_DROP",e[e.OP_DUP=118]="OP_DUP",e[e.OP_NIP=119]="OP_NIP",e[e.OP_OVER=120]="OP_OVER",e[e.OP_PICK=121]="OP_PICK",e[e.OP_ROLL=122]="OP_ROLL",e[e.OP_ROT=123]="OP_ROT",e[e.OP_SWAP=124]="OP_SWAP",e[e.OP_TUCK=125]="OP_TUCK",e[e.OP_CAT=126]="OP_CAT",e[e.OP_SUBSTR=127]="OP_SUBSTR",e[e.OP_LEFT=128]="OP_LEFT",e[e.OP_RIGHT=129]="OP_RIGHT",e[e.OP_SIZE=130]="OP_SIZE",e[e.OP_INVERT=131]="OP_INVERT",e[e.OP_AND=132]="OP_AND",e[e.OP_OR=133]="OP_OR",e[e.OP_XOR=134]="OP_XOR",e[e.OP_EQUAL=135]="OP_EQUAL",e[e.OP_EQUALVERIFY=136]="OP_EQUALVERIFY",e[e.OP_RESERVED1=137]="OP_RESERVED1",e[e.OP_RESERVED2=138]="OP_RESERVED2",e[e.OP_1ADD=139]="OP_1ADD",e[e.OP_1SUB=140]="OP_1SUB",e[e.OP_2MUL=141]="OP_2MUL",e[e.OP_2DIV=142]="OP_2DIV",e[e.OP_NEGATE=143]="OP_NEGATE",e[e.OP_ABS=144]="OP_ABS",e[e.OP_NOT=145]="OP_NOT",e[e.OP_0NOTEQUAL=146]="OP_0NOTEQUAL",e[e.OP_ADD=147]="OP_ADD",e[e.OP_SUB=148]="OP_SUB",e[e.OP_MUL=149]="OP_MUL",e[e.OP_DIV=150]="OP_DIV",e[e.OP_MOD=151]="OP_MOD",e[e.OP_LSHIFT=152]="OP_LSHIFT",e[e.OP_RSHIFT=153]="OP_RSHIFT",e[e.OP_BOOLAND=154]="OP_BOOLAND",e[e.OP_BOOLOR=155]="OP_BOOLOR",e[e.OP_NUMEQUAL=156]="OP_NUMEQUAL",e[e.OP_NUMEQUALVERIFY=157]="OP_NUMEQUALVERIFY",e[e.OP_NUMNOTEQUAL=158]="OP_NUMNOTEQUAL",e[e.OP_LESSTHAN=159]="OP_LESSTHAN",e[e.OP_GREATERTHAN=160]="OP_GREATERTHAN",e[e.OP_LESSTHANOREQUAL=161]="OP_LESSTHANOREQUAL",e[e.OP_GREATERTHANOREQUAL=162]="OP_GREATERTHANOREQUAL",e[e.OP_MIN=163]="OP_MIN",e[e.OP_MAX=164]="OP_MAX",e[e.OP_WITHIN=165]="OP_WITHIN",e[e.OP_RIPEMD160=166]="OP_RIPEMD160",e[e.OP_SHA1=167]="OP_SHA1",e[e.OP_SHA256=168]="OP_SHA256",e[e.OP_HASH160=169]="OP_HASH160",e[e.OP_HASH256=170]="OP_HASH256",e[e.OP_CODESEPARATOR=171]="OP_CODESEPARATOR",e[e.OP_CHECKSIG=172]="OP_CHECKSIG",e[e.OP_CHECKSIGVERIFY=173]="OP_CHECKSIGVERIFY",e[e.OP_CHECKMULTISIG=174]="OP_CHECKMULTISIG",e[e.OP_CHECKMULTISIGVERIFY=175]="OP_CHECKMULTISIGVERIFY",e[e.OP_NOP1=176]="OP_NOP1",e[e.OP_CHECKLOCKTIMEVERIFY=177]="OP_CHECKLOCKTIMEVERIFY",e[e.OP_NOP2=177]="OP_NOP2",e[e.OP_CHECKSEQUENCEVERIFY=178]="OP_CHECKSEQUENCEVERIFY",e[e.OP_NOP3=178]="OP_NOP3",e[e.OP_NOP4=179]="OP_NOP4",e[e.OP_NOP5=180]="OP_NOP5",e[e.OP_NOP6=181]="OP_NOP6",e[e.OP_NOP7=182]="OP_NOP7",e[e.OP_NOP8=183]="OP_NOP8",e[e.OP_NOP9=184]="OP_NOP9",e[e.OP_NOP10=185]="OP_NOP10",e[e.OP_CHECKSIGADD=186]="OP_CHECKSIGADD",e[e.OP_PUBKEYHASH=253]="OP_PUBKEYHASH",e[e.OP_PUBKEY=254]="OP_PUBKEY",e[e.OP_INVALIDOPCODE=255]="OP_INVALIDOPCODE"})($t||($t={}));const Ao="0123456789abcdefABCDEF",So=Ao.split("").map(e=>e.codePointAt(0)),xo=Array(256).fill(!0).map((e,i)=>{const a=String.fromCodePoint(i),s=Ao.indexOf(a);return s<0?void 0:s<16?s:s-6}),U1=new TextEncoder,O1=new TextDecoder;function jA(e){return O1.decode(e)}function KA(e){return U1.encode(e)}function se(e){const i=e.reduce((u,c)=>u+c.length,0),a=new Uint8Array(i);let s=0;for(const u of e)a.set(u,s),s+=u.length;return a}function _t(e){const i=e||new Uint8Array;return i.length>512?XA(i):GA(i)}function GA(e){let i="";for(let a=0;a<e.length;++a)i+=Ao[xo[So[e[a]>>4]]],i+=Ao[xo[So[e[a]&15]]];return i}function XA(e){const i=new Uint8Array(e.length*2);for(let a=0;a<e.length;++a)i[a*2]=So[e[a]>>4],i[a*2+1]=So[e[a]&15];return O1.decode(i)}function Li(e){const i=U1.encode(e||""),a=new Uint8Array(Math.floor(i.length/2));let s;for(s=0;s<a.length;s++){const u=xo[i[s*2]],c=xo[i[s*2+1]];if(u===void 0||c===void 0)break;a[s]=u<<4|c}return s===a.length?a:a.slice(0,s)}function VA(e){return btoa(String.fromCharCode(...e))}function B1(e){const i=atob(e),a=new Uint8Array(i.length);for(let s=0;s<i.length;s++)a[s]=i.charCodeAt(s);return a}function ft(e,i){const a=Math.min(e.length,i.length);for(let s=0;s<a;++s)if(e[s]!==i[s])return e[s]<i[s]?-1:1;return e.length===i.length?0:e.length>i.length?1:-1}function hn(e,i,a){if(i+1>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a>255)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 255. Received ${a}`);return e[i]=a,i+1}function YA(e,i,a,s){if(i+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),a>65535)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 65535. Received ${a}`);return s==="LE"?(e[i]=a&255,e[i+1]=a>>8&255):(e[i]=a>>8&255,e[i+1]=a&255),i+2}function Nl(e,i,a,s){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),a>4294967295)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${4294967295}. Received ${a}`);return s==="LE"?(e[i]=a&255,e[i+1]=a>>8&255,e[i+2]=a>>16&255,e[i+3]=a>>24&255):(e[i]=a>>24&255,e[i+1]=a>>16&255,e[i+2]=a>>8&255,e[i+3]=a&255),i+4}function FA(e,i,a,s){if(i+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),a>0xffffffffffffffffn)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${0xffffffffffffffffn}. Received ${a}`);return s==="LE"?(e[i]=Number(a&0xffn),e[i+1]=Number(a>>8n&0xffn),e[i+2]=Number(a>>16n&0xffn),e[i+3]=Number(a>>24n&0xffn),e[i+4]=Number(a>>32n&0xffn),e[i+5]=Number(a>>40n&0xffn),e[i+6]=Number(a>>48n&0xffn),e[i+7]=Number(a>>56n&0xffn)):(e[i]=Number(a>>56n&0xffn),e[i+1]=Number(a>>48n&0xffn),e[i+2]=Number(a>>40n&0xffn),e[i+3]=Number(a>>32n&0xffn),e[i+4]=Number(a>>24n&0xffn),e[i+5]=Number(a>>16n&0xffn),e[i+6]=Number(a>>8n&0xffn),e[i+7]=Number(a&0xffn)),i+8}function ai(e,i){if(i+1>e.length)throw new Error("Offset is outside the bounds of Uint8Array");return e[i]}function qA(e,i,a){if(i+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){let s=0;return s=(s<<8)+e[i+1],s=(s<<8)+e[i],s}else{let s=0;return s=(s<<8)+e[i],s=(s<<8)+e[i+1],s}}function ia(e,i,a){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){let s=0;return s=(s<<8)+e[i+3]>>>0,s=(s<<8)+e[i+2]>>>0,s=(s<<8)+e[i+1]>>>0,s=(s<<8)+e[i]>>>0,s}else{let s=0;return s=(s<<8)+e[i]>>>0,s=(s<<8)+e[i+1]>>>0,s=(s<<8)+e[i+2]>>>0,s=(s<<8)+e[i+3]>>>0,s}}function C1(e,i,a,s){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a>2147483647||a<-2147483648)throw new Error(`The value of "value" is out of range. It must be >= -2147483648 and <= 2147483647. Received ${a}`);return s=s.toUpperCase(),s==="LE"?(e[i]=a&255,e[i+1]=a>>8&255,e[i+2]=a>>16&255,e[i+3]=a>>24&255):(e[i]=a>>24&255,e[i+1]=a>>16&255,e[i+2]=a>>8&255,e[i+3]=a&255),i+4}function R1(e,i,a,s){if(i+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a>0x7fffffffffffffffn||a<-0x8000000000000000n)throw new Error(`The value of "value" is out of range. It must be >= ${-0x8000000000000000n} and <= ${0x7fffffffffffffffn}. Received ${a}`);return s=s.toUpperCase(),s==="LE"?(e[i]=Number(a&0xffn),e[i+1]=Number(a>>8n&0xffn),e[i+2]=Number(a>>16n&0xffn),e[i+3]=Number(a>>24n&0xffn),e[i+4]=Number(a>>32n&0xffn),e[i+5]=Number(a>>40n&0xffn),e[i+6]=Number(a>>48n&0xffn),e[i+7]=Number(a>>56n&0xffn)):(e[i]=Number(a>>56n&0xffn),e[i+1]=Number(a>>48n&0xffn),e[i+2]=Number(a>>40n&0xffn),e[i+3]=Number(a>>32n&0xffn),e[i+4]=Number(a>>24n&0xffn),e[i+5]=Number(a>>16n&0xffn),e[i+6]=Number(a>>8n&0xffn),e[i+7]=Number(a&0xffn)),i+8}function PA(e,i,a){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){const s=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+(e[i+3]<<24>>>0);return e[i+3]<=127?s:s-4294967296}else{const s=(e[i]<<24>>>0)+(e[i+1]<<16)+(e[i+2]<<8)+e[i+3];return e[i]<=127?s:s-4294967296}}function I1(e,i,a){if(i+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");a=a.toUpperCase();let s=0n;if(a==="LE")return s=(s<<8n)+BigInt(e[i+7]),s=(s<<8n)+BigInt(e[i+6]),s=(s<<8n)+BigInt(e[i+5]),s=(s<<8n)+BigInt(e[i+4]),s=(s<<8n)+BigInt(e[i+3]),s=(s<<8n)+BigInt(e[i+2]),s=(s<<8n)+BigInt(e[i+1]),s=(s<<8n)+BigInt(e[i]),e[i+7]<=127?s:s-0x10000000000000000n;{let u=0n;return u=(u<<8n)+BigInt(e[i]),u=(u<<8n)+BigInt(e[i+1]),u=(u<<8n)+BigInt(e[i+2]),u=(u<<8n)+BigInt(e[i+3]),u=(u<<8n)+BigInt(e[i+4]),u=(u<<8n)+BigInt(e[i+5]),u=(u<<8n)+BigInt(e[i+6]),u=(u<<8n)+BigInt(e[i+7]),e[i]<=127?u:u-0x10000000000000000n}}function H1(e){return e<$t.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}function $A(e,i,a){const s=H1(i);return s===1?hn(e,a,i):s===2?(hn(e,a,$t.OP_PUSHDATA1),hn(e,a+1,i)):s===3?(hn(e,a,$t.OP_PUSHDATA2),YA(e,a+1,i,"LE")):(hn(e,a,$t.OP_PUSHDATA4),Nl(e,a+1,i,"LE")),s}function ZA(e,i){const a=ai(e,i);let s,u;if(a<$t.OP_PUSHDATA1)s=a,u=1;else if(a===$t.OP_PUSHDATA1){if(i+2>e.length)return null;s=ai(e,i+1),u=2}else if(a===$t.OP_PUSHDATA2){if(i+3>e.length)return null;s=qA(e,i+1,"LE"),u=3}else{if(i+5>e.length)return null;if(a!==$t.OP_PUSHDATA4)throw new Error("Unexpected opcode");s=ia(e,i+1,"LE"),u=5}return{opcode:a,number:s,size:u}}function k1(e,i,a){i=i||4,a=a===void 0?!0:a;const s=e.length;if(s===0)return 0;if(s>i)throw new TypeError("Script number overflow");if(a&&(e[s-1]&127)===0&&(s<=1||(e[s-2]&128)===0))throw new Error("Non-minimally encoded script number");if(s===5){const c=ia(e,0,"LE"),h=ai(e,4);return h&128?-((h&-129)*4294967296+c):h*4294967296+c}let u=0;for(let c=0;c<s;++c)u|=e[c]<<8*c;return e[s-1]&128?-(u&~(128<<8*(s-1))):u}function QA(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}function M1(e){let i=Math.abs(e);const a=QA(i),s=new Uint8Array(a),u=e<0;for(let c=0;c<a;++c)hn(s,c,i&255),i>>=8;return s[a-1]&128?hn(s,a-1,u?128:0):u&&(s[a-1]|=128),s}let Uh;function D1(e){return{lang:e?.lang??Uh?.lang,message:e?.message,abortEarly:e?.abortEarly??Uh?.abortEarly,abortPipeEarly:e?.abortPipeEarly??Uh?.abortPipeEarly}}let WA;function JA(e){return WA?.get(e)}let tS;function eS(e){return tS?.get(e)}let nS;function iS(e,i){return nS?.get(e)?.get(i)}function ml(e){const i=typeof e;return i==="string"?`"${e}"`:i==="number"||i==="bigint"||i==="boolean"?`${e}`:i==="object"||i==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":i}function je(e,i,a,s,u){const c=u&&"input"in u?u.input:a.value,h=u?.expected??e.expects??null,d=u?.received??ml(c),p={kind:e.kind,type:e.type,input:c,expected:h,received:d,message:`Invalid ${i}: ${h?`Expected ${h} but r`:"R"}eceived ${d}`,requirement:e.requirement,path:u?.path,issues:u?.issues,lang:s.lang,abortEarly:s.abortEarly,abortPipeEarly:s.abortPipeEarly},y=e.kind==="schema",m=u?.message??e.message??iS(e.reference,p.lang)??(y?eS(p.lang):null)??s.message??JA(p.lang);m!==void 0&&(p.message=typeof m=="function"?m(p):m),y&&(a.typed=!1),a.issues?a.issues.push(p):a.issues=[p]}function Ve(e){return{version:1,vendor:"valibot",validate(i){return e["~run"]({value:i},D1())}}}function rS(e,i){const a=[...new Set(e)];return a.length>1?`(${a.join(` ${i} `)})`:a[0]??"never"}var aS=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function z1(e,i){return{kind:"validation",type:"every_item",reference:z1,async:!1,expects:null,requirement:e,message:i,"~run"(a,s){return a.typed&&!a.value.every(this.requirement)&&je(this,"item",a,s),a}}}function Ed(e){return{kind:"validation",type:"integer",reference:Ed,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(i,a){return i.typed&&!this.requirement(i.value)&&je(this,"integer",i,a),i}}}function L1(e,i){return{kind:"validation",type:"length",reference:L1,async:!1,expects:`${e}`,requirement:e,message:i,"~run"(a,s){return a.typed&&a.value.length!==this.requirement&&je(this,"length",a,s,{received:`${a.value.length}`}),a}}}function Fo(e,i){return{kind:"validation",type:"max_value",reference:Fo,async:!1,expects:`<=${e instanceof Date?e.toJSON():ml(e)}`,requirement:e,message:i,"~run"(a,s){return a.typed&&!(a.value<=this.requirement)&&je(this,"value",a,s,{received:a.value instanceof Date?a.value.toJSON():ml(a.value)}),a}}}function qo(e,i){return{kind:"validation",type:"min_value",reference:qo,async:!1,expects:`>=${e instanceof Date?e.toJSON():ml(e)}`,requirement:e,message:i,"~run"(a,s){return a.typed&&!(a.value>=this.requirement)&&je(this,"value",a,s,{received:a.value instanceof Date?a.value.toJSON():ml(a.value)}),a}}}function sS(e,i,a){return typeof e.fallback=="function"?e.fallback(i,a):e.fallback}function Po(e,i,a){return typeof e.default=="function"?e.default(i,a):e.default}function $o(e,i){return!e["~run"]({value:i},{abortEarly:!0}).issues}function j1(){return{kind:"schema",type:"any",reference:j1,expects:"any",async:!1,get"~standard"(){return Ve(this)},"~run"(e){return e.typed=!0,e}}}function Je(e,i){return{kind:"schema",type:"array",reference:Je,expects:"Array",async:!1,item:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,s){const u=a.value;if(Array.isArray(u)){a.typed=!0,a.value=[];for(let c=0;c<u.length;c++){const h=u[c],d=this.item["~run"]({value:h},s);if(d.issues){const p={type:"array",origin:"value",input:u,key:c,value:h};for(const y of d.issues)y.path?y.path.unshift(p):y.path=[p],a.issues?.push(y);if(a.issues||(a.issues=d.issues),s.abortEarly){a.typed=!1;break}}d.typed||(a.typed=!1),a.value.push(d.value)}}else je(this,"type",a,s);return a}}}function K1(e){return{kind:"schema",type:"bigint",reference:K1,expects:"bigint",async:!1,message:e,get"~standard"(){return Ve(this)},"~run"(i,a){return typeof i.value=="bigint"?i.typed=!0:je(this,"type",i,a),i}}}function Vn(e,i){return{kind:"schema",type:"custom",reference:Vn,expects:"unknown",async:!1,check:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,s){return this.check(a.value)?a.typed=!0:je(this,"type",a,s),a}}}function Zo(e,i){return{kind:"schema",type:"instance",reference:Zo,expects:e.name,async:!1,class:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,s){return a.value instanceof this.class?a.typed=!0:je(this,"type",a,s),a}}}function Qh(e,i){return{kind:"schema",type:"nullable",reference:Qh,expects:`(${e.expects} | null)`,async:!1,wrapped:e,default:i,get"~standard"(){return Ve(this)},"~run"(a,s){return a.value===null&&(this.default!==void 0&&(a.value=Po(this,a,s)),a.value===null)?(a.typed=!0,a):this.wrapped["~run"](a,s)}}}function G1(e,i){return{kind:"schema",type:"nullish",reference:G1,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:i,get"~standard"(){return Ve(this)},"~run"(a,s){return(a.value===null||a.value===void 0)&&(this.default!==void 0&&(a.value=Po(this,a,s)),a.value===null||a.value===void 0)?(a.typed=!0,a):this.wrapped["~run"](a,s)}}}function On(e){return{kind:"schema",type:"number",reference:On,expects:"number",async:!1,message:e,get"~standard"(){return Ve(this)},"~run"(i,a){return typeof i.value=="number"&&!isNaN(i.value)?i.typed=!0:je(this,"type",i,a),i}}}function ve(e,i){return{kind:"schema",type:"object",reference:ve,expects:"Object",async:!1,entries:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,s){const u=a.value;if(u&&typeof u=="object"){a.typed=!0,a.value={};for(const c in this.entries){const h=this.entries[c];if(c in u||(h.type==="exact_optional"||h.type==="optional"||h.type==="nullish")&&h.default!==void 0){const d=c in u?u[c]:Po(h),p=h["~run"]({value:d},s);if(p.issues){const y={type:"object",origin:"value",input:u,key:c,value:d};for(const m of p.issues)m.path?m.path.unshift(y):m.path=[y],a.issues?.push(m);if(a.issues||(a.issues=p.issues),s.abortEarly){a.typed=!1;break}}p.typed||(a.typed=!1),a.value[c]=p.value}else if(h.fallback!==void 0)a.value[c]=sS(h);else if(h.type!=="exact_optional"&&h.type!=="optional"&&h.type!=="nullish"&&(je(this,"key",a,s,{input:void 0,expected:`"${c}"`,path:[{type:"object",origin:"key",input:u,key:c,value:u[c]}]}),s.abortEarly))break}}else je(this,"type",a,s);return a}}}function _o(e,i){return{kind:"schema",type:"optional",reference:_o,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:i,get"~standard"(){return Ve(this)},"~run"(a,s){return a.value===void 0&&(this.default!==void 0&&(a.value=Po(this,a,s)),a.value===void 0)?(a.typed=!0,a):this.wrapped["~run"](a,s)}}}function is(e){return{kind:"schema",type:"string",reference:is,expects:"string",async:!1,message:e,get"~standard"(){return Ve(this)},"~run"(i,a){return typeof i.value=="string"?i.typed=!0:je(this,"type",i,a),i}}}function ei(e,i){return{kind:"schema",type:"tuple",reference:ei,expects:"Array",async:!1,items:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,s){const u=a.value;if(Array.isArray(u)){a.typed=!0,a.value=[];for(let c=0;c<this.items.length;c++){const h=u[c],d=this.items[c]["~run"]({value:h},s);if(d.issues){const p={type:"array",origin:"value",input:u,key:c,value:h};for(const y of d.issues)y.path?y.path.unshift(p):y.path=[p],a.issues?.push(y);if(a.issues||(a.issues=d.issues),s.abortEarly){a.typed=!1;break}}d.typed||(a.typed=!1),a.value.push(d.value)}}else je(this,"type",a,s);return a}}}function um(e){let i;if(e)for(const a of e)i?i.push(...a.issues):i=a.issues;return i}function bd(e,i){return{kind:"schema",type:"union",reference:bd,expects:rS(e.map(a=>a.expects),"|"),async:!1,options:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,s){let u,c,h;for(const d of this.options){const p=d["~run"]({value:a.value},s);if(p.typed)if(p.issues)c?c.push(p):c=[p];else{u=p;break}else h?h.push(p):h=[p]}if(u)return u;if(c){if(c.length===1)return c[0];je(this,"type",a,s,{issues:um(c)}),a.typed=!0}else{if(h?.length===1)return h[0];je(this,"type",a,s,{issues:um(h)})}return a}}}function ge(e,i,a){const s=e["~run"]({value:i},D1(a));if(s.issues)throw new aS(s.issues);return s.value}function xr(e,i){const a={};for(const s in e.entries)a[s]=_o(e.entries[s]);return{...e,entries:a,get"~standard"(){return Ve(this)}}}function Ul(...e){return{...e[0],pipe:e,get"~standard"(){return Ve(this)},"~run"(i,a){for(const s of e)if(s.kind!=="metadata"){if(i.issues&&(s.kind==="schema"||s.kind==="transformation")){i.typed=!1;break}(!i.issues||!a.abortEarly&&!a.abortPipeEarly)&&(i=s["~run"](i,a))}return i}}}const om=new Uint8Array(32),cm=Li("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_e=e=>Ul(Zo(Uint8Array),L1(e));function El(e,i){return e.length!==i.length?!1:e.every((a,s)=>ft(a,i[s])===0)}function Xn(e){if(!(e instanceof Uint8Array)||e.length<33)return!1;const i=e[0],a=e.slice(1,33);if(ft(om,a)===0||ft(a,cm)>=0)return!1;if((i===2||i===3)&&e.length===33)return!0;const s=e.slice(33);return ft(om,s)===0||ft(s,cm)>=0?!1:i===4&&e.length===65}const bo=254;function wd(e){return!e||!("output"in e)||!(e.output instanceof Uint8Array)?!1:e.version!==void 0?(e.version&bo)===e.version:!0}function X1(e){return Array.isArray(e)?e.length!==2?!1:e.every(i=>X1(i)):wd(e)}const lS=_e(32),uS=_e(20),fm=_e(32),Pt=Zo(Uint8Array),oS=Ul(On(),Ed(),qo(0),Fo(255)),Bi=Ul(On(),Ed(),qo(0),Fo(4294967295)),Oh=Ul(K1(),qo(0n),Fo(0x7fffffffffffffffn)),hm=e=>ve(Object.entries(e).reduce((i,a)=>({...i,[a[0]]:G1(a[1])}),{})),dm=new Uint8Array(1);function pm(e){let i=0;for(;e[i]===0;)++i;return i===e.length?dm:(e=e.slice(i),e[0]&128?se([dm,e]):e)}function ym(e){e[0]===0&&(e=e.slice(1));const i=new Uint8Array(32),a=Math.max(0,32-e.length);return i.set(e,a),i}function cS(e){const i=ai(e,e.length-1);if(!Ad(i))throw new Error("Invalid hashType "+i);const a=zA(e.subarray(0,-1)),s=ym(a.r),u=ym(a.s);return{signature:se([s,u]),hashType:i}}function fS(e,i){if(ge(ve({signature:_e(64),hashType:oS}),{signature:e,hashType:i}),!Ad(i))throw new Error("Invalid hashType "+i);const a=new Uint8Array(1);hn(a,0,i);const s=pm(e.slice(0,32)),u=pm(e.slice(32,64));return se([LA(s,u),a])}const hS=Object.freeze(Object.defineProperty({__proto__:null,decode:cS,encode:fS},Symbol.toStringTag,{value:"Module"})),V1=$t.OP_RESERVED,Y1=Je(bd([Zo(Uint8Array),On()]));function dS(e){return $o(On(),e)&&(e===$t.OP_0||e>=$t.OP_1&&e<=$t.OP_16||e===$t.OP_1NEGATE)}function F1(e){return $o(Pt,e)||dS(e)}function vd(e){return $o(Ul(j1(),z1(F1)),e)}function q1(e){return e.length-e.filter(F1).length}function To(e){if(e.length===0)return $t.OP_0;if(e.length===1){if(e[0]>=1&&e[0]<=16)return V1+e[0];if(e[0]===129)return $t.OP_1NEGATE}}function P1(e){return e instanceof Uint8Array}function pS(e){return $o(Y1,e)}function No(e){return e instanceof Uint8Array}function tn(e){if(P1(e))return e;ge(Y1,e);const i=e.reduce((u,c)=>No(c)?c.length===1&&To(c)!==void 0?u+1:u+H1(c.length)+c.length:u+1,0),a=new Uint8Array(i);let s=0;if(e.forEach(u=>{if(No(u)){const c=To(u);if(c!==void 0){hn(a,s,c),s+=1;return}s+=$A(a,u.length,s),a.set(u,s),s+=u.length}else hn(a,s,u),s+=1}),s!==a.length)throw new Error("Could not decode chunks");return a}function fe(e){if(pS(e))return e;ge(Pt,e);const i=[];let a=0;for(;a<e.length;){const s=e[a];if(s>$t.OP_0&&s<=$t.OP_PUSHDATA4){const u=ZA(e,a);if(u===null||(a+=u.size,a+u.number>e.length))return null;const c=e.slice(a,a+u.number);a+=u.number;const h=To(c);h!==void 0?i.push(h):i.push(c)}else i.push(s),a+=1}return i}function yS(e){if(P1(e)&&(e=fe(e)),!e)throw new Error("Could not convert invalid chunks to ASM");return e.map(i=>{if(No(i)){const a=To(i);if(a===void 0)return _t(i);i=a}return $t[i]}).join(" ")}function gS(e){return e=fe(e),ge(Vn(vd),e),e.map(i=>No(i)?i:i===$t.OP_0?new Uint8Array(0):M1(i-V1))}function mS(e){return Xn(e)}function Ad(e){const i=e&-129;return i>0&&i<4}function Mi(e){return!(e instanceof Uint8Array)||!Ad(e[e.length-1])?!1:DA(e.slice(0,-1))}const yl=hS;function At(e,i,a){Object.defineProperty(e,i,{configurable:!0,enumerable:!0,get(){const s=a.call(this);return this[i]=s,s},set(s){Object.defineProperty(this,i,{configurable:!0,enumerable:!0,value:s,writable:!0})}})}function Bn(e){let i;return()=>(i!==void 0||(i=e()),i)}const $a=$t,Uo=$a.OP_RESERVED;function gm(e){return e<=16?Uo+e:M1(e)}function mm(e){if(typeof e=="number"){const i=e-Uo;if(i<1||i>16)throw new TypeError(`Invalid opcode: expected OP_1OP_16, got ${e}`);return i}else return k1(e)}function Em(e){return typeof e=="number"?e-Uo>=1&&e-Uo<=16:Number.isInteger(k1(e))}function Ol(e,i){if(!e.input&&!e.output&&!(e.pubkeys&&e.m!==void 0)&&!e.signatures)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{});function a(p){return Mi(p)||(i.allowIncomplete&&p===$a.OP_0)!==void 0}ge(xr(ve({network:ve({}),m:On(),n:On(),output:Pt,pubkeys:Je(Vn(Xn),"Received invalid pubkey"),signatures:Je(Vn(a),"Expected signature to be of type isAcceptableSignature"),input:Pt})),e);const u={network:e.network||si};let c=[],h=!1;function d(p){if(!h){if(h=!0,c=fe(p),c.length<3)throw new TypeError("Output is invalid");u.m=mm(c[0]),u.n=mm(c[c.length-2]),u.pubkeys=c.slice(1,-2)}}if(At(u,"output",()=>{if(e.m&&u.n&&e.pubkeys)return tn([].concat(gm(e.m),e.pubkeys,gm(u.n),$a.OP_CHECKMULTISIG))}),At(u,"m",()=>{if(u.output)return d(u.output),u.m}),At(u,"n",()=>{if(u.pubkeys)return u.pubkeys.length}),At(u,"pubkeys",()=>{if(e.output)return d(e.output),u.pubkeys}),At(u,"signatures",()=>{if(e.input)return fe(e.input).slice(1)}),At(u,"input",()=>{if(e.signatures)return tn([$a.OP_0].concat(e.signatures))}),At(u,"witness",()=>{if(u.input)return[]}),At(u,"name",()=>{if(!(!u.m||!u.n))return`p2ms(${u.m} of ${u.n})`}),i.validate){if(e.output){if(d(e.output),!Em(c[0]))throw new TypeError("Output is invalid");if(!Em(c[c.length-2]))throw new TypeError("Output is invalid");if(c[c.length-1]!==$a.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(u.m<=0||u.n>20||u.m>u.n||u.n!==c.length-3)throw new TypeError("Output is invalid");if(!u.pubkeys.every(p=>Xn(p)))throw new TypeError("Output is invalid");if(e.m!==void 0&&e.m!==u.m)throw new TypeError("m mismatch");if(e.n!==void 0&&e.n!==u.n)throw new TypeError("n mismatch");if(e.pubkeys&&!El(e.pubkeys,u.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(e.n!==void 0&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(u.n=e.pubkeys.length,u.n<u.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<u.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>u.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==$a.OP_0)throw new TypeError("Input is invalid");if(u.signatures.length===0||!u.signatures.every(a))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!El(e.signatures,u.signatures))throw new TypeError("Signature mismatch");if(e.m!==void 0&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(u,e)}const bm=$t;function $1(e,i){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ge(xr(ve({network:ve({}),output:Pt,pubkey:Vn(Xn,"invalid pubkey"),signature:Vn(Mi,"Expected signature to be of type isCanonicalScriptSignature"),input:Pt})),e);const a=Bn(()=>fe(e.input)),u={name:"p2pk",network:e.network||si};if(At(u,"output",()=>{if(e.pubkey)return tn([e.pubkey,bm.OP_CHECKSIG])}),At(u,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),At(u,"signature",()=>{if(e.input)return a()[0]}),At(u,"input",()=>{if(e.signature)return tn([e.signature])}),At(u,"witness",()=>{if(u.input)return[]}),i.validate){if(e.output){if(e.output[e.output.length-1]!==bm.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!Xn(u.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&ft(e.pubkey,u.pubkey)!==0)throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&ft(e.input,u.input)!==0)throw new TypeError("Signature mismatch");if(e.input){if(a().length!==1)throw new TypeError("Input is invalid");if(!Mi(u.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(u,e)}function ES(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Sd(e,...i){if(!ES(e))throw new Error("Uint8Array expected");if(i.length>0&&!i.includes(e.length))throw new Error("Uint8Array expected of length "+i+", got length="+e.length)}function wm(e,i=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(i&&e.finished)throw new Error("Hash#digest() has already been called")}function bS(e,i){Sd(e);const a=i.outputLen;if(e.length<a)throw new Error("digestInto() expects output buffer of length at least "+a)}function bl(...e){for(let i=0;i<e.length;i++)e[i].fill(0)}function Bh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Qn(e,i){return e<<32-i|e>>>i}function eo(e,i){return e<<i|e>>>32-i>>>0}function wS(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Z1(e){return typeof e=="string"&&(e=wS(e)),Sd(e),e}let vS=class{};function Q1(e){const i=s=>e().update(Z1(s)).digest(),a=e();return i.outputLen=a.outputLen,i.blockLen=a.blockLen,i.create=()=>e(),i}function AS(e,i,a,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(i,a,s);const u=BigInt(32),c=BigInt(4294967295),h=Number(a>>u&c),d=Number(a&c),p=s?4:0,y=s?0:4;e.setUint32(i+p,h,s),e.setUint32(i+y,d,s)}function SS(e,i,a){return e&i^~e&a}function xS(e,i,a){return e&i^e&a^i&a}let W1=class extends vS{constructor(i,a,s,u){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=i,this.outputLen=a,this.padOffset=s,this.isLE=u,this.buffer=new Uint8Array(i),this.view=Bh(this.buffer)}update(i){wm(this),i=Z1(i),Sd(i);const{view:a,buffer:s,blockLen:u}=this,c=i.length;for(let h=0;h<c;){const d=Math.min(u-this.pos,c-h);if(d===u){const p=Bh(i);for(;u<=c-h;h+=u)this.process(p,h);continue}s.set(i.subarray(h,h+d),this.pos),this.pos+=d,h+=d,this.pos===u&&(this.process(a,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){wm(this),bS(i,this),this.finished=!0;const{buffer:a,view:s,blockLen:u,isLE:c}=this;let{pos:h}=this;a[h++]=128,bl(this.buffer.subarray(h)),this.padOffset>u-h&&(this.process(s,0),h=0);for(let E=h;E<u;E++)a[E]=0;AS(s,u-8,BigInt(this.length*8),c),this.process(s,0);const d=Bh(i),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=p/4,m=this.get();if(y>m.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<y;E++)d.setUint32(4*E,m[E],c)}digest(){const{buffer:i,outputLen:a}=this;this.digestInto(i);const s=i.slice(0,a);return this.destroy(),s}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:a,buffer:s,length:u,finished:c,destroyed:h,pos:d}=this;return i.destroyed=h,i.finished=c,i.length=u,i.pos=d,u%a&&i.buffer.set(s),i}clone(){return this._cloneInto()}};const dr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_S=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),J1=Uint8Array.from(new Array(16).fill(0).map((e,i)=>i)),TS=J1.map(e=>(9*e+5)%16),tE=(()=>{const a=[[J1],[TS]];for(let s=0;s<4;s++)for(let u of a)u.push(u[s].map(c=>_S[c]));return a})(),eE=tE[0],nE=tE[1],iE=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),NS=eE.map((e,i)=>e.map(a=>iE[i][a])),US=nE.map((e,i)=>e.map(a=>iE[i][a])),OS=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),BS=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function vm(e,i,a,s){return e===0?i^a^s:e===1?i&a|~i&s:e===2?(i|~a)^s:e===3?i&s|a&~s:i^(a|~s)}const no=new Uint32Array(16);class CS extends W1{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:i,h1:a,h2:s,h3:u,h4:c}=this;return[i,a,s,u,c]}set(i,a,s,u,c){this.h0=i|0,this.h1=a|0,this.h2=s|0,this.h3=u|0,this.h4=c|0}process(i,a){for(let _=0;_<16;_++,a+=4)no[_]=i.getUint32(a,!0);let s=this.h0|0,u=s,c=this.h1|0,h=c,d=this.h2|0,p=d,y=this.h3|0,m=y,E=this.h4|0,v=E;for(let _=0;_<5;_++){const x=4-_,U=OS[_],C=BS[_],H=eE[_],V=nE[_],k=NS[_],z=US[_];for(let Y=0;Y<16;Y++){const J=eo(s+vm(_,c,d,y)+no[H[Y]]+U,k[Y])+E|0;s=E,E=y,y=eo(d,10)|0,d=c,c=J}for(let Y=0;Y<16;Y++){const J=eo(u+vm(x,h,p,m)+no[V[Y]]+C,z[Y])+v|0;u=v,v=m,m=eo(p,10)|0,p=h,h=J}}this.set(this.h1+d+m|0,this.h2+y+v|0,this.h3+E+u|0,this.h4+s+h|0,this.h0+c+p|0)}roundClean(){bl(no)}destroy(){this.destroyed=!0,bl(this.buffer),this.set(0,0,0,0,0)}}const RS=Q1(()=>new CS),IS=RS,HS=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pr=new Uint32Array(64);let kS=class extends W1{constructor(i=32){super(64,i,8,!1),this.A=dr[0]|0,this.B=dr[1]|0,this.C=dr[2]|0,this.D=dr[3]|0,this.E=dr[4]|0,this.F=dr[5]|0,this.G=dr[6]|0,this.H=dr[7]|0}get(){const{A:i,B:a,C:s,D:u,E:c,F:h,G:d,H:p}=this;return[i,a,s,u,c,h,d,p]}set(i,a,s,u,c,h,d,p){this.A=i|0,this.B=a|0,this.C=s|0,this.D=u|0,this.E=c|0,this.F=h|0,this.G=d|0,this.H=p|0}process(i,a){for(let E=0;E<16;E++,a+=4)pr[E]=i.getUint32(a,!1);for(let E=16;E<64;E++){const v=pr[E-15],_=pr[E-2],x=Qn(v,7)^Qn(v,18)^v>>>3,U=Qn(_,17)^Qn(_,19)^_>>>10;pr[E]=U+pr[E-7]+x+pr[E-16]|0}let{A:s,B:u,C:c,D:h,E:d,F:p,G:y,H:m}=this;for(let E=0;E<64;E++){const v=Qn(d,6)^Qn(d,11)^Qn(d,25),_=m+v+SS(d,p,y)+HS[E]+pr[E]|0,U=(Qn(s,2)^Qn(s,13)^Qn(s,22))+xS(s,u,c)|0;m=y,y=p,p=d,d=h+_|0,h=c,c=u,u=s,s=_+U|0}s=s+this.A|0,u=u+this.B|0,c=c+this.C|0,h=h+this.D|0,d=d+this.E|0,p=p+this.F|0,y=y+this.G|0,m=m+this.H|0,this.set(s,u,c,h,d,p,y,m)}roundClean(){bl(pr)}destroy(){this.set(0,0,0,0,0,0,0,0),bl(this.buffer)}};const MS=Q1(()=>new kS),fn=MS;function ki(e){return IS(fn(e))}function Pr(e){return fn(fn(e))}const DS={"BIP0340/challenge":Uint8Array.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Uint8Array.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Uint8Array.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Uint8Array.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Uint8Array.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Uint8Array.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Uint8Array.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Uint8Array.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Uint8Array.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function Bl(e,i){return fn(se([DS[e],i]))}function zS(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function xd(e,...i){if(!zS(e))throw new Error("Uint8Array expected");if(i.length>0&&!i.includes(e.length))throw new Error("Uint8Array expected of length "+i+", got length="+e.length)}function Am(e,i=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(i&&e.finished)throw new Error("Hash#digest() has already been called")}function LS(e,i){xd(e);const a=i.outputLen;if(e.length<a)throw new Error("digestInto() expects output buffer of length at least "+a)}function Wh(...e){for(let i=0;i<e.length;i++)e[i].fill(0)}function Ch(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Wn(e,i){return e<<32-i|e>>>i}function jS(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function rE(e){return typeof e=="string"&&(e=jS(e)),xd(e),e}class KS{}function GS(e){const i=s=>e().update(rE(s)).digest(),a=e();return i.outputLen=a.outputLen,i.blockLen=a.blockLen,i.create=()=>e(),i}function XS(e,i,a,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(i,a,s);const u=BigInt(32),c=BigInt(4294967295),h=Number(a>>u&c),d=Number(a&c),p=s?4:0,y=s?0:4;e.setUint32(i+p,h,s),e.setUint32(i+y,d,s)}function VS(e,i,a){return e&i^~e&a}function YS(e,i,a){return e&i^e&a^i&a}let FS=class extends KS{constructor(i,a,s,u){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=i,this.outputLen=a,this.padOffset=s,this.isLE=u,this.buffer=new Uint8Array(i),this.view=Ch(this.buffer)}update(i){Am(this),i=rE(i),xd(i);const{view:a,buffer:s,blockLen:u}=this,c=i.length;for(let h=0;h<c;){const d=Math.min(u-this.pos,c-h);if(d===u){const p=Ch(i);for(;u<=c-h;h+=u)this.process(p,h);continue}s.set(i.subarray(h,h+d),this.pos),this.pos+=d,h+=d,this.pos===u&&(this.process(a,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){Am(this),LS(i,this),this.finished=!0;const{buffer:a,view:s,blockLen:u,isLE:c}=this;let{pos:h}=this;a[h++]=128,Wh(this.buffer.subarray(h)),this.padOffset>u-h&&(this.process(s,0),h=0);for(let E=h;E<u;E++)a[E]=0;XS(s,u-8,BigInt(this.length*8),c),this.process(s,0);const d=Ch(i),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=p/4,m=this.get();if(y>m.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<y;E++)d.setUint32(4*E,m[E],c)}digest(){const{buffer:i,outputLen:a}=this;this.digestInto(i);const s=i.slice(0,a);return this.destroy(),s}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:a,buffer:s,length:u,finished:c,destroyed:h,pos:d}=this;return i.destroyed=h,i.finished=c,i.length=u,i.pos=d,u%a&&i.buffer.set(s),i}clone(){return this._cloneInto()}};const yr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qS=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gr=new Uint32Array(64);class PS extends FS{constructor(i=32){super(64,i,8,!1),this.A=yr[0]|0,this.B=yr[1]|0,this.C=yr[2]|0,this.D=yr[3]|0,this.E=yr[4]|0,this.F=yr[5]|0,this.G=yr[6]|0,this.H=yr[7]|0}get(){const{A:i,B:a,C:s,D:u,E:c,F:h,G:d,H:p}=this;return[i,a,s,u,c,h,d,p]}set(i,a,s,u,c,h,d,p){this.A=i|0,this.B=a|0,this.C=s|0,this.D=u|0,this.E=c|0,this.F=h|0,this.G=d|0,this.H=p|0}process(i,a){for(let E=0;E<16;E++,a+=4)gr[E]=i.getUint32(a,!1);for(let E=16;E<64;E++){const v=gr[E-15],_=gr[E-2],x=Wn(v,7)^Wn(v,18)^v>>>3,U=Wn(_,17)^Wn(_,19)^_>>>10;gr[E]=U+gr[E-7]+x+gr[E-16]|0}let{A:s,B:u,C:c,D:h,E:d,F:p,G:y,H:m}=this;for(let E=0;E<64;E++){const v=Wn(d,6)^Wn(d,11)^Wn(d,25),_=m+v+VS(d,p,y)+qS[E]+gr[E]|0,U=(Wn(s,2)^Wn(s,13)^Wn(s,22))+YS(s,u,c)|0;m=y,y=p,p=d,d=h+_|0,h=c,c=u,u=s,s=_+U|0}s=s+this.A|0,u=u+this.B|0,c=c+this.C|0,h=h+this.D|0,d=d+this.E|0,p=p+this.F|0,y=y+this.G|0,m=m+this.H|0,this.set(s,u,c,h,d,p,y,m)}roundClean(){Wh(gr)}destroy(){this.set(0,0,0,0,0,0,0,0),Wh(this.buffer)}}const $S=GS(()=>new PS),Sm=$S;function ZS(e){if(e.length>=255)throw new TypeError("Alphabet too long");const i=new Uint8Array(256);for(let y=0;y<i.length;y++)i[y]=255;for(let y=0;y<e.length;y++){const m=e.charAt(y),E=m.charCodeAt(0);if(i[E]!==255)throw new TypeError(m+" is ambiguous");i[E]=y}const a=e.length,s=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";let m=0,E=0,v=0;const _=y.length;for(;v!==_&&y[v]===0;)v++,m++;const x=(_-v)*c+1>>>0,U=new Uint8Array(x);for(;v!==_;){let V=y[v],k=0;for(let z=x-1;(V!==0||k<E)&&z!==-1;z--,k++)V+=256*U[z]>>>0,U[z]=V%a>>>0,V=V/a>>>0;if(V!==0)throw new Error("Non-zero carry");E=k,v++}let C=x-E;for(;C!==x&&U[C]===0;)C++;let H=s.repeat(m);for(;C<x;++C)H+=e.charAt(U[C]);return H}function d(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;let m=0,E=0,v=0;for(;y[m]===s;)E++,m++;const _=(y.length-m)*u+1>>>0,x=new Uint8Array(_);for(;m<y.length;){const V=y.charCodeAt(m);if(V>255)return;let k=i[V];if(k===255)return;let z=0;for(let Y=_-1;(k!==0||z<v)&&Y!==-1;Y--,z++)k+=a*x[Y]>>>0,x[Y]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");v=z,m++}let U=_-v;for(;U!==_&&x[U]===0;)U++;const C=new Uint8Array(E+(_-U));let H=E;for(;U!==_;)C[H++]=x[U++];return C}function p(y){const m=d(y);if(m)return m;throw new Error("Non-base"+a+" character")}return{encode:h,decodeUnsafe:d,decode:p}}var QS="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Rh=ZS(QS);function WS(e){function i(c){var h=Uint8Array.from(c),d=e(h),p=h.length+4,y=new Uint8Array(p);return y.set(h,0),y.set(d.subarray(0,4),h.length),Rh.encode(y)}function a(c){var h=c.slice(0,-4),d=c.slice(-4),p=e(h);if(!(d[0]^p[0]|d[1]^p[1]|d[2]^p[2]|d[3]^p[3]))return h}function s(c){var h=Rh.decodeUnsafe(c);if(h!=null)return a(h)}function u(c){var h=Rh.decode(c),d=a(h);if(d==null)throw new Error("Invalid checksum");return d}return{encode:i,decode:u,decodeUnsafe:s}}function JS(e){return Sm(Sm(e))}const wl=WS(JS),mr=$t;function Cl(e,i){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ge(xr(ve({network:ve({}),address:is(),hash:uS,output:_e(25),pubkey:Vn(Xn),signature:Vn(Mi),input:Pt})),e);const a=Bn(()=>{const h=wl.decode(e.address),d=ai(h,0),p=h.slice(1);return{version:d,hash:p}}),s=Bn(()=>fe(e.input)),u=e.network||si,c={name:"p2pkh",network:u};if(At(c,"address",()=>{if(!c.hash)return;const h=new Uint8Array(21);return hn(h,0,u.pubKeyHash),h.set(c.hash,1),wl.encode(h)}),At(c,"hash",()=>{if(e.output)return e.output.slice(3,23);if(e.address)return a().hash;if(e.pubkey||c.pubkey)return ki(e.pubkey||c.pubkey)}),At(c,"output",()=>{if(c.hash)return tn([mr.OP_DUP,mr.OP_HASH160,c.hash,mr.OP_EQUALVERIFY,mr.OP_CHECKSIG])}),At(c,"pubkey",()=>{if(e.input)return s()[1]}),At(c,"signature",()=>{if(e.input)return s()[0]}),At(c,"input",()=>{if(e.pubkey&&e.signature)return tn([e.signature,e.pubkey])}),At(c,"witness",()=>{if(c.input)return[]}),i.validate){let h=Uint8Array.from([]);if(e.address){if(a().version!==u.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(a().hash.length!==20)throw new TypeError("Invalid address");h=a().hash}if(e.hash){if(h.length>0&&ft(h,e.hash)!==0)throw new TypeError("Hash mismatch");h=e.hash}if(e.output){if(e.output.length!==25||e.output[0]!==mr.OP_DUP||e.output[1]!==mr.OP_HASH160||e.output[2]!==20||e.output[23]!==mr.OP_EQUALVERIFY||e.output[24]!==mr.OP_CHECKSIG)throw new TypeError("Output is invalid");const d=e.output.slice(3,23);if(h.length>0&&ft(h,d)!==0)throw new TypeError("Hash mismatch");h=d}if(e.pubkey){const d=ki(e.pubkey);if(h.length>0&&ft(h,d)!==0)throw new TypeError("Hash mismatch");h=d}if(e.input){const d=s();if(d.length!==2)throw new TypeError("Input is invalid");if(!Mi(d[0]))throw new TypeError("Input has invalid signature");if(!Xn(d[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&ft(e.signature,d[0])!==0)throw new TypeError("Signature mismatch");if(e.pubkey&&ft(e.pubkey,d[1])!==0)throw new TypeError("Pubkey mismatch");const p=ki(d[1]);if(h.length>0&&ft(h,p)!==0)throw new TypeError("Hash mismatch")}}return Object.assign(c,e)}const ul=$t;function Rl(e,i){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ge(xr(ve({network:ve({}),address:is(),hash:_e(20),output:_e(23),redeem:xr(ve({network:ve({}),output:Pt,input:Pt,witness:Je(Pt)})),input:Pt,witness:Je(Pt)})),e);let a=e.network;a||(a=e.redeem&&e.redeem.network||si);const s={network:a},u=Bn(()=>{const d=wl.decode(e.address),p=ai(d,0),y=d.slice(1);return{version:p,hash:y}}),c=Bn(()=>fe(e.input)),h=Bn(()=>{const d=c(),p=d[d.length-1];return{network:a,output:p===ul.OP_FALSE?Uint8Array.from([]):p,input:tn(d.slice(0,-1)),witness:e.witness||[]}});if(At(s,"address",()=>{if(!s.hash)return;const d=new Uint8Array(21);return hn(d,0,s.network.scriptHash),d.set(s.hash,1),wl.encode(d)}),At(s,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return u().hash;if(s.redeem&&s.redeem.output)return ki(s.redeem.output)}),At(s,"output",()=>{if(s.hash)return tn([ul.OP_HASH160,s.hash,ul.OP_EQUAL])}),At(s,"redeem",()=>{if(e.input)return h()}),At(s,"input",()=>{if(!(!e.redeem||!e.redeem.input||!e.redeem.output))return tn([].concat(fe(e.redeem.input),e.redeem.output))}),At(s,"witness",()=>{if(s.redeem&&s.redeem.witness)return s.redeem.witness;if(s.input)return[]}),At(s,"name",()=>{const d=["p2sh"];return s.redeem!==void 0&&s.redeem.name!==void 0&&d.push(s.redeem.name),d.join("-")}),i.validate){let d=Uint8Array.from([]);if(e.address){if(u().version!==a.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(u().hash.length!==20)throw new TypeError("Invalid address");d=u().hash}if(e.hash){if(d.length>0&&ft(d,e.hash)!==0)throw new TypeError("Hash mismatch");d=e.hash}if(e.output){if(e.output.length!==23||e.output[0]!==ul.OP_HASH160||e.output[1]!==20||e.output[22]!==ul.OP_EQUAL)throw new TypeError("Output is invalid");const y=e.output.slice(2,22);if(d.length>0&&ft(d,y)!==0)throw new TypeError("Hash mismatch");d=y}const p=y=>{if(y.output){const m=fe(y.output);if(!m||m.length<1)throw new TypeError("Redeem.output too short");if(y.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(q1(m)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const E=ki(y.output);if(d.length>0&&ft(d,E)!==0)throw new TypeError("Hash mismatch");d=E}if(y.input){const m=y.input.length>0,E=y.witness&&y.witness.length>0;if(!m&&!E)throw new TypeError("Empty input");if(m&&E)throw new TypeError("Input and witness provided");if(m){const v=fe(y.input);if(!vd(v))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const y=c();if(!y||y.length<1)throw new TypeError("Input too short");if(!(h().output instanceof Uint8Array))throw new TypeError("Input is invalid");p(h())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==a)throw new TypeError("Network mismatch");if(e.input){const y=h();if(e.redeem.output&&ft(e.redeem.output,y.output)!==0)throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&ft(e.redeem.input,y.input)!==0)throw new TypeError("Redeem.input mismatch")}p(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!El(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(s,e)}var $r={},xm;function tx(){if(xm)return $r;xm=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.bech32m=$r.bech32=void 0;const e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={};for(let y=0;y<e.length;y++){const m=e.charAt(y);i[m]=y}function a(y){const m=y>>25;return(y&33554431)<<5^-(m>>0&1)&996825010^-(m>>1&1)&642813549^-(m>>2&1)&513874426^-(m>>3&1)&1027748829^-(m>>4&1)&705979059}function s(y){let m=1;for(let E=0;E<y.length;++E){const v=y.charCodeAt(E);if(v<33||v>126)return"Invalid prefix ("+y+")";m=a(m)^v>>5}m=a(m);for(let E=0;E<y.length;++E){const v=y.charCodeAt(E);m=a(m)^v&31}return m}function u(y,m,E,v){let _=0,x=0;const U=(1<<E)-1,C=[];for(let H=0;H<y.length;++H)for(_=_<<m|y[H],x+=m;x>=E;)x-=E,C.push(_>>x&U);if(v)x>0&&C.push(_<<E-x&U);else{if(x>=m)return"Excess padding";if(_<<E-x&U)return"Non-zero padding"}return C}function c(y){return u(y,8,5,!0)}function h(y){const m=u(y,5,8,!1);if(Array.isArray(m))return m}function d(y){const m=u(y,5,8,!1);if(Array.isArray(m))return m;throw new Error(m)}function p(y){let m;y==="bech32"?m=1:m=734539939;function E(U,C,H){if(H=H||90,U.length+7+C.length>H)throw new TypeError("Exceeds length limit");U=U.toLowerCase();let V=s(U);if(typeof V=="string")throw new Error(V);let k=U+"1";for(let z=0;z<C.length;++z){const Y=C[z];if(Y>>5!==0)throw new Error("Non 5-bit word");V=a(V)^Y,k+=e.charAt(Y)}for(let z=0;z<6;++z)V=a(V);V^=m;for(let z=0;z<6;++z){const Y=V>>(5-z)*5&31;k+=e.charAt(Y)}return k}function v(U,C){if(C=C||90,U.length<8)return U+" too short";if(U.length>C)return"Exceeds length limit";const H=U.toLowerCase(),V=U.toUpperCase();if(U!==H&&U!==V)return"Mixed-case string "+U;U=H;const k=U.lastIndexOf("1");if(k===-1)return"No separator character for "+U;if(k===0)return"Missing prefix for "+U;const z=U.slice(0,k),Y=U.slice(k+1);if(Y.length<6)return"Data too short";let J=s(z);if(typeof J=="string")return J;const P=[];for(let ct=0;ct<Y.length;++ct){const ut=Y.charAt(ct),Nt=i[ut];if(Nt===void 0)return"Unknown character "+ut;J=a(J)^Nt,!(ct+6>=Y.length)&&P.push(Nt)}return J!==m?"Invalid checksum for "+U:{prefix:z,words:P}}function _(U,C){const H=v(U,C);if(typeof H=="object")return H}function x(U,C){const H=v(U,C);if(typeof H=="object")return H;throw new Error(H)}return{decodeUnsafe:_,decode:x,encode:E,toWords:c,fromWordsUnsafe:h,fromWords:d}}return $r.bech32=p("bech32"),$r.bech32m=p("bech32m"),$r}var Le=tx();const _m=$t,ex=new Uint8Array(0);function Qo(e,i){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ge(xr(ve({address:is(),hash:_e(20),input:_e(0),network:ve({}),output:_e(22),pubkey:Vn(Xn,"Not a valid pubkey"),signature:Vn(Mi),witness:Je(Pt)})),e);const a=Bn(()=>{const c=Le.bech32.decode(e.address),h=c.words.shift(),d=Le.bech32.fromWords(c.words);return{version:h,prefix:c.prefix,data:Uint8Array.from(d)}}),s=e.network||si,u={name:"p2wpkh",network:s};if(At(u,"address",()=>{if(!u.hash)return;const c=Le.bech32.toWords(u.hash);return c.unshift(0),Le.bech32.encode(s.bech32,c)}),At(u,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return a().data;if(e.pubkey||u.pubkey)return ki(e.pubkey||u.pubkey)}),At(u,"output",()=>{if(u.hash)return tn([_m.OP_0,u.hash])}),At(u,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.witness)return e.witness[1]}),At(u,"signature",()=>{if(e.witness)return e.witness[0]}),At(u,"input",()=>{if(u.witness)return ex}),At(u,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),i.validate){let c=Uint8Array.from([]);if(e.address){if(s&&s.bech32!==a().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(a().version!==0)throw new TypeError("Invalid address version");if(a().data.length!==20)throw new TypeError("Invalid address data");c=a().data}if(e.hash){if(c.length>0&&ft(c,e.hash)!==0)throw new TypeError("Hash mismatch");c=e.hash}if(e.output){if(e.output.length!==22||e.output[0]!==_m.OP_0||e.output[1]!==20)throw new TypeError("Output is invalid");if(c.length>0&&ft(c,e.output.slice(2))!==0)throw new TypeError("Hash mismatch");c=e.output.slice(2)}if(e.pubkey){const h=ki(e.pubkey);if(c.length>0&&ft(c,h)!==0)throw new TypeError("Hash mismatch");if(c=h,!Xn(e.pubkey)||e.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(e.witness.length!==2)throw new TypeError("Witness is invalid");if(!Mi(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!Xn(e.witness[1])||e.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(e.signature&&ft(e.signature,e.witness[0])!==0)throw new TypeError("Signature mismatch");if(e.pubkey&&ft(e.pubkey,e.witness[1])!==0)throw new TypeError("Pubkey mismatch");const h=ki(e.witness[1]);if(c.length>0&&ft(c,h)!==0)throw new TypeError("Hash mismatch")}}return Object.assign(u,e)}const Tm=$t,Ih=new Uint8Array(0);function io(e){return!!(e instanceof Uint8Array&&e.length===65&&e[0]===4&&Xn(e))}function rs(e,i){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ge(hm({network:ve({}),address:is(),hash:lS,output:_e(34),redeem:hm({input:Pt,network:ve({}),output:Pt,witness:Je(Pt)}),input:_e(0),witness:Je(Pt)}),e);const a=Bn(()=>{const h=Le.bech32.decode(e.address),d=h.words.shift(),p=Le.bech32.fromWords(h.words);return{version:d,prefix:h.prefix,data:Uint8Array.from(p)}}),s=Bn(()=>fe(e.redeem.input));let u=e.network;u||(u=e.redeem&&e.redeem.network||si);const c={network:u};if(At(c,"address",()=>{if(!c.hash)return;const h=Le.bech32.toWords(c.hash);return h.unshift(0),Le.bech32.encode(u.bech32,h)}),At(c,"hash",()=>{if(e.output)return e.output.slice(2);if(e.address)return a().data;if(c.redeem&&c.redeem.output)return fn(c.redeem.output)}),At(c,"output",()=>{if(c.hash)return tn([Tm.OP_0,c.hash])}),At(c,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:Ih,witness:e.witness.slice(0,-1)}}),At(c,"input",()=>{if(c.witness)return Ih}),At(c,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const h=gS(s());return c.redeem=Object.assign({witness:h},e.redeem),c.redeem.input=Ih,[].concat(h,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),At(c,"name",()=>{const h=["p2wsh"];return c.redeem!==void 0&&c.redeem.name!==void 0&&h.push(c.redeem.name),h.join("-")}),i.validate){let h=Uint8Array.from([]);if(e.address){if(a().prefix!==u.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(a().version!==0)throw new TypeError("Invalid address version");if(a().data.length!==32)throw new TypeError("Invalid address data");h=a().data}if(e.hash){if(h.length>0&&ft(h,e.hash)!==0)throw new TypeError("Hash mismatch");h=e.hash}if(e.output){if(e.output.length!==34||e.output[0]!==Tm.OP_0||e.output[1]!==32)throw new TypeError("Output is invalid");const d=e.output.slice(2);if(h.length>0&&ft(h,d)!==0)throw new TypeError("Hash mismatch");h=d}if(e.redeem){if(e.redeem.network&&e.redeem.network!==u)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){const d=fe(e.redeem.output);if(!d||d.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(q1(d)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const p=fn(e.redeem.output);if(h.length>0&&ft(h,p)!==0)throw new TypeError("Hash mismatch");h=p}if(e.redeem.input&&!vd(s()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!El(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&s().some(io)||e.redeem.output&&(fe(e.redeem.output)||[]).some(io))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const d=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&ft(e.redeem.output,d)!==0)throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(io)||(fe(d)||[]).some(io))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(c,e)}const gl={};function aE(e,i){e?e!==gl.eccLib&&(nx(e),gl.eccLib=e):gl.eccLib=e}function Jh(){if(!gl.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return gl.eccLib}const Ni=e=>Li(e);function nx(e){Tn(typeof e.isXOnlyPoint=="function"),Tn(e.isXOnlyPoint(Ni("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Tn(e.isXOnlyPoint(Ni("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),Tn(e.isXOnlyPoint(Ni("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),Tn(e.isXOnlyPoint(Ni("0000000000000000000000000000000000000000000000000000000000000001"))),Tn(!e.isXOnlyPoint(Ni("0000000000000000000000000000000000000000000000000000000000000000"))),Tn(!e.isXOnlyPoint(Ni("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),Tn(typeof e.xOnlyPointAddTweak=="function"),ix.forEach(i=>{const a=e.xOnlyPointAddTweak(Ni(i.pubkey),Ni(i.tweak));i.result===null?Tn(a===null):(Tn(a!==null),Tn(a.parity===i.parity),Tn(ft(a.xOnlyPubkey,Ni(i.result))===0))})}function Tn(e){if(!e)throw new Error("ecc library invalid")}const ix=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}],sE="0123456789abcdefABCDEF";sE.split("").map(e=>e.codePointAt(0));Array(256).fill(!0).map((e,i)=>{const a=String.fromCodePoint(i),s=sE.indexOf(a);return s<0?void 0:s<16?s:s-6});new TextEncoder;new TextDecoder;function rx(e,i,a,s){if(i+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),a>65535)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 65535. Received ${a}`);s==="LE"?(e[i]=a&255,e[i+1]=a>>8&255):(e[i]=a>>8&255,e[i+1]=a&255)}function ax(e,i,a,s){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),a>4294967295)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${4294967295}. Received ${a}`);s==="LE"?(e[i]=a&255,e[i+1]=a>>8&255,e[i+2]=a>>16&255,e[i+3]=a>>24&255):(e[i]=a>>24&255,e[i+1]=a>>16&255,e[i+2]=a>>8&255,e[i+3]=a&255)}function sx(e,i,a,s){if(i+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(s=s.toUpperCase(),a>0xffffffffffffffffn)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${0xffffffffffffffffn}. Received ${a}`);s==="LE"?(e[i]=Number(a&0xffn),e[i+1]=Number(a>>8n&0xffn),e[i+2]=Number(a>>16n&0xffn),e[i+3]=Number(a>>24n&0xffn),e[i+4]=Number(a>>32n&0xffn),e[i+5]=Number(a>>40n&0xffn),e[i+6]=Number(a>>48n&0xffn),e[i+7]=Number(a>>56n&0xffn)):(e[i]=Number(a>>56n&0xffn),e[i+1]=Number(a>>48n&0xffn),e[i+2]=Number(a>>40n&0xffn),e[i+3]=Number(a>>32n&0xffn),e[i+4]=Number(a>>24n&0xffn),e[i+5]=Number(a>>16n&0xffn),e[i+6]=Number(a>>8n&0xffn),e[i+7]=Number(a&0xffn))}function lx(e,i,a){if(i+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){let s=0;return s=(s<<8)+e[i+1],s=(s<<8)+e[i],s}else{let s=0;return s=(s<<8)+e[i],s=(s<<8)+e[i+1],s}}function ux(e,i,a){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){let s=0;return s=(s<<8)+e[i+3]>>>0,s=(s<<8)+e[i+2]>>>0,s=(s<<8)+e[i+1]>>>0,s=(s<<8)+e[i]>>>0,s}else{let s=0;return s=(s<<8)+e[i]>>>0,s=(s<<8)+e[i+1]>>>0,s=(s<<8)+e[i+2]>>>0,s=(s<<8)+e[i+3]>>>0,s}}function ox(e,i,a){if(i+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){let s=0n;return s=(s<<8n)+BigInt(e[i+7]),s=(s<<8n)+BigInt(e[i+6]),s=(s<<8n)+BigInt(e[i+5]),s=(s<<8n)+BigInt(e[i+4]),s=(s<<8n)+BigInt(e[i+3]),s=(s<<8n)+BigInt(e[i+2]),s=(s<<8n)+BigInt(e[i+1]),s=(s<<8n)+BigInt(e[i]),s}else{let s=0n;return s=(s<<8n)+BigInt(e[i]),s=(s<<8n)+BigInt(e[i+1]),s=(s<<8n)+BigInt(e[i+2]),s=(s<<8n)+BigInt(e[i+3]),s=(s<<8n)+BigInt(e[i+4]),s=(s<<8n)+BigInt(e[i+5]),s=(s<<8n)+BigInt(e[i+6]),s=(s<<8n)+BigInt(e[i+7]),s}}const cx=e=>{if(e<0||e>0xffffffffffffffffn)throw new RangeError("value out of range")};function fx(e){if(e<0||e>Number.MAX_SAFE_INTEGER||e%1!==0)throw new RangeError("value out of range")}function lE(e){typeof e=="number"?fx(e):cx(e)}function _r(e,i,a){lE(e),a===void 0&&(a=0),i===void 0&&(i=new Uint8Array(Rn(e)));let s=0;return e<253?(i.set([Number(e)],a),s=1):e<=65535?(i.set([253],a),rx(i,a+1,Number(e),"LE"),s=3):e<=4294967295?(i.set([254],a),ax(i,a+1,Number(e),"LE"),s=5):(i.set([255],a),sx(i,a+1,BigInt(e),"LE"),s=9),{buffer:i,bytes:s}}function as(e,i){i===void 0&&(i=0);const a=e.at(i);if(a===void 0)throw new Error("buffer too small");if(a<253)return{numberValue:a,bigintValue:BigInt(a),bytes:1};if(a===253){const s=lx(e,i+1,"LE");return{numberValue:s,bigintValue:BigInt(s),bytes:3}}else if(a===254){const s=ux(e,i+1,"LE");return{numberValue:s,bigintValue:BigInt(s),bytes:5}}else{const s=ox(e,i+1,"LE");return{numberValue:s<=Number.MAX_SAFE_INTEGER?Number(s):null,bigintValue:s,bytes:9}}}function Rn(e){return lE(e),e<253?1:e<=65535?3:e<=4294967295?5:9}const hx=9007199254740991;function dx(e,i){if(typeof e!="number"&&typeof e!="bigint")throw new Error("cannot write a non-number as a number");if(e<0&&e<BigInt(0))throw new Error("specified a negative value for writing an unsigned value");if(e>i&&e>BigInt(i))throw new Error("RangeError: value out of range");if(Math.floor(Number(e))!==Number(e))throw new Error("value has a fractional component")}function _d(e){if(e.length<1)return e;let i=e.length-1,a=0;for(let s=0;s<e.length/2;s++)a=e[s],e[s]=e[i],e[i]=a,i--;return e}function Nm(e){const i=new Uint8Array(e.length);return i.set(e),i}class ze{buffer;offset;static withCapacity(i){return new ze(new Uint8Array(i))}constructor(i,a=0){this.buffer=i,this.offset=a,ge(ei([Pt,Bi]),[i,a])}writeUInt8(i){this.offset=hn(this.buffer,this.offset,i)}writeInt32(i){this.offset=C1(this.buffer,this.offset,i,"LE")}writeInt64(i){this.offset=R1(this.buffer,this.offset,BigInt(i),"LE")}writeUInt32(i){this.offset=Nl(this.buffer,this.offset,i,"LE")}writeUInt64(i){this.offset=FA(this.buffer,this.offset,BigInt(i),"LE")}writeVarInt(i){const{bytes:a}=_r(i,this.buffer,this.offset);this.offset+=a}writeSlice(i){if(this.buffer.length<this.offset+i.length)throw new Error("Cannot write slice out of bounds");this.buffer.set(i,this.offset),this.offset+=i.length}writeVarSlice(i){this.writeVarInt(i.length),this.writeSlice(i)}writeVector(i){this.writeVarInt(i.length),i.forEach(a=>this.writeVarSlice(a))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}class px{buffer;offset;constructor(i,a=0){this.buffer=i,this.offset=a,ge(ei([Pt,Bi]),[i,a])}readUInt8(){const i=ai(this.buffer,this.offset);return this.offset++,i}readInt32(){const i=PA(this.buffer,this.offset,"LE");return this.offset+=4,i}readUInt32(){const i=ia(this.buffer,this.offset,"LE");return this.offset+=4,i}readInt64(){const i=I1(this.buffer,this.offset,"LE");return this.offset+=8,i}readVarInt(){const{bigintValue:i,bytes:a}=as(this.buffer,this.offset);return this.offset+=a,i}readSlice(i){dx(i,hx);const a=Number(i);if(this.buffer.length<this.offset+a)throw new Error("Cannot read slice out of bounds");const s=this.buffer.slice(this.offset,this.offset+a);return this.offset+=a,s}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const i=this.readVarInt(),a=[];for(let s=0;s<i;s++)a.push(this.readVarSlice());return a}}const uE=192,yx=128,gx=e=>"left"in e&&"right"in e;function td(e,i){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const a=(e.length-33)/32;let s=i;for(let u=0;u<a;u++){const c=e.slice(33+32*u,65+32*u);ft(s,c)<0?s=nd(s,c):s=nd(c,s)}return s}function ed(e){if(wd(e))return{hash:Ri(e)};const i=[ed(e[0]),ed(e[1])];i.sort((u,c)=>ft(u.hash,c.hash));const[a,s]=i;return{hash:nd(a.hash,s.hash),left:a,right:s}}function Oo(e,i){if(gx(e)){const a=Oo(e.left,i);if(a!==void 0)return[...a,e.right.hash];const s=Oo(e.right,i);if(s!==void 0)return[...s,e.left.hash]}else if(ft(e.hash,i)===0)return[]}function Ri(e){const i=e.version||uE;return Bl("TapLeaf",se([Uint8Array.from([i]),Ex(e.output)]))}function mx(e,i){return Bl("TapTweak",se(i?[e,i]:[e]))}function ro(e,i){if(!(e instanceof Uint8Array)||e.length!==32||i&&i.length!==32)return null;const a=mx(e,i),s=Jh().xOnlyPointAddTweak(e,a);return!s||s.xOnlyPubkey===null?null:{parity:s.parity,x:Uint8Array.from(s.xOnlyPubkey)}}function nd(e,i){return Bl("TapBranch",se([e,i]))}function Ex(e){const i=Rn(e.length),a=new Uint8Array(i);return _r(e.length,a),se([a,e])}const Um=$t,Om=1,bx=80;function ra(e,i){if(!e.address&&!e.output&&!e.pubkey&&!e.internalPubkey&&!(e.witness&&e.witness.length>1))throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ge(xr(ve({address:is(),input:_e(0),network:ve({}),output:_e(34),internalPubkey:_e(32),hash:_e(32),pubkey:_e(32),signature:bd([_e(64),_e(65)]),witness:Je(Pt),scriptTree:Vn(X1,"Taptree is not of type isTaptree"),redeem:xr(ve({output:Pt,redeemVersion:On(),witness:Je(Pt)})),redeemVersion:On()})),e);const a=Bn(()=>yE(e.address)),s=Bn(()=>{if(!(!e.witness||!e.witness.length))return e.witness.length>=2&&e.witness[e.witness.length-1][0]===bx?e.witness.slice(0,-1):e.witness.slice()}),u=Bn(()=>{if(e.scriptTree)return ed(e.scriptTree);if(e.hash)return{hash:e.hash}}),c=e.network||si,h={name:"p2tr",network:c};if(At(h,"address",()=>{if(!h.pubkey)return;const d=Le.bech32m.toWords(h.pubkey);return d.unshift(Om),Le.bech32m.encode(c.bech32,d)}),At(h,"hash",()=>{const d=u();if(d)return d.hash;const p=s();if(p&&p.length>1){const y=p[p.length-1],m=y[0]&bo,E=p[p.length-2],v=Ri({output:E,version:m});return td(y,v)}return null}),At(h,"output",()=>{if(h.pubkey)return tn([Um.OP_1,h.pubkey])}),At(h,"redeemVersion",()=>e.redeemVersion?e.redeemVersion:e.redeem&&e.redeem.redeemVersion!==void 0&&e.redeem.redeemVersion!==null?e.redeem.redeemVersion:uE),At(h,"redeem",()=>{const d=s();if(!(!d||d.length<2))return{output:d[d.length-2],witness:d.slice(0,-2),redeemVersion:d[d.length-1][0]&bo}}),At(h,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return a().data;if(h.internalPubkey){const d=ro(h.internalPubkey,h.hash);if(d)return d.x}}),At(h,"internalPubkey",()=>{if(e.internalPubkey)return e.internalPubkey;const d=s();if(d&&d.length>1)return d[d.length-1].slice(1,33)}),At(h,"signature",()=>{if(e.signature)return e.signature;const d=s();if(!(!d||d.length!==1))return d[0]}),At(h,"witness",()=>{if(e.witness)return e.witness;const d=u();if(d&&e.redeem&&e.redeem.output&&e.internalPubkey){const p=Ri({output:e.redeem.output,version:h.redeemVersion}),y=Oo(d,p);if(!y)return;const m=ro(e.internalPubkey,d.hash);if(!m)return;const E=se([Uint8Array.from([h.redeemVersion|m.parity]),e.internalPubkey].concat(y));return[e.redeem.output,E]}if(e.signature)return[e.signature]}),i.validate){let d=Uint8Array.from([]);if(e.address){if(c&&c.bech32!==a().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(a().version!==Om)throw new TypeError("Invalid address version");if(a().data.length!==32)throw new TypeError("Invalid address data");d=a().data}if(e.pubkey){if(d.length>0&&ft(d,e.pubkey)!==0)throw new TypeError("Pubkey mismatch");d=e.pubkey}if(e.output){if(e.output.length!==34||e.output[0]!==Um.OP_1||e.output[1]!==32)throw new TypeError("Output is invalid");if(d.length>0&&ft(d,e.output.slice(2))!==0)throw new TypeError("Pubkey mismatch");d=e.output.slice(2)}if(e.internalPubkey){const m=ro(e.internalPubkey,h.hash);if(d.length>0&&ft(d,m.x)!==0)throw new TypeError("Pubkey mismatch");d=m.x}if(d&&d.length&&!Jh().isXOnlyPoint(d))throw new TypeError("Invalid pubkey for p2tr");const p=u();if(e.hash&&p&&ft(e.hash,p.hash)!==0)throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&p){const m=Ri({output:e.redeem.output,version:h.redeemVersion});if(!Oo(p,m))throw new TypeError("Redeem script not in tree")}const y=s();if(e.redeem&&h.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==h.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(fe(e.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(h.redeem.output&&ft(e.redeem.output,h.redeem.output)!==0)throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&h.redeem.witness&&!El(e.redeem.witness,h.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(y&&y.length)if(y.length===1){if(e.signature&&ft(e.signature,y[0])!==0)throw new TypeError("Signature mismatch")}else{const m=y[y.length-1];if(m.length<33)throw new TypeError(`The control-block length is too small. Got ${m.length}, expected min 33.`);if((m.length-33)%32!==0)throw new TypeError(`The control-block length of ${m.length} is incorrect!`);const E=(m.length-33)/32;if(E>128)throw new TypeError(`The script path is too long. Got ${E}, expected max 128.`);const v=m.slice(1,33);if(e.internalPubkey&&ft(e.internalPubkey,v)!==0)throw new TypeError("Internal pubkey mismatch");if(!Jh().isXOnlyPoint(v))throw new TypeError("Invalid internalPubkey for p2tr witness");const _=m[0]&bo,x=y[y.length-2],U=Ri({output:x,version:_}),C=td(m,U),H=ro(v,C);if(!H)throw new TypeError("Invalid outputKey for p2tr witness");if(d.length&&ft(d,H.x)!==0)throw new TypeError("Pubkey mismatch for p2tr witness");if(H.parity!==(m[0]&1))throw new Error("Incorrect parity")}}return Object.assign(h,e)}const oE=40,cE=2,fE=16,hE=2,dE=80,pE="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.",Bo=[!1,!1];function wx(e,i){const a=e.slice(2);if(a.length<cE||a.length>oE)throw new TypeError("Invalid program length for segwit address");const s=e[0]-dE;if(s<hE||s>fE)throw new TypeError("Invalid version for segwit address");if(e[1]!==a.length)throw new TypeError("Invalid script for segwit address");return Bo[0]===!1&&(console.warn(pE),Bo[0]=!0),Ax(a,s,i.bech32)}function vx(e){const i=wl.decode(e);if(i.length<21)throw new TypeError(e+" is too short");if(i.length>21)throw new TypeError(e+" is too long");const a=ai(i,0),s=i.slice(1);return{version:a,hash:s}}function yE(e){let i,a;try{i=Le.bech32.decode(e)}catch{}if(i){if(a=i.words[0],a!==0)throw new TypeError(e+" uses wrong encoding")}else if(i=Le.bech32m.decode(e),a=i.words[0],a===0)throw new TypeError(e+" uses wrong encoding");const s=Le.bech32.fromWords(i.words.slice(1));return{version:a,prefix:i.prefix,data:Uint8Array.from(s)}}function Ax(e,i,a){const s=Le.bech32.toWords(e);return s.unshift(i),i===0?Le.bech32.encode(a,s):Le.bech32m.encode(a,s)}function Sx(e,i){i=i||si;try{return Cl({output:e,network:i}).address}catch{}try{return Rl({output:e,network:i}).address}catch{}try{return Qo({output:e,network:i}).address}catch{}try{return rs({output:e,network:i}).address}catch{}try{return ra({output:e,network:i}).address}catch{}try{return wx(e,i)}catch{}throw new Error(yS(e)+" has no matching Address")}function Td(e,i){i=i||si;let a,s;try{a=vx(e)}catch{}if(a){if(a.version===i.pubKeyHash)return Cl({hash:a.hash}).output;if(a.version===i.scriptHash)return Rl({hash:a.hash}).output}else{try{s=yE(e)}catch{}if(s){if(s.prefix!==i.bech32)throw new Error(e+" has an invalid prefix");if(s.version===0){if(s.data.length===20)return Qo({hash:s.data}).output;if(s.data.length===32)return rs({hash:s.data}).output}else if(s.version===1){if(s.data.length===32)return ra({pubkey:s.data}).output}else if(s.version>=hE&&s.version<=fE&&s.data.length>=cE&&s.data.length<=oE)return Bo[1]===!1&&(console.warn(pE),Bo[1]=!0),tn([s.version+dE,s.data])}}throw new Error(e+" has no matching Script")}function ti(e){const i=e.length;return Rn(i)+i}function xx(e){const i=e.length;return Rn(i)+e.reduce((a,s)=>a+ti(s),0)}const Ar=new Uint8Array(0),Hh=[],kh=Li("0000000000000000000000000000000000000000000000000000000000000000"),Bm=Li("0000000000000000000000000000000000000000000000000000000000000001"),_x=Li("ffffffffffffffff"),Tx={script:Ar,valueBuffer:_x};function Nx(e){return e.value!==void 0}class St{static DEFAULT_SEQUENCE=4294967295;static SIGHASH_DEFAULT=0;static SIGHASH_ALL=1;static SIGHASH_NONE=2;static SIGHASH_SINGLE=3;static SIGHASH_ANYONECANPAY=128;static SIGHASH_OUTPUT_MASK=3;static SIGHASH_INPUT_MASK=128;static ADVANCED_TRANSACTION_MARKER=0;static ADVANCED_TRANSACTION_FLAG=1;static fromBuffer(i,a){const s=new px(i),u=new St;u.version=s.readUInt32();const c=s.readUInt8(),h=s.readUInt8();let d=!1;c===St.ADVANCED_TRANSACTION_MARKER&&h===St.ADVANCED_TRANSACTION_FLAG?d=!0:s.offset-=2;const p=s.readVarInt();for(let m=0;m<p;++m)u.ins.push({hash:s.readSlice(32),index:s.readUInt32(),script:s.readVarSlice(),sequence:s.readUInt32(),witness:Hh});const y=s.readVarInt();for(let m=0;m<y;++m)u.outs.push({value:s.readInt64(),script:s.readVarSlice()});if(d){for(let m=0;m<p;++m)u.ins[m].witness=s.readVector();if(!u.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(u.locktime=s.readUInt32(),a)return u;if(s.offset!==i.length)throw new Error("Transaction has unexpected data");return u}static fromHex(i){return St.fromBuffer(Li(i),!1)}static isCoinbaseHash(i){ge(fm,i);for(let a=0;a<32;++a)if(i[a]!==0)return!1;return!0}version=1;locktime=0;ins=[];outs=[];isCoinbase(){return this.ins.length===1&&St.isCoinbaseHash(this.ins[0].hash)}addInput(i,a,s,u){return ge(ei([fm,Bi,Qh(_o(Bi)),Qh(_o(Pt))]),[i,a,s,u]),s==null&&(s=St.DEFAULT_SEQUENCE),this.ins.push({hash:i,index:a,script:u||Ar,sequence:s,witness:Hh})-1}addOutput(i,a){return ge(ei([Pt,Oh]),[i,a]),this.outs.push({script:i,value:a})-1}hasWitnesses(){return this.ins.some(i=>i.witness.length!==0)}stripWitnesses(){this.ins.forEach(i=>{i.witness=Hh})}weight(){const i=this.byteLength(!1),a=this.byteLength(!0);return i*3+a}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(i=!0){const a=i&&this.hasWitnesses();return(a?10:8)+Rn(this.ins.length)+Rn(this.outs.length)+this.ins.reduce((s,u)=>s+40+ti(u.script),0)+this.outs.reduce((s,u)=>s+8+ti(u.script),0)+(a?this.ins.reduce((s,u)=>s+xx(u.witness),0):0)}clone(){const i=new St;return i.version=this.version,i.locktime=this.locktime,i.ins=this.ins.map(a=>({hash:a.hash,index:a.index,script:a.script,sequence:a.sequence,witness:a.witness})),i.outs=this.outs.map(a=>({script:a.script,value:a.value})),i}hashForSignature(i,a,s){if(ge(ei([Bi,Pt,On()]),[i,a,s]),i>=this.ins.length)return Bm;const u=tn(fe(a).filter(d=>d!==$t.OP_CODESEPARATOR)),c=this.clone();if((s&31)===St.SIGHASH_NONE)c.outs=[],c.ins.forEach((d,p)=>{p!==i&&(d.sequence=0)});else if((s&31)===St.SIGHASH_SINGLE){if(i>=this.outs.length)return Bm;c.outs.length=i+1;for(let d=0;d<i;d++)c.outs[d]=Tx;c.ins.forEach((d,p)=>{p!==i&&(d.sequence=0)})}s&St.SIGHASH_ANYONECANPAY?(c.ins=[c.ins[i]],c.ins[0].script=u):(c.ins.forEach(d=>{d.script=Ar}),c.ins[i].script=u);const h=new Uint8Array(c.byteLength(!1)+4);return C1(h,h.length-4,s,"LE"),c.__toBuffer(h,0,!1),Pr(h)}hashForWitnessV1(i,a,s,u,c,h){if(ge(ei([Bi,Je(Pt),Je(Oh),Bi]),[i,a,s,u]),s.length!==this.ins.length||a.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const d=u===St.SIGHASH_DEFAULT?St.SIGHASH_ALL:u&St.SIGHASH_OUTPUT_MASK,y=(u&St.SIGHASH_INPUT_MASK)===St.SIGHASH_ANYONECANPAY,m=d===St.SIGHASH_NONE,E=d===St.SIGHASH_SINGLE;let v=Ar,_=Ar,x=Ar,U=Ar,C=Ar;if(!y){let z=ze.withCapacity(36*this.ins.length);this.ins.forEach(Y=>{z.writeSlice(Y.hash),z.writeUInt32(Y.index)}),v=fn(z.end()),z=ze.withCapacity(8*this.ins.length),s.forEach(Y=>z.writeInt64(Y)),_=fn(z.end()),z=ze.withCapacity(a.map(ti).reduce((Y,J)=>Y+J)),a.forEach(Y=>z.writeVarSlice(Y)),x=fn(z.end()),z=ze.withCapacity(4*this.ins.length),this.ins.forEach(Y=>z.writeUInt32(Y.sequence)),U=fn(z.end())}if(m||E){if(E&&i<this.outs.length){const z=this.outs[i],Y=ze.withCapacity(8+ti(z.script));Y.writeInt64(z.value),Y.writeVarSlice(z.script),C=fn(Y.end())}}else{if(!this.outs.length)throw new Error("Add outputs to the transaction before signing.");const z=this.outs.map(J=>8+ti(J.script)).reduce((J,P)=>J+P),Y=ze.withCapacity(z);this.outs.forEach(J=>{Y.writeInt64(J.value),Y.writeVarSlice(J.script)}),C=fn(Y.end())}const H=(c?2:0)+(h?1:0),V=174-(y?49:0)-(m?32:0)+(h?32:0)+(c?37:0),k=ze.withCapacity(V);if(k.writeUInt8(u),k.writeUInt32(this.version),k.writeUInt32(this.locktime),k.writeSlice(v),k.writeSlice(_),k.writeSlice(x),k.writeSlice(U),m||E||k.writeSlice(C),k.writeUInt8(H),y){const z=this.ins[i];k.writeSlice(z.hash),k.writeUInt32(z.index),k.writeInt64(s[i]),k.writeVarSlice(a[i]),k.writeUInt32(z.sequence)}else k.writeUInt32(i);if(h){const z=ze.withCapacity(ti(h));z.writeVarSlice(h),k.writeSlice(fn(z.end()))}return E&&k.writeSlice(C),c&&(k.writeSlice(c),k.writeUInt8(0),k.writeUInt32(4294967295)),Bl("TapSighash",se([Uint8Array.from([0]),k.end()]))}hashForWitnessV0(i,a,s,u){ge(ei([Bi,Pt,Oh,Bi]),[i,a,s,u]);let c=Uint8Array.from([]),h,d=kh,p=kh,y=kh;if(u&St.SIGHASH_ANYONECANPAY||(c=new Uint8Array(36*this.ins.length),h=new ze(c,0),this.ins.forEach(E=>{h.writeSlice(E.hash),h.writeUInt32(E.index)}),p=Pr(c)),!(u&St.SIGHASH_ANYONECANPAY)&&(u&31)!==St.SIGHASH_SINGLE&&(u&31)!==St.SIGHASH_NONE&&(c=new Uint8Array(4*this.ins.length),h=new ze(c,0),this.ins.forEach(E=>{h.writeUInt32(E.sequence)}),y=Pr(c)),(u&31)!==St.SIGHASH_SINGLE&&(u&31)!==St.SIGHASH_NONE){const E=this.outs.reduce((v,_)=>v+8+ti(_.script),0);c=new Uint8Array(E),h=new ze(c,0),this.outs.forEach(v=>{h.writeInt64(v.value),h.writeVarSlice(v.script)}),d=Pr(c)}else if((u&31)===St.SIGHASH_SINGLE&&i<this.outs.length){const E=this.outs[i];c=new Uint8Array(8+ti(E.script)),h=new ze(c,0),h.writeInt64(E.value),h.writeVarSlice(E.script),d=Pr(c)}c=new Uint8Array(156+ti(a)),h=new ze(c,0);const m=this.ins[i];return h.writeUInt32(this.version),h.writeSlice(p),h.writeSlice(y),h.writeSlice(m.hash),h.writeUInt32(m.index),h.writeVarSlice(a),h.writeInt64(s),h.writeUInt32(m.sequence),h.writeSlice(d),h.writeUInt32(this.locktime),h.writeUInt32(u),Pr(c)}getHash(i){return i&&this.isCoinbase()?new Uint8Array(32):Pr(this.__toBuffer(void 0,void 0,i))}getId(){return _t(_d(this.getHash(!1)))}toBuffer(i,a){return this.__toBuffer(i,a,!0)}toHex(){return _t(this.toBuffer(void 0,void 0))}setInputScript(i,a){ge(ei([On(),Pt]),[i,a]),this.ins[i].script=a}setWitness(i,a){ge(ei([On(),Je(Pt)]),[i,a]),this.ins[i].witness=a}__toBuffer(i,a,s=!1){i||(i=new Uint8Array(this.byteLength(s)));const u=new ze(i,a||0);u.writeUInt32(this.version);const c=s&&this.hasWitnesses();return c&&(u.writeUInt8(St.ADVANCED_TRANSACTION_MARKER),u.writeUInt8(St.ADVANCED_TRANSACTION_FLAG)),u.writeVarInt(this.ins.length),this.ins.forEach(h=>{u.writeSlice(h.hash),u.writeUInt32(h.index),u.writeVarSlice(h.script),u.writeUInt32(h.sequence)}),u.writeVarInt(this.outs.length),this.outs.forEach(h=>{Nx(h)?u.writeInt64(h.value):u.writeSlice(h.valueBuffer),u.writeVarSlice(h.script)}),c&&this.ins.forEach(h=>{u.writeVector(h.witness)}),u.writeUInt32(this.locktime),a!==void 0?i.slice(a,u.offset):i}}var ii;(function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(ii||(ii={}));var gt;(function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(gt||(gt={}));var ye;(function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(ye||(ye={}));const Ux=e=>[...Array(e).keys()];function Ox(e){if(e.key[0]!==ii.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+_t(e.key));if(e.key.length!==79||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+_t(e.key));if(e.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const i=e.key.slice(1),a={masterFingerprint:e.value.slice(0,4),extendedPubkey:i,path:"m"};for(const s of Ux(e.value.length/4-1)){const u=ia(e.value,s*4+4,"LE"),c=!!(u&2147483648),h=u&2147483647;a.path+="/"+h.toString(10)+(c?"'":"")}return a}function Bx(e){const i=new Uint8Array([ii.GLOBAL_XPUB]),a=se([i,e.extendedPubkey]),s=e.path.split("/"),u=new Uint8Array(s.length*4);u.set(e.masterFingerprint,0);let c=4;return s.slice(1).forEach(h=>{const d=h.slice(-1)==="'";let p=2147483647&parseInt(d?h.slice(0,-1):h,10);d&&(p+=2147483648),Nl(u,c,p,"LE"),c+=4}),{key:a,value:u}}const Cx="{ masterFingerprint: Uint8Array; extendedPubkey: Uint8Array; path: string; }";function Rx(e){const i=e.extendedPubkey,a=e.masterFingerprint,s=e.path;return i instanceof Uint8Array&&i.length===78&&[2,3].indexOf(i[45])>-1&&a instanceof Uint8Array&&a.length===4&&typeof s=="string"&&!!s.match(/^m(\/\d+'?)*$/)}function Ix(e,i,a){const s=_t(i.extendedPubkey);return a.has(s)?!1:(a.add(s),e.filter(u=>ft(u.extendedPubkey,i.extendedPubkey)).length===0)}const Hx=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:Ix,check:Rx,decode:Ox,encode:Bx,expected:Cx},Symbol.toStringTag,{value:"Module"}));function kx(e){return{key:new Uint8Array([ii.UNSIGNED_TX]),value:e.toBuffer()}}const Mx=Object.freeze(Object.defineProperty({__proto__:null,encode:kx},Symbol.toStringTag,{value:"Module"}));function Dx(e){if(e.key[0]!==gt.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+_t(e.key));return e.value}function zx(e){return{key:new Uint8Array([gt.FINAL_SCRIPTSIG]),value:e}}const Lx="Uint8Array";function jx(e){return e instanceof Uint8Array}function Kx(e,i){return!!e&&!!i&&e.finalScriptSig===void 0}const Gx=Object.freeze(Object.defineProperty({__proto__:null,canAdd:Kx,check:jx,decode:Dx,encode:zx,expected:Lx},Symbol.toStringTag,{value:"Module"}));function Xx(e){if(e.key[0]!==gt.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+_t(e.key));return e.value}function Vx(e){return{key:new Uint8Array([gt.FINAL_SCRIPTWITNESS]),value:e}}const Yx="Uint8Array";function Fx(e){return e instanceof Uint8Array}function qx(e,i){return!!e&&!!i&&e.finalScriptWitness===void 0}const Px=Object.freeze(Object.defineProperty({__proto__:null,canAdd:qx,check:Fx,decode:Xx,encode:Vx,expected:Yx},Symbol.toStringTag,{value:"Module"}));function $x(e){if(e.key[0]!==gt.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+_t(e.key));return e.value}function Zx(e){return{key:new Uint8Array([gt.NON_WITNESS_UTXO]),value:e}}const Qx="Uint8Array";function Wx(e){return e instanceof Uint8Array}function Jx(e,i){return!!e&&!!i&&e.nonWitnessUtxo===void 0}const t_=Object.freeze(Object.defineProperty({__proto__:null,canAdd:Jx,check:Wx,decode:$x,encode:Zx,expected:Qx},Symbol.toStringTag,{value:"Module"}));function e_(e){if(e.key[0]!==gt.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+_t(e.key));if(!(e.key.length===34||e.key.length===66)||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+_t(e.key));return{pubkey:e.key.slice(1),signature:e.value}}function n_(e){const i=new Uint8Array([gt.PARTIAL_SIG]);return{key:se([i,e.pubkey]),value:e.signature}}const i_="{ pubkey: Uint8Array; signature: Uint8Array; }";function r_(e){return e.pubkey instanceof Uint8Array&&e.signature instanceof Uint8Array&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&a_(e.signature)}function a_(e){if(!(e instanceof Uint8Array)||e.length<9||e[0]!==48||e.length!==e[1]+3||e[2]!==2)return!1;const i=e[3];if(i>33||i<1||e[3+i+1]!==2)return!1;const a=e[3+i+2];return!(a>33||a<1||e.length!==3+i+2+a+2)}function s_(e,i,a){const s=_t(i.pubkey);return a.has(s)?!1:(a.add(s),e.filter(u=>ft(u.pubkey,i.pubkey)===0).length===0)}const l_=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:s_,check:r_,decode:e_,encode:n_,expected:i_},Symbol.toStringTag,{value:"Module"}));function u_(e){if(e.key[0]!==gt.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+_t(e.key));return jA(e.value)}function o_(e){return{key:new Uint8Array([gt.POR_COMMITMENT]),value:KA(e)}}const c_="string";function f_(e){return typeof e=="string"}function h_(e,i){return!!e&&!!i&&e.porCommitment===void 0}const d_=Object.freeze(Object.defineProperty({__proto__:null,canAdd:h_,check:f_,decode:u_,encode:o_,expected:c_},Symbol.toStringTag,{value:"Module"}));function p_(e){if(e.key[0]!==gt.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+_t(e.key));return Number(ia(e.value,0,"LE"))}function y_(e){const i=Uint8Array.from([gt.SIGHASH_TYPE]),a=new Uint8Array(4);return Nl(a,0,e,"LE"),{key:i,value:a}}const g_="number";function m_(e){return typeof e=="number"}function E_(e,i){return!!e&&!!i&&e.sighashType===void 0}const b_=Object.freeze(Object.defineProperty({__proto__:null,canAdd:E_,check:m_,decode:p_,encode:y_,expected:g_},Symbol.toStringTag,{value:"Module"}));function w_(e){if(e.key[0]!==gt.TAP_KEY_SIG||e.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+_t(e.key));if(!gE(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value}function v_(e){return{key:Uint8Array.from([gt.TAP_KEY_SIG]),value:e}}const A_="Uint8Array";function gE(e){return e instanceof Uint8Array&&(e.length===64||e.length===65)}function S_(e,i){return!!e&&!!i&&e.tapKeySig===void 0}const x_=Object.freeze(Object.defineProperty({__proto__:null,canAdd:S_,check:gE,decode:w_,encode:v_,expected:A_},Symbol.toStringTag,{value:"Module"}));function __(e){if(e.key[0]!==gt.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+_t(e.key));if((e.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+_t(e.key));const i=e.value[e.value.length-1];if((e.key[1]&254)!==i)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+_t(e.key));const a=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:a,leafVersion:i}}function T_(e){const i=Uint8Array.from([gt.TAP_LEAF_SCRIPT]),a=Uint8Array.from([e.leafVersion]);return{key:se([i,e.controlBlock]),value:se([e.script,a])}}const N_="{ controlBlock: Uint8Array; leafVersion: number, script: Uint8Array; }";function U_(e){return e.controlBlock instanceof Uint8Array&&(e.controlBlock.length-1)%32===0&&(e.controlBlock[0]&254)===e.leafVersion&&e.script instanceof Uint8Array}function O_(e,i,a){const s=_t(i.controlBlock);return a.has(s)?!1:(a.add(s),e.filter(u=>ft(u.controlBlock,i.controlBlock)===0).length===0)}const B_=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:O_,check:U_,decode:__,encode:T_,expected:N_},Symbol.toStringTag,{value:"Module"}));function C_(e){if(e.key[0]!==gt.TAP_MERKLE_ROOT||e.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+_t(e.key));if(!mE(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value}function R_(e){return{key:Uint8Array.from([gt.TAP_MERKLE_ROOT]),value:e}}const I_="Uint8Array";function mE(e){return e instanceof Uint8Array&&e.length===32}function H_(e,i){return!!e&&!!i&&e.tapMerkleRoot===void 0}const k_=Object.freeze(Object.defineProperty({__proto__:null,canAdd:H_,check:mE,decode:C_,encode:R_,expected:I_},Symbol.toStringTag,{value:"Module"}));function M_(e){if(e.key[0]!==gt.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+_t(e.key));if(e.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+_t(e.key));if(e.value.length!==64&&e.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+_t(e.key));const i=e.key.slice(1,33),a=e.key.slice(33);return{pubkey:i,leafHash:a,signature:e.value}}function D_(e){const i=Uint8Array.from([gt.TAP_SCRIPT_SIG]);return{key:se([i,e.pubkey,e.leafHash]),value:e.signature}}const z_="{ pubkey: Uint8Array; leafHash: Uint8Array; signature: Uint8Array; }";function L_(e){return e.pubkey instanceof Uint8Array&&e.leafHash instanceof Uint8Array&&e.signature instanceof Uint8Array&&e.pubkey.length===32&&e.leafHash.length===32&&(e.signature.length===64||e.signature.length===65)}function j_(e,i,a){const s=_t(i.pubkey)+_t(i.leafHash);return a.has(s)?!1:(a.add(s),e.filter(u=>ft(u.pubkey,i.pubkey)===0&&ft(u.leafHash,i.leafHash)===0).length===0)}const K_=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:j_,check:L_,decode:M_,encode:D_,expected:z_},Symbol.toStringTag,{value:"Module"}));function G_(e){if(e.key[0]!==gt.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+_t(e.key));const i=I1(e.value,0,"LE");let a=8;const{numberValue:s,bytes:u}=as(e.value,a);a+=u;const c=e.value.slice(a);if(c.length!==s)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:c,value:i}}function X_(e){const{script:i,value:a}=e,s=Rn(i.length),u=new Uint8Array(8+s+i.length);return R1(u,0,BigInt(a),"LE"),_r(i.length,u,8),u.set(i,8+s),{key:Uint8Array.from([gt.WITNESS_UTXO]),value:u}}const V_="{ script: Uint8Array; value: bigint; }";function Y_(e){return e.script instanceof Uint8Array&&typeof e.value=="bigint"}function F_(e,i){return!!e&&!!i&&e.witnessUtxo===void 0}const q_=Object.freeze(Object.defineProperty({__proto__:null,canAdd:F_,check:Y_,decode:G_,encode:X_,expected:V_},Symbol.toStringTag,{value:"Module"}));function P_(e){if(e.key[0]!==ye.TAP_TREE||e.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+_t(e.key));let i=0;const a=[];for(;i<e.value.length;){const s=e.value[i++],u=e.value[i++],{numberValue:c,bytes:h}=as(e.value,i);i+=h,a.push({depth:s,leafVersion:u,script:e.value.slice(i,i+c)}),i+=c}return{leaves:a}}function $_(e){const i=Uint8Array.from([ye.TAP_TREE]),a=[].concat(...e.leaves.map(s=>[Uint8Array.of(s.depth,s.leafVersion),_r(BigInt(s.script.length)).buffer,s.script]));return{key:i,value:se(a)}}const Z_="{ leaves: [{ depth: number; leafVersion: number, script: Uint8Array; }] }";function Q_(e){return Array.isArray(e.leaves)&&e.leaves.every(i=>i.depth>=0&&i.depth<=128&&(i.leafVersion&254)===i.leafVersion&&i.script instanceof Uint8Array)}function W_(e,i){return!!e&&!!i&&e.tapTree===void 0}const J_=Object.freeze(Object.defineProperty({__proto__:null,canAdd:W_,check:Q_,decode:P_,encode:$_,expected:Z_},Symbol.toStringTag,{value:"Module"})),t3=e=>[...Array(e).keys()],e3=e=>e.length===33&&[2,3].includes(e[0])||e.length===65&&e[0]===4;function Nd(e,i=e3){function a(d){if(d.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+_t(d.key));const p=d.key.slice(1);if(!i(p))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+_t(d.key));if(d.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const y={masterFingerprint:d.value.slice(0,4),pubkey:p,path:"m"};for(const m of t3(d.value.length/4-1)){const E=ia(d.value,m*4+4,"LE"),v=!!(E&2147483648),_=E&2147483647;y.path+="/"+_.toString(10)+(v?"'":"")}return y}function s(d){const p=Uint8Array.from([e]),y=se([p,d.pubkey]),m=d.path.split("/"),E=new Uint8Array(m.length*4);E.set(d.masterFingerprint,0);let v=4;return m.slice(1).forEach(_=>{const x=_.slice(-1)==="'";let U=2147483647&parseInt(x?_.slice(0,-1):_,10);x&&(U+=2147483648),Nl(E,v,U,"LE"),v+=4}),{key:y,value:E}}const u="{ masterFingerprint: Uint8Array; pubkey: Uint8Array; path: string; }";function c(d){return d.pubkey instanceof Uint8Array&&d.masterFingerprint instanceof Uint8Array&&typeof d.path=="string"&&i(d.pubkey)&&d.masterFingerprint.length===4}function h(d,p,y){const m=_t(p.pubkey);return y.has(m)?!1:(y.add(m),d.filter(E=>ft(E.pubkey,p.pubkey)===0).length===0)}return{decode:a,encode:s,check:c,expected:u,canAddToArray:h}}function Ud(e){return i;function i(a){let s;if(e.includes(a.key[0])&&(s=a.key.slice(1),!(s.length===33||s.length===65)||![2,3,4].includes(s[0])))throw new Error("Format Error: invalid pubkey in key 0x"+_t(a.key));return s}}function EE(e){function i(h){if(h.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+_t(h.key));return h.value}function a(h){return{key:Uint8Array.from([e]),value:h}}const s="Uint8Array";function u(h){return h instanceof Uint8Array}function c(h,d){return!!h&&!!d&&h.redeemScript===void 0}return{decode:i,encode:a,check:u,expected:s,canAdd:c}}const n3=e=>e.length===32;function bE(e){const i=Nd(e,n3);function a(h){const{numberValue:d,bytes:p}=as(h.value),y=i.decode({key:h.key,value:h.value.slice(p+Number(d)*32)}),m=new Array(Number(d));for(let E=0,v=p;E<d;E++,v+=32)m[E]=h.value.slice(v,v+32);return{...y,leafHashes:m}}function s(h){const d=i.encode(h),p=Rn(h.leafHashes.length),y=new Uint8Array(p);_r(h.leafHashes.length,y);const m=se([y,...h.leafHashes,d.value]);return{...d,value:m}}const u="{ masterFingerprint: Uint8Array; pubkey: Uint8Array; path: string; leafHashes: Uint8Array[]; }";function c(h){return Array.isArray(h.leafHashes)&&h.leafHashes.every(d=>d instanceof Uint8Array&&d.length===32)&&i.check(h)}return{decode:a,encode:s,check:c,expected:u,canAddToArray:i.canAddToArray}}function wE(e){function i(h){if(h.key[0]!==e||h.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+_t(h.key));if(h.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return h.value}function a(h){return{key:Uint8Array.from([e]),value:h}}const s="Uint8Array";function u(h){return h instanceof Uint8Array&&h.length===32}function c(h,d){return!!h&&!!d&&h.tapInternalKey===void 0}return{decode:i,encode:a,check:u,expected:s,canAdd:c}}function vE(e){function i(h){if(h.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+_t(h.key));return h.value}function a(h){return{key:Uint8Array.from([e]),value:h}}const s="Uint8Array";function u(h){return h instanceof Uint8Array}function c(h,d){return!!h&&!!d&&h.witnessScript===void 0}return{decode:i,encode:a,check:u,expected:s,canAdd:c}}const Od={unsignedTx:Mx,globalXpub:Hx,checkPubkey:Ud([])},Se={nonWitnessUtxo:t_,partialSig:l_,sighashType:b_,finalScriptSig:Gx,finalScriptWitness:Px,porCommitment:d_,witnessUtxo:q_,bip32Derivation:Nd(gt.BIP32_DERIVATION),redeemScript:EE(gt.REDEEM_SCRIPT),witnessScript:vE(gt.WITNESS_SCRIPT),checkPubkey:Ud([gt.PARTIAL_SIG,gt.BIP32_DERIVATION]),tapKeySig:x_,tapScriptSig:K_,tapLeafScript:B_,tapBip32Derivation:bE(gt.TAP_BIP32_DERIVATION),tapInternalKey:wE(gt.TAP_INTERNAL_KEY),tapMerkleRoot:k_},Ci={bip32Derivation:Nd(ye.BIP32_DERIVATION),redeemScript:EE(ye.REDEEM_SCRIPT),witnessScript:vE(ye.WITNESS_SCRIPT),checkPubkey:Ud([ye.BIP32_DERIVATION]),tapBip32Derivation:bE(ye.TAP_BIP32_DERIVATION),tapTree:J_,tapInternalKey:wE(ye.TAP_INTERNAL_KEY)},i3=Object.freeze(Object.defineProperty({__proto__:null,globals:Od,inputs:Se,outputs:Ci},Symbol.toStringTag,{value:"Module"})),Co=e=>[...Array(e).keys()];function Cm(e){const i=e.map(r3);return i.push(Uint8Array.from([0])),se(i)}function r3(e){const i=e.key.length,a=e.value.length,s=Rn(i),u=Rn(a),c=new Uint8Array(s+i+u+a);return _r(i,c,0),c.set(e.key,s),_r(a,c,s+i),c.set(e.value,s+i+u),c}function a3(e,i){let a=0;function s(){const{numberValue:C,bytes:H}=as(e,a);a+=H;const V=e.slice(a,a+Number(C));return a+=Number(C),V}function u(){const C=ia(e,a,"BE");return a+=4,C}function c(){const C=ai(e,a);return a+=1,C}function h(){const C=s(),H=s();return{key:C,value:H}}function d(){if(a>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const C=ai(e,a)===0;return C&&a++,C}if(u()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(c()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");const p=[],y={};for(;!d();){const C=h(),H=_t(C.key);if(y[H])throw new Error("Format Error: Keys must be unique for global keymap: key "+H);y[H]=1,p.push(C)}const m=p.filter(C=>C.key[0]===ii.UNSIGNED_TX);if(m.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const E=i(m[0].value),{inputCount:v,outputCount:_}=E.getInputOutputCounts(),x=[],U=[];for(const C of Co(v)){const H={},V=[];for(;!d();){const k=h(),z=_t(k.key);if(H[z])throw new Error("Format Error: Keys must be unique for each input: input index "+C+" key "+z);H[z]=1,V.push(k)}x.push(V)}for(const C of Co(_)){const H={},V=[];for(;!d();){const k=h(),z=_t(k.key);if(H[z])throw new Error("Format Error: Keys must be unique for each output: output index "+C+" key "+z);H[z]=1,V.push(k)}U.push(V)}return AE(E,{globalMapKeyVals:p,inputKeyVals:x,outputKeyVals:U})}function Me(e,i,a){if(ft(i,Uint8Array.from([a])))throw new Error(`Format Error: Invalid ${e} key: ${_t(i)}`)}function AE(e,{globalMapKeyVals:i,inputKeyVals:a,outputKeyVals:s}){const u={unsignedTx:e};let c=0;for(const m of i)switch(m.key[0]){case ii.UNSIGNED_TX:if(Me("global",m.key,ii.UNSIGNED_TX),c>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");c++;break;case ii.GLOBAL_XPUB:u.globalXpub===void 0&&(u.globalXpub=[]),u.globalXpub.push(Od.globalXpub.decode(m));break;default:u.unknownKeyVals||(u.unknownKeyVals=[]),u.unknownKeyVals.push(m)}const h=a.length,d=s.length,p=[],y=[];for(const m of Co(h)){const E={};for(const v of a[m])switch(Se.checkPubkey(v),v.key[0]){case gt.NON_WITNESS_UTXO:if(Me("input",v.key,gt.NON_WITNESS_UTXO),E.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");E.nonWitnessUtxo=Se.nonWitnessUtxo.decode(v);break;case gt.WITNESS_UTXO:if(Me("input",v.key,gt.WITNESS_UTXO),E.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");E.witnessUtxo=Se.witnessUtxo.decode(v);break;case gt.PARTIAL_SIG:E.partialSig===void 0&&(E.partialSig=[]),E.partialSig.push(Se.partialSig.decode(v));break;case gt.SIGHASH_TYPE:if(Me("input",v.key,gt.SIGHASH_TYPE),E.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");E.sighashType=Se.sighashType.decode(v);break;case gt.REDEEM_SCRIPT:if(Me("input",v.key,gt.REDEEM_SCRIPT),E.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");E.redeemScript=Se.redeemScript.decode(v);break;case gt.WITNESS_SCRIPT:if(Me("input",v.key,gt.WITNESS_SCRIPT),E.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");E.witnessScript=Se.witnessScript.decode(v);break;case gt.BIP32_DERIVATION:E.bip32Derivation===void 0&&(E.bip32Derivation=[]),E.bip32Derivation.push(Se.bip32Derivation.decode(v));break;case gt.FINAL_SCRIPTSIG:Me("input",v.key,gt.FINAL_SCRIPTSIG),E.finalScriptSig=Se.finalScriptSig.decode(v);break;case gt.FINAL_SCRIPTWITNESS:Me("input",v.key,gt.FINAL_SCRIPTWITNESS),E.finalScriptWitness=Se.finalScriptWitness.decode(v);break;case gt.POR_COMMITMENT:Me("input",v.key,gt.POR_COMMITMENT),E.porCommitment=Se.porCommitment.decode(v);break;case gt.TAP_KEY_SIG:Me("input",v.key,gt.TAP_KEY_SIG),E.tapKeySig=Se.tapKeySig.decode(v);break;case gt.TAP_SCRIPT_SIG:E.tapScriptSig===void 0&&(E.tapScriptSig=[]),E.tapScriptSig.push(Se.tapScriptSig.decode(v));break;case gt.TAP_LEAF_SCRIPT:E.tapLeafScript===void 0&&(E.tapLeafScript=[]),E.tapLeafScript.push(Se.tapLeafScript.decode(v));break;case gt.TAP_BIP32_DERIVATION:E.tapBip32Derivation===void 0&&(E.tapBip32Derivation=[]),E.tapBip32Derivation.push(Se.tapBip32Derivation.decode(v));break;case gt.TAP_INTERNAL_KEY:Me("input",v.key,gt.TAP_INTERNAL_KEY),E.tapInternalKey=Se.tapInternalKey.decode(v);break;case gt.TAP_MERKLE_ROOT:Me("input",v.key,gt.TAP_MERKLE_ROOT),E.tapMerkleRoot=Se.tapMerkleRoot.decode(v);break;default:E.unknownKeyVals||(E.unknownKeyVals=[]),E.unknownKeyVals.push(v)}p.push(E)}for(const m of Co(d)){const E={};for(const v of s[m])switch(Ci.checkPubkey(v),v.key[0]){case ye.REDEEM_SCRIPT:if(Me("output",v.key,ye.REDEEM_SCRIPT),E.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");E.redeemScript=Ci.redeemScript.decode(v);break;case ye.WITNESS_SCRIPT:if(Me("output",v.key,ye.WITNESS_SCRIPT),E.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");E.witnessScript=Ci.witnessScript.decode(v);break;case ye.BIP32_DERIVATION:E.bip32Derivation===void 0&&(E.bip32Derivation=[]),E.bip32Derivation.push(Ci.bip32Derivation.decode(v));break;case ye.TAP_INTERNAL_KEY:Me("output",v.key,ye.TAP_INTERNAL_KEY),E.tapInternalKey=Ci.tapInternalKey.decode(v);break;case ye.TAP_TREE:Me("output",v.key,ye.TAP_TREE),E.tapTree=Ci.tapTree.decode(v);break;case ye.TAP_BIP32_DERIVATION:E.tapBip32Derivation===void 0&&(E.tapBip32Derivation=[]),E.tapBip32Derivation.push(Ci.tapBip32Derivation.decode(v));break;default:E.unknownKeyVals||(E.unknownKeyVals=[]),E.unknownKeyVals.push(v)}y.push(E)}return{globalMap:u,inputs:p,outputs:y}}function s3({globalMap:e,inputs:i,outputs:a}){const{globalKeyVals:s,inputKeyVals:u,outputKeyVals:c}=id({globalMap:e,inputs:i,outputs:a}),h=Cm(s),d=E=>E.length===0?[Uint8Array.from([0])]:E.map(Cm),p=d(u),y=d(c),m=new Uint8Array(5);return m.set([112,115,98,116,255],0),se([m,h].concat(p,y))}const l3=(e,i)=>ft(e.key,i.key);function Mh(e,i){const a=new Set,s=Object.entries(e).reduce((c,[h,d])=>{if(h==="unknownKeyVals")return c;const p=i[h];if(p===void 0)return c;const y=(Array.isArray(d)?d:[d]).map(p.encode);return y.map(E=>_t(E.key)).forEach(E=>{if(a.has(E))throw new Error("Serialize Error: Duplicate key: "+E);a.add(E)}),c.concat(y)},[]),u=e.unknownKeyVals?e.unknownKeyVals.filter(c=>!a.has(_t(c.key))):[];return s.concat(u).sort(l3)}function id({globalMap:e,inputs:i,outputs:a}){return{globalKeyVals:Mh(e,Od),inputKeyVals:i.map(s=>Mh(s,Se)),outputKeyVals:a.map(s=>Mh(s,Ci))}}function u3(e){const i=e[0],a=id(i),s=e.slice(1);if(s.length===0)throw new Error("Combine: Nothing to combine");const u=Rm(i);if(u===void 0)throw new Error("Combine: Self missing transaction");const c=Fa(a.globalKeyVals),h=a.inputKeyVals.map(Fa),d=a.outputKeyVals.map(Fa);for(const p of s){const y=Rm(p);if(y===void 0||ft(y.toBuffer(),u.toBuffer())!==0)throw new Error("Combine: One of the Psbts does not have the same transaction.");const m=id(p);Fa(m.globalKeyVals).forEach(Dh(c,a.globalKeyVals,m.globalKeyVals)),m.inputKeyVals.map(Fa).forEach((x,U)=>x.forEach(Dh(h[U],a.inputKeyVals[U],m.inputKeyVals[U]))),m.outputKeyVals.map(Fa).forEach((x,U)=>x.forEach(Dh(d[U],a.outputKeyVals[U],m.outputKeyVals[U])))}return AE(u,{globalMapKeyVals:a.globalKeyVals,inputKeyVals:a.inputKeyVals,outputKeyVals:a.outputKeyVals})}function Dh(e,i,a){return s=>{if(e.has(s))return;const u=a.filter(c=>_t(c.key)===s)[0];i.push(u),e.add(s)}}function Rm(e){return e.globalMap.unsignedTx}function Fa(e){const i=new Set;return e.forEach(a=>{const s=_t(a.key);if(i.has(s))throw new Error("Combine: KeyValue Map keys should be unique");i.add(s)}),i}function He(e,i){const a=e[i];if(a===void 0)throw new Error(`No input #${i}`);return a}function vl(e,i){const a=e[i];if(a===void 0)throw new Error(`No output #${i}`);return a}function zh(e,i,a){if(e.key[0]<a)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(i&&i.filter(s=>ft(s.key,e.key)===0).length!==0)throw new Error(`Duplicate Key: ${_t(e.key)}`)}function Lh(e){let i=0;return Object.keys(e).forEach(a=>{Number(isNaN(Number(a)))&&i++}),i}function o3(e,i){let a=!1;if(i.nonWitnessUtxo||i.witnessUtxo){const s=!!i.redeemScript,u=!!i.witnessScript,c=!s||!!i.finalScriptSig,h=!u||!!i.finalScriptWitness,d=!!i.finalScriptSig||!!i.finalScriptWitness;a=c&&h&&d}if(a===!1)throw new Error(`Input #${e} has too much or too little data to clean`)}function Im(e,i,a,s){throw new Error(`Data for ${e} key ${i} is incorrect: Expected ${a} and got ${JSON.stringify(s)}`)}function Bd(e){return(i,a)=>{for(const s of Object.keys(i)){const u=i[s],{canAdd:c,canAddToArray:h,check:d,expected:p}=i3[e+"s"][s]||{},y=!!h;if(d)if(y){if(!Array.isArray(u)||a[s]&&!Array.isArray(a[s]))throw new Error(`Key type ${s} must be an array`);u.every(d)||Im(e,s,p,u);const m=a[s]||[],E=new Set;if(!u.every(v=>h(m,v,E)))throw new Error("Can not add duplicate data to array");a[s]=m.concat(u)}else{if(d(u)||Im(e,s,p,u),!c(a,u))throw new Error(`Can not add duplicate data to ${e}`);a[s]=u}}}}const c3=Bd("global"),SE=Bd("input"),xE=Bd("output");function f3(e,i){const a=e.length-1,s=He(e,a);SE(i,s)}function h3(e,i){const a=e.length-1,s=vl(e,a);xE(i,s)}let Hm=class{constructor(i){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:i}}static fromBase64(i,a){const s=B1(i);return this.fromBuffer(s,a)}static fromHex(i,a){const s=Li(i);return this.fromBuffer(s,a)}static fromBuffer(i,a){const s=a3(i,a),u=new this(s.globalMap.unsignedTx);return Object.assign(u,s),u}toBase64(){const i=this.toBuffer();return VA(i)}toHex(){const i=this.toBuffer();return _t(i)}toBuffer(){return s3(this)}updateGlobal(i){return c3(i,this.globalMap),this}updateInput(i,a){const s=He(this.inputs,i);return SE(a,s),this}updateOutput(i,a){const s=vl(this.outputs,i);return xE(a,s),this}addUnknownKeyValToGlobal(i){return zh(i,this.globalMap.unknownKeyVals,Lh(ii)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(i),this}addUnknownKeyValToInput(i,a){const s=He(this.inputs,i);return zh(a,s.unknownKeyVals,Lh(gt)),s.unknownKeyVals||(s.unknownKeyVals=[]),s.unknownKeyVals.push(a),this}addUnknownKeyValToOutput(i,a){const s=vl(this.outputs,i);return zh(a,s.unknownKeyVals,Lh(ye)),s.unknownKeyVals||(s.unknownKeyVals=[]),s.unknownKeyVals.push(a),this}addInput(i){this.globalMap.unsignedTx.addInput(i),this.inputs.push({unknownKeyVals:[]});const a=i.unknownKeyVals||[],s=this.inputs.length-1;if(!Array.isArray(a))throw new Error("unknownKeyVals must be an Array");return a.forEach(u=>this.addUnknownKeyValToInput(s,u)),f3(this.inputs,i),this}addOutput(i){this.globalMap.unsignedTx.addOutput(i),this.outputs.push({unknownKeyVals:[]});const a=i.unknownKeyVals||[],s=this.outputs.length-1;if(!Array.isArray(a))throw new Error("unknownKeyVals must be an Array");return a.forEach(u=>this.addUnknownKeyValToOutput(s,u)),h3(this.outputs,i),this}clearFinalizedInput(i){const a=He(this.inputs,i);o3(i,a);for(const s of Object.keys(a))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(s)||delete a[s];return this}combine(...i){const a=u3([this].concat(i));return Object.assign(this,a),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};function aa(e){return i=>{try{return e({output:i}),!0}catch{return!1}}}const d3=aa(Ol),p3=aa($1),y3=aa(Cl),Wo=aa(Qo),km=aa(rs),_E=aa(Rl),TE=aa(ra);function Ro(e){let i=new Uint8Array(0);function a(h){i=se([i,h])}function s(h){const d=i.length,p=Rn(h);i=se([i,new Uint8Array(p)]),_r(h,i,d)}function u(h){s(h.length),a(h)}function c(h){s(h.length),h.forEach(u)}return c(e),i}function NE(e,i){const a=ki(e),s=e.slice(1,33),u=fe(i);if(u===null)throw new Error("Unknown script error");return u.findIndex(c=>typeof c=="number"?!1:ft(e,c)===0||ft(a,c)===0||ft(s,c)===0)}function Jo(e,i){return NE(e,i)!==-1}function g3(e,i){return m3(e).some(s=>UE(s,yl.decode,i))}function UE(e,i,a){const{hashType:s}=i(e),u=[];switch(s&St.SIGHASH_ANYONECANPAY&&u.push("addInput"),s&31){case St.SIGHASH_ALL:break;case St.SIGHASH_SINGLE:case St.SIGHASH_NONE:u.push("addOutput"),u.push("setInputSequence");break}return u.indexOf(a)===-1}function m3(e){let i=[];if((e.partialSig||[]).length===0){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];i=E3(e)}else i=e.partialSig;return i.map(a=>a.signature)}function E3(e){const i=e.finalScriptSig?fe(e.finalScriptSig)||[]:[],a=e.finalScriptWitness?fe(e.finalScriptWitness)||[]:[];return i.concat(a).filter(s=>s instanceof Uint8Array&&Mi(s)).map(s=>({signature:s}))}const wo=e=>e.length===32?e:e.slice(1,33);function Mm(e,i,a){const s=R3(i,e,a);try{const c=B3(i,s).concat(s.script).concat(s.controlBlock);return{finalScriptWitness:Ro(c)}}catch(u){throw new Error(`Can not finalize taproot input #${e}: ${u}`)}}function ao(e,i){const a=Uint8Array.from(i?[i]:[]);return se([e,a])}function Kn(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&TE(e.witnessUtxo.script))}function jh(e,i){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||i)}function Dm(e,i,a){N3(e,i,a),O3(e,i,a)}function zm(e,i,a){U3(e,i,a),b3(e,i)}function b3(e,i){if(!i.tapTree&&!i.tapInternalKey)return;const a=i.tapInternalKey||e.tapInternalKey,s=i.tapTree||e.tapTree;if(a){const{script:u}=e,c=w3(a,s);if(u&&ft(c,u)!==0)throw new Error("Error adding output. Script or address mismatch.")}}function w3(e,i){const a=i&&v3(i.leaves),{output:s}=ra({internalPubkey:e,scriptTree:a});return s}function v3(e=[]){return e.length===1&&e[0].depth===0?{output:e[0].script,version:e[0].leafVersion}:T3(e)}function A3(e,i){return x3(e).some(s=>UE(s,S3,i))}function S3(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||St.SIGHASH_DEFAULT}}function x3(e){const i=[];if(e.tapKeySig&&i.push(e.tapKeySig),e.tapScriptSig&&i.push(...e.tapScriptSig.map(a=>a.signature)),!i.length){const a=_3(e.finalScriptWitness);a&&i.push(a)}return i}function _3(e){if(!e)return;const i=e.slice(2);if(i.length===64||i.length===65)return i}function T3(e){let i;for(const a of e)if(i=rd(a,i),!i)throw new Error("No room left to insert tapleaf in tree");return i}function rd(e,i,a=0){if(a>yx)throw new Error("Max taptree depth exceeded.");if(e.depth===a)return i?void 0:{output:e.script,version:e.leafVersion};if(wd(i))return;const s=rd(e,i&&i[0],a+1);if(s)return[s,i&&i[1]];const u=rd(e,i&&i[1],a+1);if(u)return[i&&i[0],u]}function N3(e,i,a){const s=Kn(e)&&Wa(i),u=Wa(e)&&Kn(i),c=e===i&&Kn(i)&&Wa(i);if(s||u||c)throw new Error(`Invalid arguments for Psbt.${a}. Cannot use both taproot and non-taproot fields.`)}function U3(e,i,a){const s=jh(e)&&Wa(i),u=Wa(e)&&jh(i),c=e===i&&jh(i)&&Wa(i);if(s||u||c)throw new Error(`Invalid arguments for Psbt.${a}. Cannot use both taproot and non-taproot fields.`)}function O3(e,i,a){if(i.tapMerkleRoot){const s=(i.tapLeafScript||[]).every(c=>Kh(c,i.tapMerkleRoot)),u=(e.tapLeafScript||[]).every(c=>Kh(c,i.tapMerkleRoot));if(!s||!u)throw new Error(`Invalid arguments for Psbt.${a}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot&&!(i.tapLeafScript||[]).every(u=>Kh(u,e.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${a}. Tapleaf not part of taptree.`)}function Kh(e,i){if(!i)return!0;const a=Ri({output:e.script,version:e.leafVersion}),s=td(e.controlBlock,a);return ft(s,i)===0}function B3(e,i){const a=Ri({output:i.script,version:i.leafVersion});return(e.tapScriptSig||[]).filter(s=>ft(s.leafHash,a)===0).map(s=>C3(i.script,s)).sort((s,u)=>u.positionInScript-s.positionInScript).map(s=>s.signature)}function C3(e,i){return Object.assign({positionInScript:NE(i.pubkey,e)},i)}function R3(e,i,a){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${i}. No tapleaf script signature provided.`);const s=(e.tapLeafScript||[]).sort((u,c)=>u.controlBlock.length-c.controlBlock.length).find(u=>I3(u,e.tapScriptSig,a));if(!s)throw new Error(`Can not finalize taproot input #${i}. Signature for tapleaf script not found.`);return s}function I3(e,i,a){const s=Ri({output:e.script,version:e.leafVersion});return(!a||ft(s,a)===0)&&i.find(c=>ft(c.leafHash,s)===0)!==void 0}function Wa(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}const H3={network:si,maximumFeeRate:5e3};class Jr{data;static fromBase64(i,a={}){const s=B1(i);return this.fromBuffer(s,a)}static fromHex(i,a={}){const s=Li(i);return this.fromBuffer(s,a)}static fromBuffer(i,a={}){const s=Hm.fromBuffer(i,k3),u=new Jr(a,s);return j3(u.__CACHE.__TX,u.__CACHE),u}__CACHE;opts;constructor(i={},a=new Hm(new OE)){this.data=a,this.opts=Object.assign({},H3,i),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);const s=(u,c,h,d)=>Object.defineProperty(u,c,{enumerable:h,writable:d});s(this,"__CACHE",!1,!0),s(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(i){this.setVersion(i)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(i){this.setLocktime(i)}get txInputs(){return this.__CACHE.__TX.ins.map(i=>({hash:Nm(i.hash),index:i.index,sequence:i.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(i=>{let a;try{a=Sx(i.script,this.opts.network)}catch{}return{script:Nm(i.script),value:i.value,address:a}})}combine(...i){return this.data.combine(...i.map(a=>a.data)),this}clone(){const i=Jr.fromBuffer(this.data.toBuffer());return i.opts=JSON.parse(JSON.stringify(this.opts)),i}setMaximumFeeRate(i){so(i),this.opts.maximumFeeRate=i}setVersion(i){so(i),ol(this.data.inputs,"setVersion");const a=this.__CACHE;return a.__TX.version=i,a.__EXTRACTED_TX=void 0,this}setLocktime(i){so(i),ol(this.data.inputs,"setLocktime");const a=this.__CACHE;return a.__TX.locktime=i,a.__EXTRACTED_TX=void 0,this}setInputSequence(i,a){so(a),ol(this.data.inputs,"setInputSequence");const s=this.__CACHE;if(s.__TX.ins.length<=i)throw new Error("Input index too high");return s.__TX.ins[i].sequence=a,s.__EXTRACTED_TX=void 0,this}addInputs(i){return i.forEach(a=>this.addInput(a)),this}addInput(i){if(arguments.length>1||!i||i.hash===void 0||i.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");Dm(i,i,"addInput"),ol(this.data.inputs,"addInput"),i.witnessScript&&Io(i.witnessScript);const a=this.__CACHE;this.data.addInput(i);const s=a.__TX.ins[a.__TX.ins.length-1];RE(a,s);const u=this.data.inputs.length-1,c=this.data.inputs[u];return c.nonWitnessUtxo&&ad(this.__CACHE,c,u),a.__FEE=void 0,a.__FEE_RATE=void 0,a.__EXTRACTED_TX=void 0,this}addOutputs(i){return i.forEach(a=>this.addOutput(a)),this}addOutput(i){if(arguments.length>1||!i||i.value===void 0||i.address===void 0&&i.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");ol(this.data.inputs,"addOutput");const{address:a}=i;if(typeof a=="string"){const{network:u}=this.opts,c=Td(a,u);i=Object.assign({},i,{script:c})}zm(i,i,"addOutput");const s=this.__CACHE;return this.data.addOutput(i),s.__FEE=void 0,s.__FEE_RATE=void 0,s.__EXTRACTED_TX=void 0,this}extractTransaction(i){if(!this.data.inputs.every(BE))throw new Error("Not finalized");const a=this.__CACHE;if(i||D3(this,a,this.opts),a.__EXTRACTED_TX)return a.__EXTRACTED_TX;const s=a.__TX.clone();return jE(this.data.inputs,s,a,!0),s}getFeeRate(){return Xm("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return Xm("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return He(this.data.inputs,0),cl(this.data.inputs.length).forEach(i=>this.finalizeInput(i)),this}finalizeInput(i,a){const s=He(this.data.inputs,i);return Kn(s)?this._finalizeTaprootInput(i,s,void 0,a):this._finalizeInput(i,s,a)}finalizeTaprootInput(i,a,s=Mm){const u=He(this.data.inputs,i);if(Kn(u))return this._finalizeTaprootInput(i,u,a,s);throw new Error(`Cannot finalize input #${i}. Not Taproot.`)}_finalizeInput(i,a,s=K3){const{script:u,isP2SH:c,isP2WSH:h,isSegwit:d}=F3(i,a,this.__CACHE);if(!u)throw new Error(`No script found for input #${i}`);z3(a);const{finalScriptSig:p,finalScriptWitness:y}=s(i,a,u,d,c,h);if(p&&this.data.updateInput(i,{finalScriptSig:p}),y&&this.data.updateInput(i,{finalScriptWitness:y}),!p&&!y)throw new Error(`Unknown error finalizing input #${i}`);return this.data.clearFinalizedInput(i),this}_finalizeTaprootInput(i,a,s,u=Mm){if(!a.witnessUtxo)throw new Error(`Cannot finalize input #${i}. Missing withness utxo.`);if(a.tapKeySig){const c=ra({output:a.witnessUtxo.script,signature:a.tapKeySig}),h=Ro(c.witness);this.data.updateInput(i,{finalScriptWitness:h})}else{const{finalScriptWitness:c}=u(i,a,s);this.data.updateInput(i,{finalScriptWitness:c})}return this.data.clearFinalizedInput(i),this}getInputType(i){const a=He(this.data.inputs,i),s=KE(i,a,this.__CACHE),u=ec(s,i,"input",a.redeemScript||Q3(a.finalScriptSig),a.witnessScript||W3(a.finalScriptWitness)),c=u.type==="raw"?"":u.type+"-",h=XE(u.meaningfulScript);return c+h}inputHasPubkey(i,a){const s=He(this.data.inputs,i);return $3(a,s,i,this.__CACHE)}inputHasHDKey(i,a){const s=He(this.data.inputs,i),u=jm(a);return!!s.bip32Derivation&&s.bip32Derivation.some(u)}outputHasPubkey(i,a){const s=vl(this.data.outputs,i);return Z3(a,s,i,this.__CACHE)}outputHasHDKey(i,a){const s=vl(this.data.outputs,i),u=jm(a);return!!s.bip32Derivation&&s.bip32Derivation.some(u)}validateSignaturesOfAllInputs(i){return He(this.data.inputs,0),cl(this.data.inputs.length).map(s=>this.validateSignaturesOfInput(s,i)).reduce((s,u)=>u===!0&&s,!0)}validateSignaturesOfInput(i,a,s){const u=this.data.inputs[i];return Kn(u)?this.validateSignaturesOfTaprootInput(i,a,s):this._validateSignaturesOfInput(i,a,s)}_validateSignaturesOfInput(i,a,s){const u=this.data.inputs[i],c=(u||{}).partialSig;if(!u||!c||c.length<1)throw new Error("No signatures to validate");if(typeof a!="function")throw new Error("Need validator function to validate signatures");const h=s?c.filter(E=>ft(E.pubkey,s)===0):c;if(h.length<1)throw new Error("No signatures for this pubkey");const d=[];let p,y,m;for(const E of h){const v=yl.decode(E.signature),{hash:_,script:x}=m!==v.hashType?HE(i,Object.assign({},u,{sighashType:v.hashType}),this.__CACHE,!0):{hash:p,script:y};m=v.hashType,p=_,y=x,CE(E.pubkey,x,"verify"),d.push(a(E.pubkey,_,v.signature))}return d.every(E=>E===!0)}validateSignaturesOfTaprootInput(i,a,s){const u=this.data.inputs[i],c=(u||{}).tapKeySig,h=(u||{}).tapScriptSig;if(!u&&!c&&!(h&&!h.length))throw new Error("No signatures to validate");if(typeof a!="function")throw new Error("Need validator function to validate signatures");s=s&&wo(s);const d=s?ME(i,u,this.data.inputs,s,this.__CACHE):X3(i,u,this.data.inputs,this.__CACHE);if(!d.length)throw new Error("No signatures for this pubkey");const p=d.find(m=>!m.leafHash);let y=0;if(c&&p){if(!a(p.pubkey,p.hash,Ym(c)))return!1;y++}if(h)for(const m of h){const E=d.find(v=>ft(v.pubkey,m.pubkey)===0);if(E){if(!a(m.pubkey,E.hash,Ym(m.signature)))return!1;y++}}return y>0}signAllInputsHD(i,a=[St.SIGHASH_ALL]){if(!i||!i.publicKey||!i.fingerprint)throw new Error("Need HDSigner to sign input");const s=[];for(const u of cl(this.data.inputs.length))try{this.signInputHD(u,i,a),s.push(!0)}catch{s.push(!1)}if(s.every(u=>u===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(i,a=[St.SIGHASH_ALL]){return new Promise((s,u)=>{if(!i||!i.publicKey||!i.fingerprint)return u(new Error("Need HDSigner to sign input"));const c=[],h=[];for(const d of cl(this.data.inputs.length))h.push(this.signInputHDAsync(d,i,a).then(()=>{c.push(!0)},()=>{c.push(!1)}));return Promise.all(h).then(()=>{if(c.every(d=>d===!1))return u(new Error("No inputs were signed"));s()})})}signInputHD(i,a,s=[St.SIGHASH_ALL]){if(!a||!a.publicKey||!a.fingerprint)throw new Error("Need HDSigner to sign input");return Fm(i,this.data.inputs,a).forEach(c=>this.signInput(i,c,s)),this}signInputHDAsync(i,a,s=[St.SIGHASH_ALL]){return new Promise((u,c)=>{if(!a||!a.publicKey||!a.fingerprint)return c(new Error("Need HDSigner to sign input"));const d=Fm(i,this.data.inputs,a).map(p=>this.signInputAsync(i,p,s));return Promise.all(d).then(()=>{u()}).catch(c)})}signAllInputs(i,a){if(!i||!i.publicKey)throw new Error("Need Signer to sign input");const s=[];for(const u of cl(this.data.inputs.length))try{this.signInput(u,i,a),s.push(!0)}catch{s.push(!1)}if(s.every(u=>u===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(i,a){return new Promise((s,u)=>{if(!i||!i.publicKey)return u(new Error("Need Signer to sign input"));const c=[],h=[];for(const[d]of this.data.inputs.entries())h.push(this.signInputAsync(d,i,a).then(()=>{c.push(!0)},()=>{c.push(!1)}));return Promise.all(h).then(()=>{if(c.every(d=>d===!1))return u(new Error("No inputs were signed"));s()})})}signInput(i,a,s){if(!a||!a.publicKey)throw new Error("Need Signer to sign input");const u=He(this.data.inputs,i);return Kn(u)?this._signTaprootInput(i,u,a,void 0,s):this._signInput(i,a,s)}signTaprootInput(i,a,s,u){if(!a||!a.publicKey)throw new Error("Need Signer to sign input");const c=He(this.data.inputs,i);if(Kn(c))return this._signTaprootInput(i,c,a,s,u);throw new Error(`Input #${i} is not of type Taproot.`)}_signInput(i,a,s=[St.SIGHASH_ALL]){const{hash:u,sighashType:c}=Vm(this.data.inputs,i,a.publicKey,this.__CACHE,s),h=[{pubkey:a.publicKey,signature:yl.encode(a.sign(u),c)}];return this.data.updateInput(i,{partialSig:h}),this}_signTaprootInput(i,a,s,u,c=[St.SIGHASH_DEFAULT]){const h=this.checkTaprootHashesForSig(i,a,s,u,c),d=h.filter(y=>!y.leafHash).map(y=>ao(s.signSchnorr(y.hash),a.sighashType))[0],p=h.filter(y=>!!y.leafHash).map(y=>({pubkey:wo(s.publicKey),signature:ao(s.signSchnorr(y.hash),a.sighashType),leafHash:y.leafHash}));return d&&this.data.updateInput(i,{tapKeySig:d}),p.length&&this.data.updateInput(i,{tapScriptSig:p}),this}signInputAsync(i,a,s){return Promise.resolve().then(()=>{if(!a||!a.publicKey)throw new Error("Need Signer to sign input");const u=He(this.data.inputs,i);return Kn(u)?this._signTaprootInputAsync(i,u,a,void 0,s):this._signInputAsync(i,a,s)})}signTaprootInputAsync(i,a,s,u){return Promise.resolve().then(()=>{if(!a||!a.publicKey)throw new Error("Need Signer to sign input");const c=He(this.data.inputs,i);if(Kn(c))return this._signTaprootInputAsync(i,c,a,s,u);throw new Error(`Input #${i} is not of type Taproot.`)})}_signInputAsync(i,a,s=[St.SIGHASH_ALL]){const{hash:u,sighashType:c}=Vm(this.data.inputs,i,a.publicKey,this.__CACHE,s);return Promise.resolve(a.sign(u)).then(h=>{const d=[{pubkey:a.publicKey,signature:yl.encode(h,c)}];this.data.updateInput(i,{partialSig:d})})}async _signTaprootInputAsync(i,a,s,u,c=[St.SIGHASH_DEFAULT]){const h=this.checkTaprootHashesForSig(i,a,s,u,c),d=[],p=h.filter(m=>!m.leafHash)[0];if(p){const m=Promise.resolve(s.signSchnorr(p.hash)).then(E=>({tapKeySig:ao(E,a.sighashType)}));d.push(m)}const y=h.filter(m=>!!m.leafHash);if(y.length){const m=y.map(E=>Promise.resolve(s.signSchnorr(E.hash)).then(v=>({tapScriptSig:[{pubkey:wo(s.publicKey),signature:ao(v,a.sighashType),leafHash:E.leafHash}]})));d.push(...m)}return Promise.all(d).then(m=>{m.forEach(E=>this.data.updateInput(i,E))})}checkTaprootHashesForSig(i,a,s,u,c){if(typeof s.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${i}.`);const h=V3(i,a,this.data.inputs,s.publicKey,this.__CACHE,u,c);if(!h||!h.length)throw new Error(`Can not sign for input #${i} with the key ${_t(s.publicKey)}`);return h}toBuffer(){return Gh(this.__CACHE),this.data.toBuffer()}toHex(){return Gh(this.__CACHE),this.data.toHex()}toBase64(){return Gh(this.__CACHE),this.data.toBase64()}updateGlobal(i){return this.data.updateGlobal(i),this}updateInput(i,a){return a.witnessScript&&Io(a.witnessScript),Dm(this.data.inputs[i],a,"updateInput"),this.data.updateInput(i,a),a.nonWitnessUtxo&&ad(this.__CACHE,this.data.inputs[i],i),this}updateOutput(i,a){const s=this.data.outputs[i];return zm(s,a,"updateOutput"),this.data.updateOutput(i,a),this}addUnknownKeyValToGlobal(i){return this.data.addUnknownKeyValToGlobal(i),this}addUnknownKeyValToInput(i,a){return this.data.addUnknownKeyValToInput(i,a),this}addUnknownKeyValToOutput(i,a){return this.data.addUnknownKeyValToOutput(i,a),this}clearFinalizedInput(i){return this.data.clearFinalizedInput(i),this}}const k3=e=>new OE(e);class OE{tx;constructor(i=Uint8Array.from([2,0,0,0,0,0,0,0,0,0])){this.tx=St.fromBuffer(i),L3(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(i){if(i.hash===void 0||i.index===void 0||!(i.hash instanceof Uint8Array)&&typeof i.hash!="string"||typeof i.index!="number")throw new Error("Error adding input.");const a=typeof i.hash=="string"?_d(Li(i.hash)):i.hash;this.tx.addInput(a,i.index,i.sequence)}addOutput(i){if(i.script===void 0||i.value===void 0||!(i.script instanceof Uint8Array)||typeof i.value!="bigint")throw new Error("Error adding output.");this.tx.addOutput(i.script,i.value)}toBuffer(){return this.tx.toBuffer()}}function M3(e,i,a){switch(a){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return Lm(1,e.partialSig);case"multisig":const s=Ol({output:i});return Lm(s.m,e.partialSig,s.pubkeys);default:return!1}}function Gh(e){if(e.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function Lm(e,i,a){if(!i)return!1;let s;if(a?s=a.map(u=>{const c=J3(u);return i.find(h=>ft(h.pubkey,c)===0)}).filter(u=>!!u):s=i,s.length>e)throw new Error("Too many signatures");return s.length===e}function BE(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function jm(e){return i=>!(ft(e.fingerprint,i.masterFingerprint)||ft(e.derivePath(i.path).publicKey,i.pubkey))}function so(e){if(typeof e!="number"||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function D3(e,i,a){const s=i.__FEE_RATE||e.getFeeRate(),u=i.__EXTRACTED_TX.virtualSize(),c=s*u;if(s>=a.maximumFeeRate)throw new Error(`Warning: You are paying around ${(c/1e8).toFixed(8)} in fees, which is ${s} satoshi per byte for a transaction with a VSize of ${u} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function ol(e,i){e.forEach(a=>{if(Kn(a)?A3(a,i):g3(a,i))throw new Error("Can not modify transaction, signatures exist.")})}function z3(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:i,sighashType:a}=e;i.forEach(s=>{const{hashType:u}=yl.decode(s.signature);if(a!==u)throw new Error("Signature sighash does not match input sighash type")})}function CE(e,i,a){if(!Jo(e,i))throw new Error(`Can not ${a} for this input with the key ${_t(e)}`)}function L3(e){if(!e.ins.every(a=>a.script&&a.script.length===0&&a.witness&&a.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function j3(e,i){e.ins.forEach(a=>{RE(i,a)})}function RE(e,i){const a=_t(_d(Uint8Array.from(i.hash)))+":"+i.index;if(e.__TX_IN_CACHE[a])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[a]=1}function IE(e,i){return(a,s,u,c)=>{const h=e({redeem:{output:u}}).output;if(ft(s,h))throw new Error(`${i} for ${c} #${a} doesn't match the scriptPubKey in the prevout`)}}const Km=IE(Rl,"Redeem script"),Gm=IE(rs,"Witness script");function Xm(e,i,a,s){if(!a.every(BE))throw new Error(`PSBT must be finalized to calculate ${i}`);if(e==="__FEE_RATE"&&s.__FEE_RATE)return s.__FEE_RATE;if(e==="__FEE"&&s.__FEE)return s.__FEE;let u,c=!0;if(s.__EXTRACTED_TX?(u=s.__EXTRACTED_TX,c=!1):u=s.__TX.clone(),jE(a,u,s,c),e==="__FEE_RATE")return s.__FEE_RATE;if(e==="__FEE")return s.__FEE}function K3(e,i,a,s,u,c){const h=XE(a);if(!M3(i,a,h))throw new Error(`Can not finalize input #${e}`);return G3(a,h,i.partialSig,s,u,c)}function G3(e,i,a,s,u,c){let h,d;const p=Y3(e,i,a),y=c?rs({redeem:p}):null,m=u?Rl({redeem:y||p}):null;return s?(y?d=Ro(y.witness):d=Ro(p.witness),m&&(h=m.input)):m?h=m.input:h=p.input,{finalScriptSig:h,finalScriptWitness:d}}function Vm(e,i,a,s,u){const c=He(e,i),{hash:h,sighashType:d,script:p}=HE(i,c,s,!1,u);return CE(a,p,"sign"),{hash:h,sighashType:d}}function HE(e,i,a,s,u){const c=a.__TX,h=i.sighashType||St.SIGHASH_ALL;zE(h,u);let d,p;if(i.nonWitnessUtxo){const E=tc(a,i,e),v=c.ins[e].hash,_=E.getHash();if(ft(v,_)!==0)throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const x=c.ins[e].index;p=E.outs[x]}else if(i.witnessUtxo)p=i.witnessUtxo;else throw new Error("Need a Utxo input item for signing");const{meaningfulScript:y,type:m}=ec(p.script,e,"input",i.redeemScript,i.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(m)>=0)d=c.hashForWitnessV0(e,y,p.value,h);else if(Wo(y)){const E=Cl({hash:y.slice(2)}).output;d=c.hashForWitnessV0(e,E,p.value,h)}else{if(i.nonWitnessUtxo===void 0&&a.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${_t(y)}`);!s&&a.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),d=c.hashForSignature(e,y,h)}return{script:y,sighashType:h,hash:d}}function X3(e,i,a,s){const u=[];if(i.tapInternalKey){const h=kE(e,i,s);h&&u.push(h)}if(i.tapScriptSig){const h=i.tapScriptSig.map(d=>d.pubkey);u.push(...h)}return u.map(h=>ME(e,i,a,h,s)).flat()}function kE(e,i,a){const{script:s}=Cd(e,i,a);return TE(s)?s.subarray(2,34):null}function Ym(e){return e.length===64?e:e.subarray(0,64)}function V3(e,i,a,s,u,c,h){const d=i.sighashType||St.SIGHASH_DEFAULT;zE(d,h);const p=!!(i.tapInternalKey&&!c);return DE(e,i,a,s,u,p,d,c)}function ME(e,i,a,s,u){const c=i.sighashType||St.SIGHASH_DEFAULT,h=!!i.tapKeySig;return DE(e,i,a,s,u,h,c)}function DE(e,i,a,s,u,c,h,d){const p=u.__TX,y=a.map((x,U)=>Cd(U,x,u)),m=y.map(x=>x.script),E=y.map(x=>x.value),v=[];if(c){const x=kE(e,i,u)||Uint8Array.from([]);if(ft(wo(s),x)===0){const U=p.hashForWitnessV1(e,m,E,h);v.push({pubkey:s,hash:U})}}const _=(i.tapLeafScript||[]).filter(x=>Jo(s,x.script)).map(x=>{const U=Ri({output:x.script,version:x.leafVersion});return Object.assign({hash:U},x)}).filter(x=>!d||ft(d,x.hash)===0).map(x=>{const U=p.hashForWitnessV1(e,m,E,h,x.hash);return{pubkey:s,hash:U,leafHash:x.hash}});return v.concat(_)}function zE(e,i){if(i&&i.indexOf(e)<0){const a=P3(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${a}`)}}function Y3(e,i,a){let s;switch(i){case"multisig":const u=q3(e,a);s=Ol({output:e,signatures:u});break;case"pubkey":s=$1({output:e,signature:a[0].signature});break;case"pubkeyhash":s=Cl({output:e,pubkey:a[0].pubkey,signature:a[0].signature});break;case"witnesspubkeyhash":s=Qo({output:e,pubkey:a[0].pubkey,signature:a[0].signature});break}return s}function F3(e,i,a){const s=a.__TX,u={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(u.isP2SH=!!i.redeemScript,u.isP2WSH=!!i.witnessScript,i.witnessScript)u.script=i.witnessScript;else if(i.redeemScript)u.script=i.redeemScript;else if(i.nonWitnessUtxo){const c=tc(a,i,e),h=s.ins[e].index;u.script=c.outs[h].script}else i.witnessUtxo&&(u.script=i.witnessUtxo.script);return(i.witnessScript||Wo(u.script))&&(u.isSegwit=!0),u}function Fm(e,i,a){const s=He(i,e);if(!s.bip32Derivation||s.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");const u=s.bip32Derivation.map(h=>{if(ft(h.masterFingerprint,a.fingerprint)===0)return h}).filter(h=>!!h);if(u.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return u.map(h=>{const d=a.derivePath(h.path);if(ft(h.pubkey,d.publicKey)!==0)throw new Error("pubkey did not match bip32Derivation");return d})}function q3(e,i){return Ol({output:e}).pubkeys.map(s=>(i.filter(u=>ft(u.pubkey,s)===0)[0]||{}).signature).filter(s=>!!s)}function LE(e){let i=0;function a(h){return i+=h,e.slice(i-h,i)}function s(){const h=as(e,i);return i+=Rn(h.bigintValue),h.numberValue}function u(){return a(s())}function c(){const h=s(),d=[];for(let p=0;p<h;p++)d.push(u());return d}return c()}function P3(e){let i=e&St.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(e&31){case St.SIGHASH_ALL:i+="SIGHASH_ALL";break;case St.SIGHASH_SINGLE:i+="SIGHASH_SINGLE";break;case St.SIGHASH_NONE:i+="SIGHASH_NONE";break}return i}function ad(e,i,a){e.__NON_WITNESS_UTXO_BUF_CACHE[a]=i.nonWitnessUtxo;const s=St.fromBuffer(i.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[a]=s;const u=e,c=a;delete i.nonWitnessUtxo,Object.defineProperty(i,"nonWitnessUtxo",{enumerable:!0,get(){const h=u.__NON_WITNESS_UTXO_BUF_CACHE[c],d=u.__NON_WITNESS_UTXO_TX_CACHE[c];if(h!==void 0)return h;{const p=d.toBuffer();return u.__NON_WITNESS_UTXO_BUF_CACHE[c]=p,p}},set(h){u.__NON_WITNESS_UTXO_BUF_CACHE[c]=h}})}function jE(e,i,a,s){let u=0n;e.forEach((p,y)=>{if(s&&p.finalScriptSig&&(i.ins[y].script=p.finalScriptSig),s&&p.finalScriptWitness&&(i.ins[y].witness=LE(p.finalScriptWitness)),p.witnessUtxo)u+=p.witnessUtxo.value;else if(p.nonWitnessUtxo){const m=tc(a,p,y),E=i.ins[y].index,v=m.outs[E];u+=v.value}});const c=i.outs.reduce((p,y)=>p+y.value,0n),h=u-c;if(h<0)throw new Error("Outputs are spending more than Inputs");const d=i.virtualSize();a.__FEE=h,a.__EXTRACTED_TX=i,a.__FEE_RATE=Math.floor(Number(h/BigInt(d)))}function tc(e,i,a){const s=e.__NON_WITNESS_UTXO_TX_CACHE;return s[a]||ad(e,i,a),s[a]}function KE(e,i,a){const{script:s}=Cd(e,i,a);return s}function Cd(e,i,a){if(i.witnessUtxo!==void 0)return{script:i.witnessUtxo.script,value:i.witnessUtxo.value};if(i.nonWitnessUtxo!==void 0){const u=tc(a,i,e).outs[a.__TX.ins[e].index];return{script:u.script,value:u.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function $3(e,i,a,s){const u=KE(a,i,s),{meaningfulScript:c}=ec(u,a,"input",i.redeemScript,i.witnessScript);return Jo(e,c)}function Z3(e,i,a,s){const u=s.__TX.outs[a].script,{meaningfulScript:c}=ec(u,a,"output",i.redeemScript,i.witnessScript);return Jo(e,c)}function Q3(e){if(!e)return;const i=fe(e);if(!i)return;const a=i[i.length-1];if(!(!(a instanceof Uint8Array)||GE(a)||t8(a)||!fe(a)))return a}function W3(e){if(!e)return;const i=LE(e),a=i[i.length-1];if(!(GE(a)||!fe(a)))return a}function J3(e){if(e.length===65){const i=e[64]&1,a=e.slice(0,33);return a[0]=2|i,a}return e.slice()}function GE(e){return e.length===33&&mS(e)}function t8(e){return Mi(e)}function ec(e,i,a,s,u){const c=_E(e),h=c&&s&&km(s),d=km(e);if(c&&s===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((d||h)&&u===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let p;return h?(p=u,Km(i,e,s,a),Gm(i,s,u,a),Io(p)):d?(p=u,Gm(i,e,u,a),Io(p)):c?(p=s,Km(i,e,s,a)):p=e,{meaningfulScript:p,type:h?"p2sh-p2wsh":c?"p2sh":d?"p2wsh":"raw"}}function Io(e){if(Wo(e)||_E(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function XE(e){return Wo(e)?"witnesspubkeyhash":y3(e)?"pubkeyhash":d3(e)?"multisig":p3(e)?"pubkey":"nonstandard"}function cl(e){return[...Array(e).keys()]}var Xh={},fl={},qm;function e8(){if(qm)return fl;qm=1,fl.byteLength=d,fl.toByteArray=y,fl.fromByteArray=v;for(var e=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=s.length;u<c;++u)e[u]=s[u],i[s.charCodeAt(u)]=u;i[45]=62,i[95]=63;function h(_){var x=_.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=_.indexOf("=");U===-1&&(U=x);var C=U===x?0:4-U%4;return[U,C]}function d(_){var x=h(_),U=x[0],C=x[1];return(U+C)*3/4-C}function p(_,x,U){return(x+U)*3/4-U}function y(_){var x,U=h(_),C=U[0],H=U[1],V=new a(p(_,C,H)),k=0,z=H>0?C-4:C,Y;for(Y=0;Y<z;Y+=4)x=i[_.charCodeAt(Y)]<<18|i[_.charCodeAt(Y+1)]<<12|i[_.charCodeAt(Y+2)]<<6|i[_.charCodeAt(Y+3)],V[k++]=x>>16&255,V[k++]=x>>8&255,V[k++]=x&255;return H===2&&(x=i[_.charCodeAt(Y)]<<2|i[_.charCodeAt(Y+1)]>>4,V[k++]=x&255),H===1&&(x=i[_.charCodeAt(Y)]<<10|i[_.charCodeAt(Y+1)]<<4|i[_.charCodeAt(Y+2)]>>2,V[k++]=x>>8&255,V[k++]=x&255),V}function m(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function E(_,x,U){for(var C,H=[],V=x;V<U;V+=3)C=(_[V]<<16&16711680)+(_[V+1]<<8&65280)+(_[V+2]&255),H.push(m(C));return H.join("")}function v(_){for(var x,U=_.length,C=U%3,H=[],V=16383,k=0,z=U-C;k<z;k+=V)H.push(E(_,k,k+V>z?z:k+V));return C===1?(x=_[U-1],H.push(e[x>>2]+e[x<<4&63]+"==")):C===2&&(x=(_[U-2]<<8)+_[U-1],H.push(e[x>>10]+e[x>>4&63]+e[x<<2&63]+"=")),H.join("")}return fl}var lo={};var Pm;function n8(){return Pm||(Pm=1,lo.read=function(e,i,a,s,u){var c,h,d=u*8-s-1,p=(1<<d)-1,y=p>>1,m=-7,E=a?u-1:0,v=a?-1:1,_=e[i+E];for(E+=v,c=_&(1<<-m)-1,_>>=-m,m+=d;m>0;c=c*256+e[i+E],E+=v,m-=8);for(h=c&(1<<-m)-1,c>>=-m,m+=s;m>0;h=h*256+e[i+E],E+=v,m-=8);if(c===0)c=1-y;else{if(c===p)return h?NaN:(_?-1:1)*(1/0);h=h+Math.pow(2,s),c=c-y}return(_?-1:1)*h*Math.pow(2,c-s)},lo.write=function(e,i,a,s,u,c){var h,d,p,y=c*8-u-1,m=(1<<y)-1,E=m>>1,v=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=s?0:c-1,x=s?1:-1,U=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(d=isNaN(i)?1:0,h=m):(h=Math.floor(Math.log(i)/Math.LN2),i*(p=Math.pow(2,-h))<1&&(h--,p*=2),h+E>=1?i+=v/p:i+=v*Math.pow(2,1-E),i*p>=2&&(h++,p/=2),h+E>=m?(d=0,h=m):h+E>=1?(d=(i*p-1)*Math.pow(2,u),h=h+E):(d=i*Math.pow(2,E-1)*Math.pow(2,u),h=0));u>=8;e[a+_]=d&255,_+=x,d/=256,u-=8);for(h=h<<u|d,y+=u;y>0;e[a+_]=h&255,_+=x,h/=256,y-=8);e[a+_-x]|=U*128}),lo}var $m;function i8(){return $m||($m=1,(function(e){const i=e8(),a=n8(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=d,e.SlowBuffer=V,e.INSPECT_MAX_BYTES=50;const u=2147483647;e.kMaxLength=u,d.TYPED_ARRAY_SUPPORT=c(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const S=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(S,g),S.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function h(S){if(S>u)throw new RangeError('The value "'+S+'" is invalid for option "size"');const g=new Uint8Array(S);return Object.setPrototypeOf(g,d.prototype),g}function d(S,g,b){if(typeof S=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(S)}return p(S,g,b)}d.poolSize=8192;function p(S,g,b){if(typeof S=="string")return v(S,g);if(ArrayBuffer.isView(S))return x(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(yn(S,ArrayBuffer)||S&&yn(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yn(S,SharedArrayBuffer)||S&&yn(S.buffer,SharedArrayBuffer)))return U(S,g,b);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const T=S.valueOf&&S.valueOf();if(T!=null&&T!==S)return d.from(T,g,b);const M=C(S);if(M)return M;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return d.from(S[Symbol.toPrimitive]("string"),g,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}d.from=function(S,g,b){return p(S,g,b)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function y(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function m(S,g,b){return y(S),S<=0?h(S):g!==void 0?typeof b=="string"?h(S).fill(g,b):h(S).fill(g):h(S)}d.alloc=function(S,g,b){return m(S,g,b)};function E(S){return y(S),h(S<0?0:H(S)|0)}d.allocUnsafe=function(S){return E(S)},d.allocUnsafeSlow=function(S){return E(S)};function v(S,g){if((typeof g!="string"||g==="")&&(g="utf8"),!d.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const b=k(S,g)|0;let T=h(b);const M=T.write(S,g);return M!==b&&(T=T.slice(0,M)),T}function _(S){const g=S.length<0?0:H(S.length)|0,b=h(g);for(let T=0;T<g;T+=1)b[T]=S[T]&255;return b}function x(S){if(yn(S,Uint8Array)){const g=new Uint8Array(S);return U(g.buffer,g.byteOffset,g.byteLength)}return _(S)}function U(S,g,b){if(g<0||S.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<g+(b||0))throw new RangeError('"length" is outside of buffer bounds');let T;return g===void 0&&b===void 0?T=new Uint8Array(S):b===void 0?T=new Uint8Array(S,g):T=new Uint8Array(S,g,b),Object.setPrototypeOf(T,d.prototype),T}function C(S){if(d.isBuffer(S)){const g=H(S.length)|0,b=h(g);return b.length===0||S.copy(b,0,0,g),b}if(S.length!==void 0)return typeof S.length!="number"||ps(S.length)?h(0):_(S);if(S.type==="Buffer"&&Array.isArray(S.data))return _(S.data)}function H(S){if(S>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return S|0}function V(S){return+S!=S&&(S=0),d.alloc(+S)}d.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==d.prototype},d.compare=function(g,b){if(yn(g,Uint8Array)&&(g=d.from(g,g.offset,g.byteLength)),yn(b,Uint8Array)&&(b=d.from(b,b.offset,b.byteLength)),!d.isBuffer(g)||!d.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===b)return 0;let T=g.length,M=b.length;for(let X=0,tt=Math.min(T,M);X<tt;++X)if(g[X]!==b[X]){T=g[X],M=b[X];break}return T<M?-1:M<T?1:0},d.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(g,b){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return d.alloc(0);let T;if(b===void 0)for(b=0,T=0;T<g.length;++T)b+=g[T].length;const M=d.allocUnsafe(b);let X=0;for(T=0;T<g.length;++T){let tt=g[T];if(yn(tt,Uint8Array))X+tt.length>M.length?(d.isBuffer(tt)||(tt=d.from(tt)),tt.copy(M,X)):Uint8Array.prototype.set.call(M,tt,X);else if(d.isBuffer(tt))tt.copy(M,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=tt.length}return M};function k(S,g){if(d.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||yn(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const b=S.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&b===0)return 0;let M=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return hs(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return la(S).length;default:if(M)return T?-1:hs(S).length;g=(""+g).toLowerCase(),M=!0}}d.byteLength=k;function z(S,g,b){let T=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,g>>>=0,b<=g))return"";for(S||(S="utf8");;)switch(S){case"hex":return lt(this,g,b);case"utf8":case"utf-8":return Z(this,g,b);case"ascii":return q(this,g,b);case"latin1":case"binary":return rt(this,g,b);case"base64":return $(this,g,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nt(this,g,b);default:if(T)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),T=!0}}d.prototype._isBuffer=!0;function Y(S,g,b){const T=S[g];S[g]=S[b],S[b]=T}d.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<g;b+=2)Y(this,b,b+1);return this},d.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<g;b+=4)Y(this,b,b+3),Y(this,b+1,b+2);return this},d.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<g;b+=8)Y(this,b,b+7),Y(this,b+1,b+6),Y(this,b+2,b+5),Y(this,b+3,b+4);return this},d.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?Z(this,0,g):z.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(g){if(!d.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:d.compare(this,g)===0},d.prototype.inspect=function(){let g="";const b=e.INSPECT_MAX_BYTES;return g=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(g+=" ... "),"<Buffer "+g+">"},s&&(d.prototype[s]=d.prototype.inspect),d.prototype.compare=function(g,b,T,M,X){if(yn(g,Uint8Array)&&(g=d.from(g,g.offset,g.byteLength)),!d.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(b===void 0&&(b=0),T===void 0&&(T=g?g.length:0),M===void 0&&(M=0),X===void 0&&(X=this.length),b<0||T>g.length||M<0||X>this.length)throw new RangeError("out of range index");if(M>=X&&b>=T)return 0;if(M>=X)return-1;if(b>=T)return 1;if(b>>>=0,T>>>=0,M>>>=0,X>>>=0,this===g)return 0;let tt=X-M,wt=T-b;const Gt=Math.min(tt,wt),Ct=this.slice(M,X),re=g.slice(b,T);for(let Yt=0;Yt<Gt;++Yt)if(Ct[Yt]!==re[Yt]){tt=Ct[Yt],wt=re[Yt];break}return tt<wt?-1:wt<tt?1:0};function J(S,g,b,T,M){if(S.length===0)return-1;if(typeof b=="string"?(T=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,ps(b)&&(b=M?0:S.length-1),b<0&&(b=S.length+b),b>=S.length){if(M)return-1;b=S.length-1}else if(b<0)if(M)b=0;else return-1;if(typeof g=="string"&&(g=d.from(g,T)),d.isBuffer(g))return g.length===0?-1:P(S,g,b,T,M);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?M?Uint8Array.prototype.indexOf.call(S,g,b):Uint8Array.prototype.lastIndexOf.call(S,g,b):P(S,[g],b,T,M);throw new TypeError("val must be string, number or Buffer")}function P(S,g,b,T,M){let X=1,tt=S.length,wt=g.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(S.length<2||g.length<2)return-1;X=2,tt/=2,wt/=2,b/=2}function Gt(re,Yt){return X===1?re[Yt]:re.readUInt16BE(Yt*X)}let Ct;if(M){let re=-1;for(Ct=b;Ct<tt;Ct++)if(Gt(S,Ct)===Gt(g,re===-1?0:Ct-re)){if(re===-1&&(re=Ct),Ct-re+1===wt)return re*X}else re!==-1&&(Ct-=Ct-re),re=-1}else for(b+wt>tt&&(b=tt-wt),Ct=b;Ct>=0;Ct--){let re=!0;for(let Yt=0;Yt<wt;Yt++)if(Gt(S,Ct+Yt)!==Gt(g,Yt)){re=!1;break}if(re)return Ct}return-1}d.prototype.includes=function(g,b,T){return this.indexOf(g,b,T)!==-1},d.prototype.indexOf=function(g,b,T){return J(this,g,b,T,!0)},d.prototype.lastIndexOf=function(g,b,T){return J(this,g,b,T,!1)};function ct(S,g,b,T){b=Number(b)||0;const M=S.length-b;T?(T=Number(T),T>M&&(T=M)):T=M;const X=g.length;T>X/2&&(T=X/2);let tt;for(tt=0;tt<T;++tt){const wt=parseInt(g.substr(tt*2,2),16);if(ps(wt))return tt;S[b+tt]=wt}return tt}function ut(S,g,b,T){return Gi(hs(g,S.length-b),S,b,T)}function Nt(S,g,b,T){return Gi(Dl(g),S,b,T)}function Ut(S,g,b,T){return Gi(la(g),S,b,T)}function yt(S,g,b,T){return Gi(ds(g,S.length-b),S,b,T)}d.prototype.write=function(g,b,T,M){if(b===void 0)M="utf8",T=this.length,b=0;else if(T===void 0&&typeof b=="string")M=b,T=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(T)?(T=T>>>0,M===void 0&&(M="utf8")):(M=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const X=this.length-b;if((T===void 0||T>X)&&(T=X),g.length>0&&(T<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");let tt=!1;for(;;)switch(M){case"hex":return ct(this,g,b,T);case"utf8":case"utf-8":return ut(this,g,b,T);case"ascii":case"latin1":case"binary":return Nt(this,g,b,T);case"base64":return Ut(this,g,b,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,g,b,T);default:if(tt)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),tt=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(S,g,b){return g===0&&b===S.length?i.fromByteArray(S):i.fromByteArray(S.slice(g,b))}function Z(S,g,b){b=Math.min(S.length,b);const T=[];let M=g;for(;M<b;){const X=S[M];let tt=null,wt=X>239?4:X>223?3:X>191?2:1;if(M+wt<=b){let Gt,Ct,re,Yt;switch(wt){case 1:X<128&&(tt=X);break;case 2:Gt=S[M+1],(Gt&192)===128&&(Yt=(X&31)<<6|Gt&63,Yt>127&&(tt=Yt));break;case 3:Gt=S[M+1],Ct=S[M+2],(Gt&192)===128&&(Ct&192)===128&&(Yt=(X&15)<<12|(Gt&63)<<6|Ct&63,Yt>2047&&(Yt<55296||Yt>57343)&&(tt=Yt));break;case 4:Gt=S[M+1],Ct=S[M+2],re=S[M+3],(Gt&192)===128&&(Ct&192)===128&&(re&192)===128&&(Yt=(X&15)<<18|(Gt&63)<<12|(Ct&63)<<6|re&63,Yt>65535&&Yt<1114112&&(tt=Yt))}}tt===null?(tt=65533,wt=1):tt>65535&&(tt-=65536,T.push(tt>>>10&1023|55296),tt=56320|tt&1023),T.push(tt),M+=wt}return I(T)}const Q=4096;function I(S){const g=S.length;if(g<=Q)return String.fromCharCode.apply(String,S);let b="",T=0;for(;T<g;)b+=String.fromCharCode.apply(String,S.slice(T,T+=Q));return b}function q(S,g,b){let T="";b=Math.min(S.length,b);for(let M=g;M<b;++M)T+=String.fromCharCode(S[M]&127);return T}function rt(S,g,b){let T="";b=Math.min(S.length,b);for(let M=g;M<b;++M)T+=String.fromCharCode(S[M]);return T}function lt(S,g,b){const T=S.length;(!g||g<0)&&(g=0),(!b||b<0||b>T)&&(b=T);let M="";for(let X=g;X<b;++X)M+=Ke[S[X]];return M}function nt(S,g,b){const T=S.slice(g,b);let M="";for(let X=0;X<T.length-1;X+=2)M+=String.fromCharCode(T[X]+T[X+1]*256);return M}d.prototype.slice=function(g,b){const T=this.length;g=~~g,b=b===void 0?T:~~b,g<0?(g+=T,g<0&&(g=0)):g>T&&(g=T),b<0?(b+=T,b<0&&(b=0)):b>T&&(b=T),b<g&&(b=g);const M=this.subarray(g,b);return Object.setPrototypeOf(M,d.prototype),M};function N(S,g,b){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+g>b)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(g,b,T){g=g>>>0,b=b>>>0,T||N(g,b,this.length);let M=this[g],X=1,tt=0;for(;++tt<b&&(X*=256);)M+=this[g+tt]*X;return M},d.prototype.readUintBE=d.prototype.readUIntBE=function(g,b,T){g=g>>>0,b=b>>>0,T||N(g,b,this.length);let M=this[g+--b],X=1;for(;b>0&&(X*=256);)M+=this[g+--b]*X;return M},d.prototype.readUint8=d.prototype.readUInt8=function(g,b){return g=g>>>0,b||N(g,1,this.length),this[g]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(g,b){return g=g>>>0,b||N(g,2,this.length),this[g]|this[g+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(g,b){return g=g>>>0,b||N(g,2,this.length),this[g]<<8|this[g+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(g,b){return g=g>>>0,b||N(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(g,b){return g=g>>>0,b||N(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},d.prototype.readBigUInt64LE=Fn(function(g){g=g>>>0,pn(g,"offset");const b=this[g],T=this[g+7];(b===void 0||T===void 0)&&nn(g,this.length-8);const M=b+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,X=this[++g]+this[++g]*2**8+this[++g]*2**16+T*2**24;return BigInt(M)+(BigInt(X)<<BigInt(32))}),d.prototype.readBigUInt64BE=Fn(function(g){g=g>>>0,pn(g,"offset");const b=this[g],T=this[g+7];(b===void 0||T===void 0)&&nn(g,this.length-8);const M=b*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],X=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+T;return(BigInt(M)<<BigInt(32))+BigInt(X)}),d.prototype.readIntLE=function(g,b,T){g=g>>>0,b=b>>>0,T||N(g,b,this.length);let M=this[g],X=1,tt=0;for(;++tt<b&&(X*=256);)M+=this[g+tt]*X;return X*=128,M>=X&&(M-=Math.pow(2,8*b)),M},d.prototype.readIntBE=function(g,b,T){g=g>>>0,b=b>>>0,T||N(g,b,this.length);let M=b,X=1,tt=this[g+--M];for(;M>0&&(X*=256);)tt+=this[g+--M]*X;return X*=128,tt>=X&&(tt-=Math.pow(2,8*b)),tt},d.prototype.readInt8=function(g,b){return g=g>>>0,b||N(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},d.prototype.readInt16LE=function(g,b){g=g>>>0,b||N(g,2,this.length);const T=this[g]|this[g+1]<<8;return T&32768?T|4294901760:T},d.prototype.readInt16BE=function(g,b){g=g>>>0,b||N(g,2,this.length);const T=this[g+1]|this[g]<<8;return T&32768?T|4294901760:T},d.prototype.readInt32LE=function(g,b){return g=g>>>0,b||N(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},d.prototype.readInt32BE=function(g,b){return g=g>>>0,b||N(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},d.prototype.readBigInt64LE=Fn(function(g){g=g>>>0,pn(g,"offset");const b=this[g],T=this[g+7];(b===void 0||T===void 0)&&nn(g,this.length-8);const M=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(T<<24);return(BigInt(M)<<BigInt(32))+BigInt(b+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),d.prototype.readBigInt64BE=Fn(function(g){g=g>>>0,pn(g,"offset");const b=this[g],T=this[g+7];(b===void 0||T===void 0)&&nn(g,this.length-8);const M=(b<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(M)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+T)}),d.prototype.readFloatLE=function(g,b){return g=g>>>0,b||N(g,4,this.length),a.read(this,g,!0,23,4)},d.prototype.readFloatBE=function(g,b){return g=g>>>0,b||N(g,4,this.length),a.read(this,g,!1,23,4)},d.prototype.readDoubleLE=function(g,b){return g=g>>>0,b||N(g,8,this.length),a.read(this,g,!0,52,8)},d.prototype.readDoubleBE=function(g,b){return g=g>>>0,b||N(g,8,this.length),a.read(this,g,!1,52,8)};function L(S,g,b,T,M,X){if(!d.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>M||g<X)throw new RangeError('"value" argument is out of bounds');if(b+T>S.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(g,b,T,M){if(g=+g,b=b>>>0,T=T>>>0,!M){const wt=Math.pow(2,8*T)-1;L(this,g,b,T,wt,0)}let X=1,tt=0;for(this[b]=g&255;++tt<T&&(X*=256);)this[b+tt]=g/X&255;return b+T},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(g,b,T,M){if(g=+g,b=b>>>0,T=T>>>0,!M){const wt=Math.pow(2,8*T)-1;L(this,g,b,T,wt,0)}let X=T-1,tt=1;for(this[b+X]=g&255;--X>=0&&(tt*=256);)this[b+X]=g/tt&255;return b+T},d.prototype.writeUint8=d.prototype.writeUInt8=function(g,b,T){return g=+g,b=b>>>0,T||L(this,g,b,1,255,0),this[b]=g&255,b+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(g,b,T){return g=+g,b=b>>>0,T||L(this,g,b,2,65535,0),this[b]=g&255,this[b+1]=g>>>8,b+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(g,b,T){return g=+g,b=b>>>0,T||L(this,g,b,2,65535,0),this[b]=g>>>8,this[b+1]=g&255,b+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(g,b,T){return g=+g,b=b>>>0,T||L(this,g,b,4,4294967295,0),this[b+3]=g>>>24,this[b+2]=g>>>16,this[b+1]=g>>>8,this[b]=g&255,b+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(g,b,T){return g=+g,b=b>>>0,T||L(this,g,b,4,4294967295,0),this[b]=g>>>24,this[b+1]=g>>>16,this[b+2]=g>>>8,this[b+3]=g&255,b+4};function at(S,g,b,T,M){ui(g,T,M,S,b,7);let X=Number(g&BigInt(4294967295));S[b++]=X,X=X>>8,S[b++]=X,X=X>>8,S[b++]=X,X=X>>8,S[b++]=X;let tt=Number(g>>BigInt(32)&BigInt(4294967295));return S[b++]=tt,tt=tt>>8,S[b++]=tt,tt=tt>>8,S[b++]=tt,tt=tt>>8,S[b++]=tt,b}function st(S,g,b,T,M){ui(g,T,M,S,b,7);let X=Number(g&BigInt(4294967295));S[b+7]=X,X=X>>8,S[b+6]=X,X=X>>8,S[b+5]=X,X=X>>8,S[b+4]=X;let tt=Number(g>>BigInt(32)&BigInt(4294967295));return S[b+3]=tt,tt=tt>>8,S[b+2]=tt,tt=tt>>8,S[b+1]=tt,tt=tt>>8,S[b]=tt,b+8}d.prototype.writeBigUInt64LE=Fn(function(g,b=0){return at(this,g,b,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Fn(function(g,b=0){return st(this,g,b,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(g,b,T,M){if(g=+g,b=b>>>0,!M){const Gt=Math.pow(2,8*T-1);L(this,g,b,T,Gt-1,-Gt)}let X=0,tt=1,wt=0;for(this[b]=g&255;++X<T&&(tt*=256);)g<0&&wt===0&&this[b+X-1]!==0&&(wt=1),this[b+X]=(g/tt>>0)-wt&255;return b+T},d.prototype.writeIntBE=function(g,b,T,M){if(g=+g,b=b>>>0,!M){const Gt=Math.pow(2,8*T-1);L(this,g,b,T,Gt-1,-Gt)}let X=T-1,tt=1,wt=0;for(this[b+X]=g&255;--X>=0&&(tt*=256);)g<0&&wt===0&&this[b+X+1]!==0&&(wt=1),this[b+X]=(g/tt>>0)-wt&255;return b+T},d.prototype.writeInt8=function(g,b,T){return g=+g,b=b>>>0,T||L(this,g,b,1,127,-128),g<0&&(g=255+g+1),this[b]=g&255,b+1},d.prototype.writeInt16LE=function(g,b,T){return g=+g,b=b>>>0,T||L(this,g,b,2,32767,-32768),this[b]=g&255,this[b+1]=g>>>8,b+2},d.prototype.writeInt16BE=function(g,b,T){return g=+g,b=b>>>0,T||L(this,g,b,2,32767,-32768),this[b]=g>>>8,this[b+1]=g&255,b+2},d.prototype.writeInt32LE=function(g,b,T){return g=+g,b=b>>>0,T||L(this,g,b,4,2147483647,-2147483648),this[b]=g&255,this[b+1]=g>>>8,this[b+2]=g>>>16,this[b+3]=g>>>24,b+4},d.prototype.writeInt32BE=function(g,b,T){return g=+g,b=b>>>0,T||L(this,g,b,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[b]=g>>>24,this[b+1]=g>>>16,this[b+2]=g>>>8,this[b+3]=g&255,b+4},d.prototype.writeBigInt64LE=Fn(function(g,b=0){return at(this,g,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Fn(function(g,b=0){return st(this,g,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ot(S,g,b,T,M,X){if(b+T>S.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function dt(S,g,b,T,M){return g=+g,b=b>>>0,M||ot(S,g,b,4),a.write(S,g,b,T,23,4),b+4}d.prototype.writeFloatLE=function(g,b,T){return dt(this,g,b,!0,T)},d.prototype.writeFloatBE=function(g,b,T){return dt(this,g,b,!1,T)};function bt(S,g,b,T,M){return g=+g,b=b>>>0,M||ot(S,g,b,8),a.write(S,g,b,T,52,8),b+8}d.prototype.writeDoubleLE=function(g,b,T){return bt(this,g,b,!0,T)},d.prototype.writeDoubleBE=function(g,b,T){return bt(this,g,b,!1,T)},d.prototype.copy=function(g,b,T,M){if(!d.isBuffer(g))throw new TypeError("argument should be a Buffer");if(T||(T=0),!M&&M!==0&&(M=this.length),b>=g.length&&(b=g.length),b||(b=0),M>0&&M<T&&(M=T),M===T||g.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),g.length-b<M-T&&(M=g.length-b+T);const X=M-T;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,T,M):Uint8Array.prototype.set.call(g,this.subarray(T,M),b),X},d.prototype.fill=function(g,b,T,M){if(typeof g=="string"){if(typeof b=="string"?(M=b,b=0,T=this.length):typeof T=="string"&&(M=T,T=this.length),M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!d.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(g.length===1){const tt=g.charCodeAt(0);(M==="utf8"&&tt<128||M==="latin1")&&(g=tt)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(b<0||this.length<b||this.length<T)throw new RangeError("Out of range index");if(T<=b)return this;b=b>>>0,T=T===void 0?this.length:T>>>0,g||(g=0);let X;if(typeof g=="number")for(X=b;X<T;++X)this[X]=g;else{const tt=d.isBuffer(g)?g:d.from(g,M),wt=tt.length;if(wt===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(X=0;X<T-b;++X)this[X+b]=tt[X%wt]}return this};const Lt={};function xt(S,g,b){Lt[S]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(M){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:M,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}xt("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),xt("ERR_INVALID_ARG_TYPE",function(S,g){return`The "${S}" argument must be of type number. Received type ${typeof g}`},TypeError),xt("ERR_OUT_OF_RANGE",function(S,g,b){let T=`The value of "${S}" is out of range.`,M=b;return Number.isInteger(b)&&Math.abs(b)>2**32?M=ee(String(b)):typeof b=="bigint"&&(M=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(M=ee(M)),M+="n"),T+=` It must be ${g}. Received ${M}`,T},RangeError);function ee(S){let g="",b=S.length;const T=S[0]==="-"?1:0;for(;b>=T+4;b-=3)g=`_${S.slice(b-3,b)}${g}`;return`${S.slice(0,b)}${g}`}function Mn(S,g,b){pn(g,"offset"),(S[g]===void 0||S[g+b]===void 0)&&nn(g,S.length-(b+1))}function ui(S,g,b,T,M,X){if(S>b||S<g){const tt=typeof g=="bigint"?"n":"";let wt;throw g===0||g===BigInt(0)?wt=`>= 0${tt} and < 2${tt} ** ${(X+1)*8}${tt}`:wt=`>= -(2${tt} ** ${(X+1)*8-1}${tt}) and < 2 ** ${(X+1)*8-1}${tt}`,new Lt.ERR_OUT_OF_RANGE("value",wt,S)}Mn(T,M,X)}function pn(S,g){if(typeof S!="number")throw new Lt.ERR_INVALID_ARG_TYPE(g,"number",S)}function nn(S,g,b){throw Math.floor(S)!==S?(pn(S,b),new Lt.ERR_OUT_OF_RANGE("offset","an integer",S)):g<0?new Lt.ERR_BUFFER_OUT_OF_BOUNDS:new Lt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${g}`,S)}const cs=/[^+/0-9A-Za-z-_]/g;function fs(S){if(S=S.split("=")[0],S=S.trim().replace(cs,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function hs(S,g){g=g||1/0;let b;const T=S.length;let M=null;const X=[];for(let tt=0;tt<T;++tt){if(b=S.charCodeAt(tt),b>55295&&b<57344){if(!M){if(b>56319){(g-=3)>-1&&X.push(239,191,189);continue}else if(tt+1===T){(g-=3)>-1&&X.push(239,191,189);continue}M=b;continue}if(b<56320){(g-=3)>-1&&X.push(239,191,189),M=b;continue}b=(M-55296<<10|b-56320)+65536}else M&&(g-=3)>-1&&X.push(239,191,189);if(M=null,b<128){if((g-=1)<0)break;X.push(b)}else if(b<2048){if((g-=2)<0)break;X.push(b>>6|192,b&63|128)}else if(b<65536){if((g-=3)<0)break;X.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((g-=4)<0)break;X.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return X}function Dl(S){const g=[];for(let b=0;b<S.length;++b)g.push(S.charCodeAt(b)&255);return g}function ds(S,g){let b,T,M;const X=[];for(let tt=0;tt<S.length&&!((g-=2)<0);++tt)b=S.charCodeAt(tt),T=b>>8,M=b%256,X.push(M),X.push(T);return X}function la(S){return i.toByteArray(fs(S))}function Gi(S,g,b,T){let M;for(M=0;M<T&&!(M+b>=g.length||M>=S.length);++M)g[M+b]=S[M];return M}function yn(S,g){return S instanceof g||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===g.name}function ps(S){return S!==S}const Ke=(function(){const S="0123456789abcdef",g=new Array(256);for(let b=0;b<16;++b){const T=b*16;for(let M=0;M<16;++M)g[T+M]=S[b]+S[M]}return g})();function Fn(S){return typeof BigInt>"u"?zl:S}function zl(){throw new Error("BigInt not supported")}})(Xh)),Xh}var ce=i8();const VE="0123456789abcdefABCDEF";VE.split("").map(e=>e.codePointAt(0));Array(256).fill(!0).map((e,i)=>{const a=String.fromCodePoint(i),s=VE.indexOf(a);return s<0?void 0:s<16?s:s-6});new TextEncoder;new TextDecoder("ascii");function r8(e,i){const a=Math.min(e.length,i.length);for(let s=0;s<a;++s)if(e[s]!==i[s])return e[s]<i[s]?-1:1;return e.length===i.length?0:e.length>i.length?1:-1}const YE=0,Rd=1,FE=2,qE=3,Al=4,PE=5,$E=6,ZE=7,a8={[YE.toString()]:"Expected Private",[Rd.toString()]:"Expected Point",[FE.toString()]:"Expected Tweak",[qE.toString()]:"Expected Hash",[Al.toString()]:"Expected Signature",[PE.toString()]:"Expected Extra Data (32 bytes)",[$E.toString()]:"Expected Parity (1 | 0)",[ZE.toString()]:"Bad Recovery Id"};function dn(e){const i=a8[e.toString()]||`Unknow error code: ${e}`;throw new TypeError(i)}const Il=32,Sl=33,Hl=65,Ur=32,QE=32,WE=32,JE=32,nc=64,tb=new Uint8Array(32),Ho=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),s8=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]);function li(e){return e instanceof Uint8Array}function ta(e,i){for(let a=0;a<32;++a)if(e[a]!==i[a])return e[a]<i[a]?-1:1;return 0}function sd(e){return ta(e,tb)===0}function eb(e){return li(e)&&e.length===Il&&ta(e,tb)>0&&ta(e,Ho)<0}function l8(e){return li(e)&&(e.length===Sl||e.length===Hl||e.length===Ur)}function nb(e){return li(e)&&e.length===Ur}function u8(e){return li(e)&&(e.length===Sl||e.length===Hl)}function o8(e){return li(e)&&e.length===Sl}function c8(e){return li(e)&&e.length===QE&&ta(e,Ho)<0}function f8(e){return li(e)&&e.length===WE}function h8(e){return e===void 0||li(e)&&e.length===JE}function d8(e){return li(e)&&e.length===64&&ta(e.subarray(0,32),Ho)<0&&ta(e.subarray(32,64),Ho)<0}function p8(e){return li(e)&&e.length===64&&ta(e.subarray(0,32),s8)<0}function y8(e){e!==0&&e!==1&&dn($E)}function Or(e){eb(e)||dn(YE)}function ea(e){l8(e)||dn(Rd)}function ko(e){nb(e)||dn(Rd)}function ss(e){c8(e)||dn(FE)}function ls(e){f8(e)||dn(qE)}function Id(e){h8(e)||dn(PE)}function Hd(e){d8(e)||dn(Al)}function g8(e){e()||dn(Al)}function m8(e){sd(e.subarray(0,32))&&dn(Al),sd(e.subarray(32,64))&&dn(Al)}function E8(e){p8(e)||dn(ZE)}const b8="/assets/secp256k1-Cao5Swmf.wasm",w8=async(e={},i)=>{let a;if(i.startsWith("data:")){const s=i.replace(/^data:.*?base64,/,"");let u;if(typeof Buffer=="function"&&typeof Buffer.from=="function")u=Buffer.from(s,"base64");else if(typeof atob=="function"){const c=atob(s);u=new Uint8Array(c.length);for(let h=0;h<c.length;h++)u[h]=c.charCodeAt(h)}else throw new Error("Cannot decode base64-encoded data URL");a=await WebAssembly.instantiate(u,e)}else{const s=await fetch(i),u=s.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&u.startsWith("application/wasm"))a=await WebAssembly.instantiateStreaming(s,e);else{const c=await s.arrayBuffer();a=await WebAssembly.instantiate(c,e)}}return a.instance.exports};function v8(){const e=new Uint8Array(4);if(typeof crypto>"u")throw new Error("The crypto object is unavailable. This may occur if your environment does not support the Web Cryptography API.");return crypto.getRandomValues(e),e}function A8(){const e=v8();return(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]}URL=globalThis.URL;const zt=await w8({"./rand.js":{generateInt32:A8},"./validate_error.js":{throwError:dn}},b8),S8=zt.memory,x8=zt.initializeContext,_8=zt.isPoint,T8=zt.PUBLIC_KEY_INPUT,N8=zt.pointAdd,U8=zt.PUBLIC_KEY_INPUT2,O8=zt.pointAddScalar,B8=zt.TWEAK_INPUT,C8=zt.xOnlyPointAddTweak,R8=zt.X_ONLY_PUBLIC_KEY_INPUT,I8=zt.xOnlyPointAddTweakCheck,H8=zt.X_ONLY_PUBLIC_KEY_INPUT2,k8=zt.pointCompress,M8=zt.pointFromScalar,D8=zt.PRIVATE_INPUT,z8=zt.xOnlyPointFromScalar,L8=zt.xOnlyPointFromPoint,j8=zt.pointMultiply,K8=zt.privateAdd,G8=zt.privateSub,X8=zt.privateNegate,V8=zt.sign,Y8=zt.HASH_INPUT,F8=zt.EXTRA_DATA_INPUT,q8=zt.SIGNATURE_INPUT,P8=zt.signRecoverable,$8=zt.signSchnorr,Z8=zt.verify,Q8=zt.recover,W8=zt.verifySchnorr,J8=zt.rustsecp256k1_v0_8_1_default_error_callback_fn,tT=zt.rustsecp256k1_v0_8_1_default_illegal_callback_fn,eT=zt.__data_end,nT=zt.__heap_base,Vt=Object.freeze(Object.defineProperty({__proto__:null,EXTRA_DATA_INPUT:F8,HASH_INPUT:Y8,PRIVATE_INPUT:D8,PUBLIC_KEY_INPUT:T8,PUBLIC_KEY_INPUT2:U8,SIGNATURE_INPUT:q8,TWEAK_INPUT:B8,X_ONLY_PUBLIC_KEY_INPUT:R8,X_ONLY_PUBLIC_KEY_INPUT2:H8,__data_end:eT,__heap_base:nT,initializeContext:x8,isPoint:_8,memory:S8,pointAdd:N8,pointAddScalar:O8,pointCompress:k8,pointFromScalar:M8,pointMultiply:j8,privateAdd:K8,privateNegate:X8,privateSub:G8,recover:Q8,rustsecp256k1_v0_8_1_default_error_callback_fn:J8,rustsecp256k1_v0_8_1_default_illegal_callback_fn:tT,sign:V8,signRecoverable:P8,signSchnorr:$8,verify:Z8,verifySchnorr:W8,xOnlyPointAddTweak:C8,xOnlyPointAddTweakCheck:I8,xOnlyPointFromPoint:L8,xOnlyPointFromScalar:z8},Symbol.toStringTag,{value:"Module"})),ji=new Uint8Array(Vt.memory.buffer),Zm=Vt.PRIVATE_INPUT.value,Qm=Vt.PUBLIC_KEY_INPUT.value,Wm=Vt.PUBLIC_KEY_INPUT2.value,Jm=Vt.X_ONLY_PUBLIC_KEY_INPUT.value,t1=Vt.X_ONLY_PUBLIC_KEY_INPUT2.value,e1=Vt.TWEAK_INPUT.value,n1=Vt.HASH_INPUT.value,i1=Vt.EXTRA_DATA_INPUT.value,r1=Vt.SIGNATURE_INPUT.value,Te=ji.subarray(Zm,Zm+Il),he=ji.subarray(Qm,Qm+Hl),a1=ji.subarray(Wm,Wm+Hl),Cn=ji.subarray(Jm,Jm+Ur),s1=ji.subarray(t1,t1+Ur),In=ji.subarray(e1,e1+QE),Hn=ji.subarray(n1,n1+WE),ts=ji.subarray(i1,i1+JE),kn=ji.subarray(r1,r1+nc);function us(e,i){return e===void 0?i!==void 0?i.length:Sl:e?Sl:Hl}function kd(e){try{return he.set(e),Vt.isPoint(e.length)===1}finally{he.fill(0)}}function iT(){Vt.initializeContext()}function rT(e){return u8(e)&&kd(e)}function aT(e){return o8(e)&&kd(e)}function ib(e){return nb(e)&&kd(e)}function sT(e){return eb(e)}function lT(e,i,a){ea(e),ea(i);const s=us(a,e);try{return he.set(e),a1.set(i),Vt.pointAdd(e.length,i.length,s)===1?he.slice(0,s):null}finally{he.fill(0),a1.fill(0)}}function uT(e,i,a){ea(e),ss(i);const s=us(a,e);try{return he.set(e),In.set(i),Vt.pointAddScalar(e.length,s)===1?he.slice(0,s):null}finally{he.fill(0),In.fill(0)}}function oT(e,i){ea(e);const a=us(i,e);try{return he.set(e),Vt.pointCompress(e.length,a),he.slice(0,a)}finally{he.fill(0)}}function Mo(e,i){Or(e);const a=us(i);try{return Te.set(e),Vt.pointFromScalar(a)===1?he.slice(0,a):null}finally{Te.fill(0),he.fill(0)}}function cT(e){Or(e);try{return Te.set(e),Vt.xOnlyPointFromScalar(),Cn.slice(0,Ur)}finally{Te.fill(0),Cn.fill(0)}}function fT(e){ea(e);try{return he.set(e),Vt.xOnlyPointFromPoint(e.length),Cn.slice(0,Ur)}finally{he.fill(0),Cn.fill(0)}}function hT(e,i,a){ea(e),ss(i);const s=us(a,e);try{return he.set(e),In.set(i),Vt.pointMultiply(e.length,s)===1?he.slice(0,s):null}finally{he.fill(0),In.fill(0)}}function rb(e,i){Or(e),ss(i);try{return Te.set(e),In.set(i),Vt.privateAdd()===1?Te.slice(0,Il):null}finally{Te.fill(0),In.fill(0)}}function dT(e,i){if(Or(e),ss(i),sd(i))return new Uint8Array(e);try{return Te.set(e),In.set(i),Vt.privateSub()===1?Te.slice(0,Il):null}finally{Te.fill(0),In.fill(0)}}function ab(e){Or(e);try{return Te.set(e),Vt.privateNegate(),Te.slice(0,Il)}finally{Te.fill(0)}}function pT(e,i){ko(e),ss(i);try{Cn.set(e),In.set(i);const a=Vt.xOnlyPointAddTweak();return a!==-1?{parity:a,xOnlyPubkey:Cn.slice(0,Ur)}:null}finally{Cn.fill(0),In.fill(0)}}function yT(e,i,a,s){ko(e),ko(a),ss(i);const u=s!==void 0;u&&y8(s);try{if(Cn.set(e),s1.set(a),In.set(i),u)return Vt.xOnlyPointAddTweakCheck(s)===1;{Vt.xOnlyPointAddTweak();const c=Cn.slice(0,Ur);return r8(c,a)===0}}finally{Cn.fill(0),s1.fill(0),In.fill(0)}}function Md(e,i,a){ls(e),Or(i),Id(a);try{return Hn.set(e),Te.set(i),a!==void 0&&ts.set(a),Vt.sign(a===void 0?0:1),kn.slice(0,nc)}finally{Hn.fill(0),Te.fill(0),a!==void 0&&ts.fill(0),kn.fill(0)}}function gT(e,i,a){ls(e),Or(i),Id(a);try{Hn.set(e),Te.set(i),a!==void 0&&ts.set(a);const s=Vt.signRecoverable(a===void 0?0:1);return{signature:kn.slice(0,nc),recoveryId:s}}finally{Hn.fill(0),Te.fill(0),a!==void 0&&ts.fill(0),kn.fill(0)}}function sb(e,i,a){ls(e),Or(i),Id(a);try{return Hn.set(e),Te.set(i),a!==void 0&&ts.set(a),Vt.signSchnorr(a===void 0?0:1),kn.slice(0,nc)}finally{Hn.fill(0),Te.fill(0),a!==void 0&&ts.fill(0),kn.fill(0)}}function mT(e,i,a,s=!1){ls(e),ea(i),Hd(a);try{return Hn.set(e),he.set(i),kn.set(a),Vt.verify(i.length,s===!0?1:0)===1}finally{Hn.fill(0),he.fill(0),kn.fill(0)}}function ET(e,i,a,s=!1){ls(e),Hd(i),m8(i),a&2&&E8(i),g8(()=>ib(i.subarray(0,32)));const u=us(s);try{return Hn.set(e),kn.set(i),Vt.recover(u,a)===1?he.slice(0,u):null}finally{Hn.fill(0),kn.fill(0),he.fill(0)}}function bT(e,i,a){ls(e),ko(i),Hd(a);try{return Hn.set(e),Cn.set(i),kn.set(a),Vt.verifySchnorr()===1}finally{Hn.fill(0),Cn.fill(0),kn.fill(0)}}const lb=Object.freeze(Object.defineProperty({__proto__:null,__initializeContext:iT,isPoint:rT,isPointCompressed:aT,isPrivate:sT,isXOnlyPoint:ib,pointAdd:lT,pointAddScalar:uT,pointCompress:oT,pointFromScalar:Mo,pointMultiply:hT,privateAdd:rb,privateNegate:ab,privateSub:dT,recover:ET,sign:Md,signRecoverable:gT,signSchnorr:sb,verify:mT,verifySchnorr:bT,xOnlyPointAddTweak:pT,xOnlyPointAddTweakCheck:yT,xOnlyPointFromPoint:fT,xOnlyPointFromScalar:cT},Symbol.toStringTag,{value:"Module"}));function ub(e){localStorage.setItem(Hi.WALLET,JSON.stringify(e))}function l1(){const e=localStorage.getItem(Hi.WALLET);return e?JSON.parse(e):null}function wT(){localStorage.removeItem(Hi.WALLET),localStorage.removeItem(Hi.ACCOUNTS),localStorage.removeItem(Hi.TRANSACTIONS)}function sa(e){localStorage.setItem(Hi.ACCOUNTS,JSON.stringify(e))}function Yn(){const e=localStorage.getItem(Hi.ACCOUNTS);return e?JSON.parse(e):[]}function vT(e){localStorage.setItem(Hi.NETWORK,e)}function ic(){const e=localStorage.getItem(Hi.NETWORK);return e==="testnet"||e==="signet"?e:MA}function os(){const e=ic();return _l[e].mempoolApi}async function AT(){try{const e=await fetch(`${os()}/blocks/tip/height`);if(!e.ok)throw new Error("Failed to fetch tip height");const i=await e.text(),a=Number.parseInt(i,10);return Number.isFinite(a)?a:null}catch(e){return console.error("Error fetching tip height:",e),null}}async function ST(e){try{const i=await fetch(`${os()}/address/${e}/txs`);if(!i.ok)throw new Error("Failed to fetch address txs");const a=await i.json();let s=null;for(const u of a){const c=u.status.block_height;!u.status.confirmed||!c||!u.vout.some(d=>d.scriptpubkey_address===e&&d.value>0)||(s===null||c<s)&&(s=c)}return s}catch(i){return console.error("Error fetching first funding block:",i),null}}async function xT(e){return(await Dd(e)).balance}async function Dd(e){try{const i=await fetch(`${os()}/address/${e}`);if(!i.ok)throw new Error("Failed to fetch balance");const a=await i.json(),s=a.chain_stats?.funded_txo_sum||0,u=a.chain_stats?.spent_txo_sum||0,c=a.mempool_stats?.funded_txo_sum||0,h=a.mempool_stats?.spent_txo_sum||0,d=s+c,p=u+h;return{funded:d,spent:p,balance:d-p}}catch(i){return console.error("Error fetching balance:",i),{funded:0,spent:0,balance:0}}}async function kl(e){try{const i=await fetch(`${os()}/address/${e}/utxo`);if(!i.ok)throw new Error("Failed to fetch UTXOs");return await i.json()}catch(i){return console.error("Error fetching UTXOs:",i),[]}}async function _T(e,i){try{const a=await fetch(`${os()}/address/${e}/txs`);if(!a.ok)throw new Error("Failed to fetch transactions");const s=await a.json(),u=i??new Set([e]);return s.map(c=>{const h=c.vin.reduce((y,m)=>{const E=m.prevout?.scriptpubkey_address;return!E||!u.has(E)?y:y+(m.prevout?.value||0)},0),p=c.vout.reduce((y,m)=>{const E=m.scriptpubkey_address;return!E||!u.has(E)?y:y+m.value},0)-h;return p===0?null:{txid:c.txid,amount:Math.abs(p),fee:c.fee||0,timestamp:c.status.block_time||Date.now()/1e3,type:p>0?"incoming":"outgoing",address:e,confirmed:c.status.confirmed,confirmations:c.status.confirmed&&c.status.block_height||0}}).filter(c=>c!==null)}catch(a){return console.error("Error fetching transactions:",a),[]}}async function zd(e){try{const i=await fetch(`${os()}/tx`,{method:"POST",headers:{"Content-Type":"text/plain"},body:e});if(!i.ok){const a=await i.text();throw new Error(`Failed to broadcast: ${a}`)}return await i.text()}catch(i){throw console.error("Error broadcasting transaction:",i),i}}function Ld(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ri(e,i=""){if(!Number.isSafeInteger(e)||e<0){const a=i&&`"${i}" `;throw new Error(`${a}expected integer >= 0, got ${e}`)}}function te(e,i,a=""){const s=Ld(e),u=e?.length,c=i!==void 0;if(!s||c&&u!==i){const h=a&&`"${a}" `,d=c?` of length ${i}`:"",p=s?`length=${u}`:`type=${typeof e}`;throw new Error(h+"expected Uint8Array"+d+", got "+p)}return e}function jd(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash must wrapped by utils.createHasher");ri(e.outputLen),ri(e.blockLen)}function Do(e,i=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(i&&e.finished)throw new Error("Hash#digest() has already been called")}function TT(e,i){te(e,void 0,"digestInto() output");const a=i.outputLen;if(e.length<a)throw new Error('"digestInto() output" expected to be of length >='+a)}function Di(...e){for(let i=0;i<e.length;i++)e[i].fill(0)}function Wr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Jn(e,i){return e<<32-i|e>>>i}function uo(e,i){return e<<i|e>>>32-i>>>0}const ob=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",NT=Array.from({length:256},(e,i)=>i.toString(16).padStart(2,"0"));function rc(e){if(te(e),ob)return e.toHex();let i="";for(let a=0;a<e.length;a++)i+=NT[e[a]];return i}const Ui={_0:48,_9:57,A:65,F:70,a:97,f:102};function u1(e){if(e>=Ui._0&&e<=Ui._9)return e-Ui._0;if(e>=Ui.A&&e<=Ui.F)return e-(Ui.A-10);if(e>=Ui.a&&e<=Ui.f)return e-(Ui.a-10)}function zo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(ob)return Uint8Array.fromHex(e);const i=e.length,a=i/2;if(i%2)throw new Error("hex string expected, got unpadded hex of length "+i);const s=new Uint8Array(a);for(let u=0,c=0;u<a;u++,c+=2){const h=u1(e.charCodeAt(c)),d=u1(e.charCodeAt(c+1));if(h===void 0||d===void 0){const p=e[c]+e[c+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+c)}s[u]=h*16+d}return s}function UT(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function o1(e,i=""){return typeof e=="string"?UT(e):te(e,void 0,i)}function Un(...e){let i=0;for(let s=0;s<e.length;s++){const u=e[s];te(u),i+=u.length}const a=new Uint8Array(i);for(let s=0,u=0;s<e.length;s++){const c=e[s];a.set(c,u),u+=c.length}return a}function OT(e,i){if(i!==void 0&&{}.toString.call(i)!=="[object Object]")throw new Error("options must be object or undefined");return Object.assign(e,i)}function Kd(e,i={}){const a=(u,c)=>e(c).update(u).digest(),s=e(void 0);return a.outputLen=s.outputLen,a.blockLen=s.blockLen,a.create=u=>e(u),Object.assign(a,i),Object.freeze(a)}function cb(e=32){const i=typeof globalThis=="object"?globalThis.crypto:null;if(typeof i?.getRandomValues!="function")throw new Error("crypto.getRandomValues must be defined");return i.getRandomValues(new Uint8Array(e))}const fb=e=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,e])});function BT(e,i,a){return e&i^~e&a}function CT(e,i,a){return e&i^e&a^i&a}class Gd{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(i,a,s,u){this.blockLen=i,this.outputLen=a,this.padOffset=s,this.isLE=u,this.buffer=new Uint8Array(i),this.view=Wr(this.buffer)}update(i){Do(this),te(i);const{view:a,buffer:s,blockLen:u}=this,c=i.length;for(let h=0;h<c;){const d=Math.min(u-this.pos,c-h);if(d===u){const p=Wr(i);for(;u<=c-h;h+=u)this.process(p,h);continue}s.set(i.subarray(h,h+d),this.pos),this.pos+=d,h+=d,this.pos===u&&(this.process(a,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){Do(this),TT(i,this),this.finished=!0;const{buffer:a,view:s,blockLen:u,isLE:c}=this;let{pos:h}=this;a[h++]=128,Di(this.buffer.subarray(h)),this.padOffset>u-h&&(this.process(s,0),h=0);for(let E=h;E<u;E++)a[E]=0;s.setBigUint64(u-8,BigInt(this.length*8),c),this.process(s,0);const d=Wr(i),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const y=p/4,m=this.get();if(y>m.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<y;E++)d.setUint32(4*E,m[E],c)}digest(){const{buffer:i,outputLen:a}=this;this.digestInto(i);const s=i.slice(0,a);return this.destroy(),s}_cloneInto(i){i||=new this.constructor,i.set(...this.get());const{blockLen:a,buffer:s,length:u,finished:c,destroyed:h,pos:d}=this;return i.destroyed=h,i.finished=c,i.length=u,i.pos=d,u%a&&i.buffer.set(s),i}clone(){return this._cloneInto()}}const Er=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),De=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),oo=BigInt(2**32-1),c1=BigInt(32);function RT(e,i=!1){return i?{h:Number(e&oo),l:Number(e>>c1&oo)}:{h:Number(e>>c1&oo)|0,l:Number(e&oo)|0}}function IT(e,i=!1){const a=e.length;let s=new Uint32Array(a),u=new Uint32Array(a);for(let c=0;c<a;c++){const{h,l:d}=RT(e[c],i);[s[c],u[c]]=[h,d]}return[s,u]}const f1=(e,i,a)=>e>>>a,h1=(e,i,a)=>e<<32-a|i>>>a,qa=(e,i,a)=>e>>>a|i<<32-a,Pa=(e,i,a)=>e<<32-a|i>>>a,co=(e,i,a)=>e<<64-a|i>>>a-32,fo=(e,i,a)=>e>>>a-32|i<<64-a;function Oi(e,i,a,s){const u=(i>>>0)+(s>>>0);return{h:e+a+(u/2**32|0)|0,l:u|0}}const HT=(e,i,a)=>(e>>>0)+(i>>>0)+(a>>>0),kT=(e,i,a,s)=>i+a+s+(e/2**32|0)|0,MT=(e,i,a,s)=>(e>>>0)+(i>>>0)+(a>>>0)+(s>>>0),DT=(e,i,a,s,u)=>i+a+s+u+(e/2**32|0)|0,zT=(e,i,a,s,u)=>(e>>>0)+(i>>>0)+(a>>>0)+(s>>>0)+(u>>>0),LT=(e,i,a,s,u,c)=>i+a+s+u+c+(e/2**32|0)|0,jT=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),br=new Uint32Array(64);class KT extends Gd{constructor(i){super(64,i,8,!1)}get(){const{A:i,B:a,C:s,D:u,E:c,F:h,G:d,H:p}=this;return[i,a,s,u,c,h,d,p]}set(i,a,s,u,c,h,d,p){this.A=i|0,this.B=a|0,this.C=s|0,this.D=u|0,this.E=c|0,this.F=h|0,this.G=d|0,this.H=p|0}process(i,a){for(let E=0;E<16;E++,a+=4)br[E]=i.getUint32(a,!1);for(let E=16;E<64;E++){const v=br[E-15],_=br[E-2],x=Jn(v,7)^Jn(v,18)^v>>>3,U=Jn(_,17)^Jn(_,19)^_>>>10;br[E]=U+br[E-7]+x+br[E-16]|0}let{A:s,B:u,C:c,D:h,E:d,F:p,G:y,H:m}=this;for(let E=0;E<64;E++){const v=Jn(d,6)^Jn(d,11)^Jn(d,25),_=m+v+BT(d,p,y)+jT[E]+br[E]|0,U=(Jn(s,2)^Jn(s,13)^Jn(s,22))+CT(s,u,c)|0;m=y,y=p,p=d,d=h+_|0,h=c,c=u,u=s,s=_+U|0}s=s+this.A|0,u=u+this.B|0,c=c+this.C|0,h=h+this.D|0,d=d+this.E|0,p=p+this.F|0,y=y+this.G|0,m=m+this.H|0,this.set(s,u,c,h,d,p,y,m)}roundClean(){Di(br)}destroy(){this.set(0,0,0,0,0,0,0,0),Di(this.buffer)}}class GT extends KT{A=Er[0]|0;B=Er[1]|0;C=Er[2]|0;D=Er[3]|0;E=Er[4]|0;F=Er[5]|0;G=Er[6]|0;H=Er[7]|0;constructor(){super(32)}}const hb=IT(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),XT=hb[0],VT=hb[1],wr=new Uint32Array(80),vr=new Uint32Array(80);class YT extends Gd{constructor(i){super(128,i,16,!1)}get(){const{Ah:i,Al:a,Bh:s,Bl:u,Ch:c,Cl:h,Dh:d,Dl:p,Eh:y,El:m,Fh:E,Fl:v,Gh:_,Gl:x,Hh:U,Hl:C}=this;return[i,a,s,u,c,h,d,p,y,m,E,v,_,x,U,C]}set(i,a,s,u,c,h,d,p,y,m,E,v,_,x,U,C){this.Ah=i|0,this.Al=a|0,this.Bh=s|0,this.Bl=u|0,this.Ch=c|0,this.Cl=h|0,this.Dh=d|0,this.Dl=p|0,this.Eh=y|0,this.El=m|0,this.Fh=E|0,this.Fl=v|0,this.Gh=_|0,this.Gl=x|0,this.Hh=U|0,this.Hl=C|0}process(i,a){for(let k=0;k<16;k++,a+=4)wr[k]=i.getUint32(a),vr[k]=i.getUint32(a+=4);for(let k=16;k<80;k++){const z=wr[k-15]|0,Y=vr[k-15]|0,J=qa(z,Y,1)^qa(z,Y,8)^f1(z,Y,7),P=Pa(z,Y,1)^Pa(z,Y,8)^h1(z,Y,7),ct=wr[k-2]|0,ut=vr[k-2]|0,Nt=qa(ct,ut,19)^co(ct,ut,61)^f1(ct,ut,6),Ut=Pa(ct,ut,19)^fo(ct,ut,61)^h1(ct,ut,6),yt=MT(P,Ut,vr[k-7],vr[k-16]),$=DT(yt,J,Nt,wr[k-7],wr[k-16]);wr[k]=$|0,vr[k]=yt|0}let{Ah:s,Al:u,Bh:c,Bl:h,Ch:d,Cl:p,Dh:y,Dl:m,Eh:E,El:v,Fh:_,Fl:x,Gh:U,Gl:C,Hh:H,Hl:V}=this;for(let k=0;k<80;k++){const z=qa(E,v,14)^qa(E,v,18)^co(E,v,41),Y=Pa(E,v,14)^Pa(E,v,18)^fo(E,v,41),J=E&_^~E&U,P=v&x^~v&C,ct=zT(V,Y,P,VT[k],vr[k]),ut=LT(ct,H,z,J,XT[k],wr[k]),Nt=ct|0,Ut=qa(s,u,28)^co(s,u,34)^co(s,u,39),yt=Pa(s,u,28)^fo(s,u,34)^fo(s,u,39),$=s&c^s&d^c&d,Z=u&h^u&p^h&p;H=U|0,V=C|0,U=_|0,C=x|0,_=E|0,x=v|0,{h:E,l:v}=Oi(y|0,m|0,ut|0,Nt|0),y=d|0,m=p|0,d=c|0,p=h|0,c=s|0,h=u|0;const Q=HT(Nt,yt,Z);s=kT(Q,ut,Ut,$),u=Q|0}({h:s,l:u}=Oi(this.Ah|0,this.Al|0,s|0,u|0)),{h:c,l:h}=Oi(this.Bh|0,this.Bl|0,c|0,h|0),{h:d,l:p}=Oi(this.Ch|0,this.Cl|0,d|0,p|0),{h:y,l:m}=Oi(this.Dh|0,this.Dl|0,y|0,m|0),{h:E,l:v}=Oi(this.Eh|0,this.El|0,E|0,v|0),{h:_,l:x}=Oi(this.Fh|0,this.Fl|0,_|0,x|0),{h:U,l:C}=Oi(this.Gh|0,this.Gl|0,U|0,C|0),{h:H,l:V}=Oi(this.Hh|0,this.Hl|0,H|0,V|0),this.set(s,u,c,h,d,p,y,m,E,v,_,x,U,C,H,V)}roundClean(){Di(wr,vr)}destroy(){Di(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class FT extends YT{Ah=De[0]|0;Al=De[1]|0;Bh=De[2]|0;Bl=De[3]|0;Ch=De[4]|0;Cl=De[5]|0;Dh=De[6]|0;Dl=De[7]|0;Eh=De[8]|0;El=De[9]|0;Fh=De[10]|0;Fl=De[11]|0;Gh=De[12]|0;Gl=De[13]|0;Hh=De[14]|0;Hl=De[15]|0;constructor(){super(64)}}const ac=Kd(()=>new GT,fb(1)),d1=Kd(()=>new FT,fb(3));const Xd=BigInt(0),ld=BigInt(1);function Lo(e,i=""){if(typeof e!="boolean"){const a=i&&`"${i}" `;throw new Error(a+"expected boolean, got type="+typeof e)}return e}function db(e){if(typeof e=="bigint"){if(!vo(e))throw new Error("positive bigint expected, got "+e)}else ri(e);return e}function ho(e){const i=db(e).toString(16);return i.length&1?"0"+i:i}function pb(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Xd:BigInt("0x"+e)}function sc(e){return pb(rc(e))}function yb(e){return pb(rc(qT(te(e)).reverse()))}function Vd(e,i){ri(i),e=db(e);const a=zo(e.toString(16).padStart(i*2,"0"));if(a.length!==i)throw new Error("number too large");return a}function gb(e,i){return Vd(e,i).reverse()}function qT(e){return Uint8Array.from(e)}const vo=e=>typeof e=="bigint"&&Xd<=e;function PT(e,i,a){return vo(e)&&vo(i)&&vo(a)&&i<=e&&e<a}function $T(e,i,a,s){if(!PT(i,a,s))throw new Error("expected valid "+e+": "+a+" <= n < "+s+", got "+i)}function ZT(e){let i;for(i=0;e>Xd;e>>=ld,i+=1);return i}const Yd=e=>(ld<<BigInt(e))-ld;function QT(e,i,a){if(ri(e,"hashLen"),ri(i,"qByteLen"),typeof a!="function")throw new Error("hmacFn must be a function");const s=C=>new Uint8Array(C),u=Uint8Array.of(),c=Uint8Array.of(0),h=Uint8Array.of(1),d=1e3;let p=s(e),y=s(e),m=0;const E=()=>{p.fill(1),y.fill(0),m=0},v=(...C)=>a(y,Un(p,...C)),_=(C=u)=>{y=v(c,C),p=v(),C.length!==0&&(y=v(h,C),p=v())},x=()=>{if(m++>=d)throw new Error("drbg: tried max amount of iterations");let C=0;const H=[];for(;C<i;){p=v();const V=p.slice();H.push(V),C+=p.length}return Un(...H)};return(C,H)=>{E(),_(C);let V;for(;!(V=H(x()));)_();return E(),V}}function Fd(e,i={},a={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function s(c,h,d){const p=e[c];if(d&&p===void 0)return;const y=typeof p;if(y!==h||p===null)throw new Error(`param "${c}" is invalid: expected ${h}, got ${y}`)}const u=(c,h)=>Object.entries(c).forEach(([d,p])=>s(d,p,h));u(i,!1),u(a,!0)}function p1(e){const i=new WeakMap;return(a,...s)=>{const u=i.get(a);if(u!==void 0)return u;const c=e(a,...s);return i.set(a,c),c}}const We=BigInt(0),Xe=BigInt(1),Zr=BigInt(2),mb=BigInt(3),Eb=BigInt(4),bb=BigInt(5),WT=BigInt(7),wb=BigInt(8),JT=BigInt(9),vb=BigInt(16);function jn(e,i){const a=e%i;return a>=We?a:i+a}function Nn(e,i,a){let s=e;for(;i-- >We;)s*=s,s%=a;return s}function y1(e,i){if(e===We)throw new Error("invert: expected non-zero number");if(i<=We)throw new Error("invert: expected positive modulus, got "+i);let a=jn(e,i),s=i,u=We,c=Xe;for(;a!==We;){const d=s/a,p=s%a,y=u-c*d;s=a,a=p,u=c,c=y}if(s!==Xe)throw new Error("invert: does not exist");return jn(u,i)}function qd(e,i,a){if(!e.eql(e.sqr(i),a))throw new Error("Cannot find square root")}function Ab(e,i){const a=(e.ORDER+Xe)/Eb,s=e.pow(i,a);return qd(e,s,i),s}function t4(e,i){const a=(e.ORDER-bb)/wb,s=e.mul(i,Zr),u=e.pow(s,a),c=e.mul(i,u),h=e.mul(e.mul(c,Zr),u),d=e.mul(c,e.sub(h,e.ONE));return qd(e,d,i),d}function e4(e){const i=lc(e),a=Sb(e),s=a(i,i.neg(i.ONE)),u=a(i,s),c=a(i,i.neg(s)),h=(e+WT)/vb;return(d,p)=>{let y=d.pow(p,h),m=d.mul(y,s);const E=d.mul(y,u),v=d.mul(y,c),_=d.eql(d.sqr(m),p),x=d.eql(d.sqr(E),p);y=d.cmov(y,m,_),m=d.cmov(v,E,x);const U=d.eql(d.sqr(m),p),C=d.cmov(y,m,U);return qd(d,C,p),C}}function Sb(e){if(e<mb)throw new Error("sqrt is not defined for small field");let i=e-Xe,a=0;for(;i%Zr===We;)i/=Zr,a++;let s=Zr;const u=lc(e);for(;g1(u,s)===1;)if(s++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(a===1)return Ab;let c=u.pow(s,i);const h=(i+Xe)/Zr;return function(p,y){if(p.is0(y))return y;if(g1(p,y)!==1)throw new Error("Cannot find square root");let m=a,E=p.mul(p.ONE,c),v=p.pow(y,i),_=p.pow(y,h);for(;!p.eql(v,p.ONE);){if(p.is0(v))return p.ZERO;let x=1,U=p.sqr(v);for(;!p.eql(U,p.ONE);)if(x++,U=p.sqr(U),x===m)throw new Error("Cannot find square root");const C=Xe<<BigInt(m-x-1),H=p.pow(E,C);m=x,E=p.sqr(H),v=p.mul(v,E),_=p.mul(_,H)}return _}}function n4(e){return e%Eb===mb?Ab:e%wb===bb?t4:e%vb===JT?e4(e):Sb(e)}const i4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function r4(e){const i={ORDER:"bigint",BYTES:"number",BITS:"number"},a=i4.reduce((s,u)=>(s[u]="function",s),i);return Fd(e,a),e}function a4(e,i,a){if(a<We)throw new Error("invalid exponent, negatives unsupported");if(a===We)return e.ONE;if(a===Xe)return i;let s=e.ONE,u=i;for(;a>We;)a&Xe&&(s=e.mul(s,u)),u=e.sqr(u),a>>=Xe;return s}function xb(e,i,a=!1){const s=new Array(i.length).fill(a?e.ZERO:void 0),u=i.reduce((h,d,p)=>e.is0(d)?h:(s[p]=h,e.mul(h,d)),e.ONE),c=e.inv(u);return i.reduceRight((h,d,p)=>e.is0(d)?h:(s[p]=e.mul(h,s[p]),e.mul(h,d)),c),s}function g1(e,i){const a=(e.ORDER-Xe)/Zr,s=e.pow(i,a),u=e.eql(s,e.ONE),c=e.eql(s,e.ZERO),h=e.eql(s,e.neg(e.ONE));if(!u&&!c&&!h)throw new Error("invalid Legendre symbol result");return u?1:c?0:-1}function s4(e,i){i!==void 0&&ri(i);const a=i!==void 0?i:e.toString(2).length,s=Math.ceil(a/8);return{nBitLength:a,nByteLength:s}}class l4{ORDER;BITS;BYTES;isLE;ZERO=We;ONE=Xe;_lengths;_sqrt;_mod;constructor(i,a={}){if(i<=We)throw new Error("invalid field: expected ORDER > 0, got "+i);let s;this.isLE=!1,a!=null&&typeof a=="object"&&(typeof a.BITS=="number"&&(s=a.BITS),typeof a.sqrt=="function"&&(this.sqrt=a.sqrt),typeof a.isLE=="boolean"&&(this.isLE=a.isLE),a.allowedLengths&&(this._lengths=a.allowedLengths?.slice()),typeof a.modFromBytes=="boolean"&&(this._mod=a.modFromBytes));const{nBitLength:u,nByteLength:c}=s4(i,s);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");this.ORDER=i,this.BITS=u,this.BYTES=c,this._sqrt=void 0,Object.preventExtensions(this)}create(i){return jn(i,this.ORDER)}isValid(i){if(typeof i!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof i);return We<=i&&i<this.ORDER}is0(i){return i===We}isValidNot0(i){return!this.is0(i)&&this.isValid(i)}isOdd(i){return(i&Xe)===Xe}neg(i){return jn(-i,this.ORDER)}eql(i,a){return i===a}sqr(i){return jn(i*i,this.ORDER)}add(i,a){return jn(i+a,this.ORDER)}sub(i,a){return jn(i-a,this.ORDER)}mul(i,a){return jn(i*a,this.ORDER)}pow(i,a){return a4(this,i,a)}div(i,a){return jn(i*y1(a,this.ORDER),this.ORDER)}sqrN(i){return i*i}addN(i,a){return i+a}subN(i,a){return i-a}mulN(i,a){return i*a}inv(i){return y1(i,this.ORDER)}sqrt(i){return this._sqrt||(this._sqrt=n4(this.ORDER)),this._sqrt(this,i)}toBytes(i){return this.isLE?gb(i,this.BYTES):Vd(i,this.BYTES)}fromBytes(i,a=!1){te(i);const{_lengths:s,BYTES:u,isLE:c,ORDER:h,_mod:d}=this;if(s){if(!s.includes(i.length)||i.length>u)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+i.length);const y=new Uint8Array(u);y.set(i,c?0:y.length-i.length),i=y}if(i.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+i.length);let p=c?yb(i):sc(i);if(d&&(p=jn(p,h)),!a&&!this.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p}invertBatch(i){return xb(this,i)}cmov(i,a,s){return s?a:i}}function lc(e,i={}){return new l4(e,i)}function _b(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const i=e.toString(2).length;return Math.ceil(i/8)}function Tb(e){const i=_b(e);return i+Math.ceil(i/2)}function u4(e,i,a=!1){te(e);const s=e.length,u=_b(i),c=Tb(i);if(s<16||s<c||s>1024)throw new Error("expected "+c+"-1024 bytes of input, got "+s);const h=a?yb(e):sc(e),d=jn(h,i-Xe)+Xe;return a?gb(d,u):Vd(d,u)}const es=BigInt(0),Qr=BigInt(1);function jo(e,i){const a=i.negate();return e?a:i}function m1(e,i){const a=xb(e.Fp,i.map(s=>s.Z));return i.map((s,u)=>e.fromAffine(s.toAffine(a[u])))}function Nb(e,i){if(!Number.isSafeInteger(e)||e<=0||e>i)throw new Error("invalid window size, expected [1.."+i+"], got W="+e)}function Vh(e,i){Nb(e,i);const a=Math.ceil(i/e)+1,s=2**(e-1),u=2**e,c=Yd(e),h=BigInt(e);return{windows:a,windowSize:s,mask:c,maxNumber:u,shiftBy:h}}function E1(e,i,a){const{windowSize:s,mask:u,maxNumber:c,shiftBy:h}=a;let d=Number(e&u),p=e>>h;d>s&&(d-=c,p+=Qr);const y=i*s,m=y+Math.abs(d)-1,E=d===0,v=d<0,_=i%2!==0;return{nextN:p,offset:m,isZero:E,isNeg:v,isNegF:_,offsetF:y}}const Yh=new WeakMap,Ub=new WeakMap;function Fh(e){return Ub.get(e)||1}function b1(e){if(e!==es)throw new Error("invalid wNAF")}class o4{BASE;ZERO;Fn;bits;constructor(i,a){this.BASE=i.BASE,this.ZERO=i.ZERO,this.Fn=i.Fn,this.bits=a}_unsafeLadder(i,a,s=this.ZERO){let u=i;for(;a>es;)a&Qr&&(s=s.add(u)),u=u.double(),a>>=Qr;return s}precomputeWindow(i,a){const{windows:s,windowSize:u}=Vh(a,this.bits),c=[];let h=i,d=h;for(let p=0;p<s;p++){d=h,c.push(d);for(let y=1;y<u;y++)d=d.add(h),c.push(d);h=d.double()}return c}wNAF(i,a,s){if(!this.Fn.isValid(s))throw new Error("invalid scalar");let u=this.ZERO,c=this.BASE;const h=Vh(i,this.bits);for(let d=0;d<h.windows;d++){const{nextN:p,offset:y,isZero:m,isNeg:E,isNegF:v,offsetF:_}=E1(s,d,h);s=p,m?c=c.add(jo(v,a[_])):u=u.add(jo(E,a[y]))}return b1(s),{p:u,f:c}}wNAFUnsafe(i,a,s,u=this.ZERO){const c=Vh(i,this.bits);for(let h=0;h<c.windows&&s!==es;h++){const{nextN:d,offset:p,isZero:y,isNeg:m}=E1(s,h,c);if(s=d,!y){const E=a[p];u=u.add(m?E.negate():E)}}return b1(s),u}getPrecomputes(i,a,s){let u=Yh.get(a);return u||(u=this.precomputeWindow(a,i),i!==1&&(typeof s=="function"&&(u=s(u)),Yh.set(a,u))),u}cached(i,a,s){const u=Fh(i);return this.wNAF(u,this.getPrecomputes(u,i,s),a)}unsafe(i,a,s,u){const c=Fh(i);return c===1?this._unsafeLadder(i,a,u):this.wNAFUnsafe(c,this.getPrecomputes(c,i,s),a,u)}createCache(i,a){Nb(a,this.bits),Ub.set(i,a),Yh.delete(i)}hasCache(i){return Fh(i)!==1}}function c4(e,i,a,s){let u=i,c=e.ZERO,h=e.ZERO;for(;a>es||s>es;)a&Qr&&(c=c.add(u)),s&Qr&&(h=h.add(u)),u=u.double(),a>>=Qr,s>>=Qr;return{p1:c,p2:h}}function w1(e,i,a){if(i){if(i.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return r4(i),i}else return lc(e,{isLE:a})}function f4(e,i,a={},s){if(s===void 0&&(s=e==="edwards"),!i||typeof i!="object")throw new Error(`expected valid ${e} CURVE object`);for(const p of["p","n","h"]){const y=i[p];if(!(typeof y=="bigint"&&y>es))throw new Error(`CURVE.${p} must be positive bigint`)}const u=w1(i.p,a.Fp,s),c=w1(i.n,a.Fn,s),d=["Gx","Gy","a","b"];for(const p of d)if(!u.isValid(i[p]))throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);return i=Object.freeze(Object.assign({},i)),{CURVE:i,Fp:u,Fn:c}}function h4(e,i){return function(s){const u=e(s);return{secretKey:u,publicKey:i(u)}}}class Ob{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(i,a){if(jd(i),te(a,void 0,"key"),this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,u=new Uint8Array(s);u.set(a.length>s?i.create().update(a).digest():a);for(let c=0;c<u.length;c++)u[c]^=54;this.iHash.update(u),this.oHash=i.create();for(let c=0;c<u.length;c++)u[c]^=106;this.oHash.update(u),Di(u)}update(i){return Do(this),this.iHash.update(i),this}digestInto(i){Do(this),te(i,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||=Object.create(Object.getPrototypeOf(this),{});const{oHash:a,iHash:s,finished:u,destroyed:c,blockLen:h,outputLen:d}=this;return i=i,i.finished=u,i.destroyed=c,i.blockLen=h,i.outputLen=d,i.oHash=a._cloneInto(i.oHash),i.iHash=s._cloneInto(i.iHash),i}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xl=(e,i,a)=>new Ob(e,i).update(a).digest();xl.create=(e,i)=>new Ob(e,i);const v1=(e,i)=>(e+(e>=0?i:-i)/Bb)/i;function d4(e,i,a){const[[s,u],[c,h]]=i,d=v1(h*e,a),p=v1(-u*e,a);let y=e-d*s-p*c,m=-d*u-p*h;const E=y<Ii,v=m<Ii;E&&(y=-y),v&&(m=-m);const _=Yd(Math.ceil(ZT(a)/2))+Ja;if(y<Ii||y>=_||m<Ii||m>=_)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:E,k1:y,k2neg:v,k2:m}}function ud(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function qh(e,i){const a={};for(let s of Object.keys(i))a[s]=e[s]===void 0?i[s]:e[s];return Lo(a.lowS,"lowS"),Lo(a.prehash,"prehash"),a.format!==void 0&&ud(a.format),a}class p4 extends Error{constructor(i=""){super(i)}}const Sr={Err:p4,_tlv:{encode:(e,i)=>{const{Err:a}=Sr;if(e<0||e>256)throw new a("tlv.encode: wrong tag");if(i.length&1)throw new a("tlv.encode: unpadded data");const s=i.length/2,u=ho(s);if(u.length/2&128)throw new a("tlv.encode: long form length too big");const c=s>127?ho(u.length/2|128):"";return ho(e)+c+u+i},decode(e,i){const{Err:a}=Sr;let s=0;if(e<0||e>256)throw new a("tlv.encode: wrong tag");if(i.length<2||i[s++]!==e)throw new a("tlv.decode: wrong tlv");const u=i[s++],c=!!(u&128);let h=0;if(!c)h=u;else{const p=u&127;if(!p)throw new a("tlv.decode(long): indefinite length not supported");if(p>4)throw new a("tlv.decode(long): byte length is too big");const y=i.subarray(s,s+p);if(y.length!==p)throw new a("tlv.decode: length bytes not complete");if(y[0]===0)throw new a("tlv.decode(long): zero leftmost byte");for(const m of y)h=h<<8|m;if(s+=p,h<128)throw new a("tlv.decode(long): not minimal encoding")}const d=i.subarray(s,s+h);if(d.length!==h)throw new a("tlv.decode: wrong value length");return{v:d,l:i.subarray(s+h)}}},_int:{encode(e){const{Err:i}=Sr;if(e<Ii)throw new i("integer: negative integers are not allowed");let a=ho(e);if(Number.parseInt(a[0],16)&8&&(a="00"+a),a.length&1)throw new i("unexpected DER parsing assertion: unpadded hex");return a},decode(e){const{Err:i}=Sr;if(e[0]&128)throw new i("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new i("invalid signature integer: unnecessary leading zero");return sc(e)}},toSig(e){const{Err:i,_int:a,_tlv:s}=Sr,u=te(e,void 0,"signature"),{v:c,l:h}=s.decode(48,u);if(h.length)throw new i("invalid signature: left bytes after parsing");const{v:d,l:p}=s.decode(2,c),{v:y,l:m}=s.decode(2,p);if(m.length)throw new i("invalid signature: left bytes after parsing");return{r:a.decode(d),s:a.decode(y)}},hexFromSig(e){const{_tlv:i,_int:a}=Sr,s=i.encode(2,a.encode(e.r)),u=i.encode(2,a.encode(e.s)),c=s+u;return i.encode(48,c)}},Ii=BigInt(0),Ja=BigInt(1),Bb=BigInt(2),po=BigInt(3),y4=BigInt(4);function g4(e,i={}){const a=f4("weierstrass",e,i),{Fp:s,Fn:u}=a;let c=a.CURVE;const{h,n:d}=c;Fd(i,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object"});const{endo:p}=i;if(p&&(!s.is0(c.a)||typeof p.beta!="bigint"||!Array.isArray(p.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const y=Rb(s,u);function m(){if(!s.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function E(yt,$,Z){const{x:Q,y:I}=$.toAffine(),q=s.toBytes(Q);if(Lo(Z,"isCompressed"),Z){m();const rt=!s.isOdd(I);return Un(Cb(rt),q)}else return Un(Uint8Array.of(4),q,s.toBytes(I))}function v(yt){te(yt,void 0,"Point");const{publicKey:$,publicKeyUncompressed:Z}=y,Q=yt.length,I=yt[0],q=yt.subarray(1);if(Q===$&&(I===2||I===3)){const rt=s.fromBytes(q);if(!s.isValid(rt))throw new Error("bad point: is not on curve, wrong x");const lt=U(rt);let nt;try{nt=s.sqrt(lt)}catch(at){const st=at instanceof Error?": "+at.message:"";throw new Error("bad point: is not on curve, sqrt error"+st)}m();const N=s.isOdd(nt);return(I&1)===1!==N&&(nt=s.neg(nt)),{x:rt,y:nt}}else if(Q===Z&&I===4){const rt=s.BYTES,lt=s.fromBytes(q.subarray(0,rt)),nt=s.fromBytes(q.subarray(rt,rt*2));if(!C(lt,nt))throw new Error("bad point: is not on curve");return{x:lt,y:nt}}else throw new Error(`bad point: got length ${Q}, expected compressed=${$} or uncompressed=${Z}`)}const _=i.toBytes||E,x=i.fromBytes||v;function U(yt){const $=s.sqr(yt),Z=s.mul($,yt);return s.add(s.add(Z,s.mul(yt,c.a)),c.b)}function C(yt,$){const Z=s.sqr($),Q=U(yt);return s.eql(Z,Q)}if(!C(c.Gx,c.Gy))throw new Error("bad curve params: generator point");const H=s.mul(s.pow(c.a,po),y4),V=s.mul(s.sqr(c.b),BigInt(27));if(s.is0(s.add(H,V)))throw new Error("bad curve params: a or b");function k(yt,$,Z=!1){if(!s.isValid($)||Z&&s.is0($))throw new Error(`bad point coordinate ${yt}`);return $}function z(yt){if(!(yt instanceof ut))throw new Error("Weierstrass Point expected")}function Y(yt){if(!p||!p.basises)throw new Error("no endo");return d4(yt,p.basises,u.ORDER)}const J=p1((yt,$)=>{const{X:Z,Y:Q,Z:I}=yt;if(s.eql(I,s.ONE))return{x:Z,y:Q};const q=yt.is0();$==null&&($=q?s.ONE:s.inv(I));const rt=s.mul(Z,$),lt=s.mul(Q,$),nt=s.mul(I,$);if(q)return{x:s.ZERO,y:s.ZERO};if(!s.eql(nt,s.ONE))throw new Error("invZ was invalid");return{x:rt,y:lt}}),P=p1(yt=>{if(yt.is0()){if(i.allowInfinityPoint&&!s.is0(yt.Y))return;throw new Error("bad point: ZERO")}const{x:$,y:Z}=yt.toAffine();if(!s.isValid($)||!s.isValid(Z))throw new Error("bad point: x or y not field elements");if(!C($,Z))throw new Error("bad point: equation left != right");if(!yt.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ct(yt,$,Z,Q,I){return Z=new ut(s.mul(Z.X,yt),Z.Y,Z.Z),$=jo(Q,$),Z=jo(I,Z),$.add(Z)}class ut{static BASE=new ut(c.Gx,c.Gy,s.ONE);static ZERO=new ut(s.ZERO,s.ONE,s.ZERO);static Fp=s;static Fn=u;X;Y;Z;constructor($,Z,Q){this.X=k("x",$),this.Y=k("y",Z,!0),this.Z=k("z",Q),Object.freeze(this)}static CURVE(){return c}static fromAffine($){const{x:Z,y:Q}=$||{};if(!$||!s.isValid(Z)||!s.isValid(Q))throw new Error("invalid affine point");if($ instanceof ut)throw new Error("projective point not allowed");return s.is0(Z)&&s.is0(Q)?ut.ZERO:new ut(Z,Q,s.ONE)}static fromBytes($){const Z=ut.fromAffine(x(te($,void 0,"point")));return Z.assertValidity(),Z}static fromHex($){return ut.fromBytes(zo($))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute($=8,Z=!0){return Ut.createCache(this,$),Z||this.multiply(po),this}assertValidity(){P(this)}hasEvenY(){const{y:$}=this.toAffine();if(!s.isOdd)throw new Error("Field doesn't support isOdd");return!s.isOdd($)}equals($){z($);const{X:Z,Y:Q,Z:I}=this,{X:q,Y:rt,Z:lt}=$,nt=s.eql(s.mul(Z,lt),s.mul(q,I)),N=s.eql(s.mul(Q,lt),s.mul(rt,I));return nt&&N}negate(){return new ut(this.X,s.neg(this.Y),this.Z)}double(){const{a:$,b:Z}=c,Q=s.mul(Z,po),{X:I,Y:q,Z:rt}=this;let lt=s.ZERO,nt=s.ZERO,N=s.ZERO,L=s.mul(I,I),at=s.mul(q,q),st=s.mul(rt,rt),ot=s.mul(I,q);return ot=s.add(ot,ot),N=s.mul(I,rt),N=s.add(N,N),lt=s.mul($,N),nt=s.mul(Q,st),nt=s.add(lt,nt),lt=s.sub(at,nt),nt=s.add(at,nt),nt=s.mul(lt,nt),lt=s.mul(ot,lt),N=s.mul(Q,N),st=s.mul($,st),ot=s.sub(L,st),ot=s.mul($,ot),ot=s.add(ot,N),N=s.add(L,L),L=s.add(N,L),L=s.add(L,st),L=s.mul(L,ot),nt=s.add(nt,L),st=s.mul(q,rt),st=s.add(st,st),L=s.mul(st,ot),lt=s.sub(lt,L),N=s.mul(st,at),N=s.add(N,N),N=s.add(N,N),new ut(lt,nt,N)}add($){z($);const{X:Z,Y:Q,Z:I}=this,{X:q,Y:rt,Z:lt}=$;let nt=s.ZERO,N=s.ZERO,L=s.ZERO;const at=c.a,st=s.mul(c.b,po);let ot=s.mul(Z,q),dt=s.mul(Q,rt),bt=s.mul(I,lt),Lt=s.add(Z,Q),xt=s.add(q,rt);Lt=s.mul(Lt,xt),xt=s.add(ot,dt),Lt=s.sub(Lt,xt),xt=s.add(Z,I);let ee=s.add(q,lt);return xt=s.mul(xt,ee),ee=s.add(ot,bt),xt=s.sub(xt,ee),ee=s.add(Q,I),nt=s.add(rt,lt),ee=s.mul(ee,nt),nt=s.add(dt,bt),ee=s.sub(ee,nt),L=s.mul(at,xt),nt=s.mul(st,bt),L=s.add(nt,L),nt=s.sub(dt,L),L=s.add(dt,L),N=s.mul(nt,L),dt=s.add(ot,ot),dt=s.add(dt,ot),bt=s.mul(at,bt),xt=s.mul(st,xt),dt=s.add(dt,bt),bt=s.sub(ot,bt),bt=s.mul(at,bt),xt=s.add(xt,bt),ot=s.mul(dt,xt),N=s.add(N,ot),ot=s.mul(ee,xt),nt=s.mul(Lt,nt),nt=s.sub(nt,ot),ot=s.mul(Lt,dt),L=s.mul(ee,L),L=s.add(L,ot),new ut(nt,N,L)}subtract($){return this.add($.negate())}is0(){return this.equals(ut.ZERO)}multiply($){const{endo:Z}=i;if(!u.isValidNot0($))throw new Error("invalid scalar: out of range");let Q,I;const q=rt=>Ut.cached(this,rt,lt=>m1(ut,lt));if(Z){const{k1neg:rt,k1:lt,k2neg:nt,k2:N}=Y($),{p:L,f:at}=q(lt),{p:st,f:ot}=q(N);I=at.add(ot),Q=ct(Z.beta,L,st,rt,nt)}else{const{p:rt,f:lt}=q($);Q=rt,I=lt}return m1(ut,[Q,I])[0]}multiplyUnsafe($){const{endo:Z}=i,Q=this;if(!u.isValid($))throw new Error("invalid scalar: out of range");if($===Ii||Q.is0())return ut.ZERO;if($===Ja)return Q;if(Ut.hasCache(this))return this.multiply($);if(Z){const{k1neg:I,k1:q,k2neg:rt,k2:lt}=Y($),{p1:nt,p2:N}=c4(ut,Q,q,lt);return ct(Z.beta,nt,N,I,rt)}else return Ut.unsafe(Q,$)}toAffine($){return J(this,$)}isTorsionFree(){const{isTorsionFree:$}=i;return h===Ja?!0:$?$(ut,this):Ut.unsafe(this,d).is0()}clearCofactor(){const{clearCofactor:$}=i;return h===Ja?this:$?$(ut,this):this.multiplyUnsafe(h)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}toBytes($=!0){return Lo($,"isCompressed"),this.assertValidity(),_(ut,this,$)}toHex($=!0){return rc(this.toBytes($))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}const Nt=u.BITS,Ut=new o4(ut,i.endo?Math.ceil(Nt/2):Nt);return ut.BASE.precompute(8),ut}function Cb(e){return Uint8Array.of(e?2:3)}function Rb(e,i){return{secretKey:i.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*i.BYTES}}function m4(e,i={}){const{Fn:a}=e,s=i.randomBytes||cb,u=Object.assign(Rb(e.Fp,a),{seed:Tb(a.ORDER)});function c(_){try{const x=a.fromBytes(_);return a.isValidNot0(x)}catch{return!1}}function h(_,x){const{publicKey:U,publicKeyUncompressed:C}=u;try{const H=_.length;return x===!0&&H!==U||x===!1&&H!==C?!1:!!e.fromBytes(_)}catch{return!1}}function d(_=s(u.seed)){return u4(te(_,u.seed,"seed"),a.ORDER)}function p(_,x=!0){return e.BASE.multiply(a.fromBytes(_)).toBytes(x)}function y(_){const{secretKey:x,publicKey:U,publicKeyUncompressed:C}=u;if(!Ld(_)||"_lengths"in a&&a._lengths||x===U)return;const H=te(_,void 0,"key").length;return H===U||H===C}function m(_,x,U=!0){if(y(_)===!0)throw new Error("first arg must be private key");if(y(x)===!1)throw new Error("second arg must be public key");const C=a.fromBytes(_);return e.fromBytes(x).multiply(C).toBytes(U)}const E={isValidSecretKey:c,isValidPublicKey:h,randomSecretKey:d},v=h4(d,p);return Object.freeze({getPublicKey:p,getSharedSecret:m,keygen:v,Point:e,utils:E,lengths:u})}function E4(e,i,a={}){jd(i),Fd(a,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"}),a=Object.assign({},a);const s=a.randomBytes||cb,u=a.hmac||((Z,Q)=>xl(i,Z,Q)),{Fp:c,Fn:h}=e,{ORDER:d,BITS:p}=h,{keygen:y,getPublicKey:m,getSharedSecret:E,utils:v,lengths:_}=m4(e,a),x={prehash:!0,lowS:typeof a.lowS=="boolean"?a.lowS:!0,format:"compact",extraEntropy:!1},U=d*Bb<c.ORDER;function C(Z){const Q=d>>Ja;return Z>Q}function H(Z,Q){if(!h.isValidNot0(Q))throw new Error(`invalid signature ${Z}: out of range 1..Point.Fn.ORDER`);return Q}function V(){if(U)throw new Error('"recovered" sig type is not supported for cofactor >2 curves')}function k(Z,Q){ud(Q);const I=_.signature,q=Q==="compact"?I:Q==="recovered"?I+1:void 0;return te(Z,q)}class z{r;s;recovery;constructor(Q,I,q){if(this.r=H("r",Q),this.s=H("s",I),q!=null){if(V(),![0,1,2,3].includes(q))throw new Error("invalid recovery id");this.recovery=q}Object.freeze(this)}static fromBytes(Q,I=x.format){k(Q,I);let q;if(I==="der"){const{r:N,s:L}=Sr.toSig(te(Q));return new z(N,L)}I==="recovered"&&(q=Q[0],I="compact",Q=Q.subarray(1));const rt=_.signature/2,lt=Q.subarray(0,rt),nt=Q.subarray(rt,rt*2);return new z(h.fromBytes(lt),h.fromBytes(nt),q)}static fromHex(Q,I){return this.fromBytes(zo(Q),I)}assertRecovery(){const{recovery:Q}=this;if(Q==null)throw new Error("invalid recovery id: must be present");return Q}addRecoveryBit(Q){return new z(this.r,this.s,Q)}recoverPublicKey(Q){const{r:I,s:q}=this,rt=this.assertRecovery(),lt=rt===2||rt===3?I+d:I;if(!c.isValid(lt))throw new Error("invalid recovery id: sig.r+curve.n != R.x");const nt=c.toBytes(lt),N=e.fromBytes(Un(Cb((rt&1)===0),nt)),L=h.inv(lt),at=J(te(Q,void 0,"msgHash")),st=h.create(-at*L),ot=h.create(q*L),dt=e.BASE.multiplyUnsafe(st).add(N.multiplyUnsafe(ot));if(dt.is0())throw new Error("invalid recovery: point at infinify");return dt.assertValidity(),dt}hasHighS(){return C(this.s)}toBytes(Q=x.format){if(ud(Q),Q==="der")return zo(Sr.hexFromSig(this));const{r:I,s:q}=this,rt=h.toBytes(I),lt=h.toBytes(q);return Q==="recovered"?(V(),Un(Uint8Array.of(this.assertRecovery()),rt,lt)):Un(rt,lt)}toHex(Q){return rc(this.toBytes(Q))}}const Y=a.bits2int||function(Q){if(Q.length>8192)throw new Error("input is too large");const I=sc(Q),q=Q.length*8-p;return q>0?I>>BigInt(q):I},J=a.bits2int_modN||function(Q){return h.create(Y(Q))},P=Yd(p);function ct(Z){return $T("num < 2^"+p,Z,Ii,P),h.toBytes(Z)}function ut(Z,Q){return te(Z,void 0,"message"),Q?te(i(Z),void 0,"prehashed message"):Z}function Nt(Z,Q,I){const{lowS:q,prehash:rt,extraEntropy:lt}=qh(I,x);Z=ut(Z,rt);const nt=J(Z),N=h.fromBytes(Q);if(!h.isValidNot0(N))throw new Error("invalid private key");const L=[ct(N),ct(nt)];if(lt!=null&&lt!==!1){const dt=lt===!0?s(_.secretKey):lt;L.push(te(dt,void 0,"extraEntropy"))}const at=Un(...L),st=nt;function ot(dt){const bt=Y(dt);if(!h.isValidNot0(bt))return;const Lt=h.inv(bt),xt=e.BASE.multiply(bt).toAffine(),ee=h.create(xt.x);if(ee===Ii)return;const Mn=h.create(Lt*h.create(st+ee*N));if(Mn===Ii)return;let ui=(xt.x===ee?0:2)|Number(xt.y&Ja),pn=Mn;return q&&C(Mn)&&(pn=h.neg(Mn),ui^=1),new z(ee,pn,U?void 0:ui)}return{seed:at,k2sig:ot}}function Ut(Z,Q,I={}){const{seed:q,k2sig:rt}=Nt(Z,Q,I);return QT(i.outputLen,h.BYTES,u)(q,rt).toBytes(I.format)}function yt(Z,Q,I,q={}){const{lowS:rt,prehash:lt,format:nt}=qh(q,x);if(I=te(I,void 0,"publicKey"),Q=ut(Q,lt),!Ld(Z)){const N=Z instanceof z?", use sig.toBytes()":"";throw new Error("verify expects Uint8Array signature"+N)}k(Z,nt);try{const N=z.fromBytes(Z,nt),L=e.fromBytes(I);if(rt&&N.hasHighS())return!1;const{r:at,s:st}=N,ot=J(Q),dt=h.inv(st),bt=h.create(ot*dt),Lt=h.create(at*dt),xt=e.BASE.multiplyUnsafe(bt).add(L.multiplyUnsafe(Lt));return xt.is0()?!1:h.create(xt.x)===at}catch{return!1}}function $(Z,Q,I={}){const{prehash:q}=qh(I,x);return Q=ut(Q,q),z.fromBytes(Z,"recovered").recoverPublicKey(Q).toBytes()}return Object.freeze({keygen:y,getPublicKey:m,getSharedSecret:E,utils:v,lengths:_,Point:e,sign:Ut,verify:yt,recoverPublicKey:$,Signature:z,hash:i})}const Pd={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},b4={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},A1=BigInt(2);function w4(e){const i=Pd.p,a=BigInt(3),s=BigInt(6),u=BigInt(11),c=BigInt(22),h=BigInt(23),d=BigInt(44),p=BigInt(88),y=e*e*e%i,m=y*y*e%i,E=Nn(m,a,i)*m%i,v=Nn(E,a,i)*m%i,_=Nn(v,A1,i)*y%i,x=Nn(_,u,i)*_%i,U=Nn(x,c,i)*x%i,C=Nn(U,d,i)*U%i,H=Nn(C,p,i)*C%i,V=Nn(H,d,i)*U%i,k=Nn(V,a,i)*m%i,z=Nn(k,h,i)*x%i,Y=Nn(z,s,i)*y%i,J=Nn(Y,A1,i);if(!od.eql(od.sqr(J),e))throw new Error("Cannot find square root");return J}const od=lc(Pd.p,{sqrt:w4}),v4=g4(Pd,{Fp:od,endo:b4}),Za=E4(v4,ac),A4=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Ib=Uint8Array.from(new Array(16).fill(0).map((e,i)=>i)),S4=Ib.map(e=>(9*e+5)%16),Hb=(()=>{const a=[[Ib],[S4]];for(let s=0;s<4;s++)for(let u of a)u.push(u[s].map(c=>A4[c]));return a})(),kb=Hb[0],Mb=Hb[1],Db=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),x4=kb.map((e,i)=>e.map(a=>Db[i][a])),_4=Mb.map((e,i)=>e.map(a=>Db[i][a])),T4=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),N4=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function S1(e,i,a,s){return e===0?i^a^s:e===1?i&a|~i&s:e===2?(i|~a)^s:e===3?i&s|a&~s:i^(a|~s)}const yo=new Uint32Array(16);class U4 extends Gd{h0=1732584193;h1=-271733879;h2=-1732584194;h3=271733878;h4=-1009589776;constructor(){super(64,20,8,!0)}get(){const{h0:i,h1:a,h2:s,h3:u,h4:c}=this;return[i,a,s,u,c]}set(i,a,s,u,c){this.h0=i|0,this.h1=a|0,this.h2=s|0,this.h3=u|0,this.h4=c|0}process(i,a){for(let _=0;_<16;_++,a+=4)yo[_]=i.getUint32(a,!0);let s=this.h0|0,u=s,c=this.h1|0,h=c,d=this.h2|0,p=d,y=this.h3|0,m=y,E=this.h4|0,v=E;for(let _=0;_<5;_++){const x=4-_,U=T4[_],C=N4[_],H=kb[_],V=Mb[_],k=x4[_],z=_4[_];for(let Y=0;Y<16;Y++){const J=uo(s+S1(_,c,d,y)+yo[H[Y]]+U,k[Y])+E|0;s=E,E=y,y=uo(d,10)|0,d=c,c=J}for(let Y=0;Y<16;Y++){const J=uo(u+S1(x,h,p,m)+yo[V[Y]]+C,z[Y])+v|0;u=v,v=m,m=uo(p,10)|0,p=h,h=J}}this.set(this.h1+d+m|0,this.h2+y+v|0,this.h3+E+u|0,this.h4+s+h|0,this.h0+c+p|0)}roundClean(){Di(yo)}destroy(){this.destroyed=!0,Di(this.buffer),this.set(0,0,0,0,0)}}const O4=Kd(()=>new U4);function cd(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function zb(e,i){return Array.isArray(i)?i.length===0?!0:e?i.every(a=>typeof a=="string"):i.every(a=>Number.isSafeInteger(a)):!1}function B4(e){if(typeof e!="function")throw new Error("function expected");return!0}function fd(e,i){if(typeof i!="string")throw new Error(`${e}: string expected`);return!0}function $d(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function hd(e){if(!Array.isArray(e))throw new Error("array expected")}function Lb(e,i){if(!zb(!0,i))throw new Error(`${e}: array of strings expected`)}function C4(e,i){if(!zb(!1,i))throw new Error(`${e}: array of numbers expected`)}function jb(...e){const i=c=>c,a=(c,h)=>d=>c(h(d)),s=e.map(c=>c.encode).reduceRight(a,i),u=e.map(c=>c.decode).reduce(a,i);return{encode:s,decode:u}}function R4(e){const i=typeof e=="string"?e.split(""):e,a=i.length;Lb("alphabet",i);const s=new Map(i.map((u,c)=>[u,c]));return{encode:u=>(hd(u),u.map(c=>{if(!Number.isSafeInteger(c)||c<0||c>=a)throw new Error(`alphabet.encode: digit index outside alphabet "${c}". Allowed: ${e}`);return i[c]})),decode:u=>(hd(u),u.map(c=>{fd("alphabet.decode",c);const h=s.get(c);if(h===void 0)throw new Error(`Unknown letter: "${c}". Allowed: ${e}`);return h}))}}function I4(e=""){return fd("join",e),{encode:i=>(Lb("join.decode",i),i.join(e)),decode:i=>(fd("join.decode",i),i.split(e))}}function x1(e,i,a){if(i<2)throw new Error(`convertRadix: invalid from=${i}, base cannot be less than 2`);if(a<2)throw new Error(`convertRadix: invalid to=${a}, base cannot be less than 2`);if(hd(e),!e.length)return[];let s=0;const u=[],c=Array.from(e,d=>{if($d(d),d<0||d>=i)throw new Error(`invalid integer: ${d}`);return d}),h=c.length;for(;;){let d=0,p=!0;for(let y=s;y<h;y++){const m=c[y],E=i*d,v=E+m;if(!Number.isSafeInteger(v)||E/i!==d||v-m!==E)throw new Error("convertRadix: carry overflow");const _=v/a;d=v%a;const x=Math.floor(_);if(c[y]=x,!Number.isSafeInteger(x)||x*a+d!==v)throw new Error("convertRadix: carry overflow");if(p)x?p=!1:s=y;else continue}if(u.push(d),p)break}for(let d=0;d<e.length-1&&e[d]===0;d++)u.push(0);return u.reverse()}function H4(e){$d(e);const i=2**8;return{encode:a=>{if(!cd(a))throw new Error("radix.encode input should be Uint8Array");return x1(Array.from(a),i,e)},decode:a=>(C4("radix.decode",a),Uint8Array.from(x1(a,e,i)))}}function k4(e,i){return $d(e),B4(i),{encode(a){if(!cd(a))throw new Error("checksum.encode: input should be Uint8Array");const s=i(a).slice(0,e),u=new Uint8Array(a.length+e);return u.set(a),u.set(s,a.length),u},decode(a){if(!cd(a))throw new Error("checksum.decode: input should be Uint8Array");const s=a.slice(0,-e),u=a.slice(-e),c=i(s).slice(0,e);for(let h=0;h<e;h++)if(c[h]!==u[h])throw new Error("Invalid checksum");return s}}}const M4=e=>jb(H4(58),R4(e),I4("")),D4=M4("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),z4=e=>jb(k4(4,i=>e(e(i))),D4);const dl=Za.Point,{Fn:hl}=dl,Ph=z4(ac),L4=Uint8Array.from("Bitcoin seed".split(""),e=>e.charCodeAt(0)),$h={private:76066276,public:76067358},Zh=2147483648,j4=e=>O4(ac(e)),K4=e=>Wr(e).getUint32(0,!1),go=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error("invalid number, should be from 0 to 2**32-1, got "+e);const i=new Uint8Array(4);return Wr(i).setUint32(0,e,!1),i};class Gn{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return K4(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this._privateKey||null}get publicKey(){return this._publicKey||null}get privateExtendedKey(){const i=this._privateKey;if(!i)throw new Error("No private key");return Ph.encode(this.serialize(this.versions.private,Un(Uint8Array.of(0),i)))}get publicExtendedKey(){if(!this._publicKey)throw new Error("No public key");return Ph.encode(this.serialize(this.versions.public,this._publicKey))}static fromMasterSeed(i,a=$h){if(te(i),8*i.length<128||8*i.length>512)throw new Error("HDKey: seed length must be between 128 and 512 bits; 256 bits is advised, got "+i.length);const s=xl(d1,L4,i),u=s.slice(0,32),c=s.slice(32);return new Gn({versions:a,chainCode:c,privateKey:u})}static fromExtendedKey(i,a=$h){const s=Ph.decode(i),u=Wr(s),c=u.getUint32(0,!1),h={versions:a,depth:s[4],parentFingerprint:u.getUint32(5,!1),index:u.getUint32(9,!1),chainCode:s.slice(13,45)},d=s.slice(45),p=d[0]===0;if(c!==a[p?"private":"public"])throw new Error("Version mismatch");return p?new Gn({...h,privateKey:d.slice(1)}):new Gn({...h,publicKey:d})}static fromJSON(i){return Gn.fromExtendedKey(i.xpriv)}versions;depth=0;index=0;chainCode=null;parentFingerprint=0;_privateKey;_publicKey;pubHash;constructor(i){if(!i||typeof i!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=i.versions||$h,this.depth=i.depth||0,this.chainCode=i.chainCode||null,this.index=i.index||0,this.parentFingerprint=i.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(this.depth>255)throw new Error("HDKey: depth exceeds the serializable value 255");if(i.publicKey&&i.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(i.privateKey){if(!Za.utils.isValidSecretKey(i.privateKey))throw new Error("Invalid private key");this._privateKey=i.privateKey,this._publicKey=Za.getPublicKey(i.privateKey,!0)}else if(i.publicKey)this._publicKey=dl.fromBytes(i.publicKey).toBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=j4(this._publicKey)}derive(i){if(!/^[mM]'?/.test(i))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(i))return this;const a=i.replace(/^[mM]'?\//,"").split("/");let s=this;for(const u of a){const c=/^(\d+)('?)$/.exec(u),h=c&&c[1];if(!c||c.length!==3||typeof h!="string")throw new Error("invalid child index: "+u);let d=+h;if(!Number.isSafeInteger(d)||d>=Zh)throw new Error("Invalid index");c[2]==="'"&&(d+=Zh),s=s.deriveChild(d)}return s}deriveChild(i){if(!this._publicKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let a=go(i);if(i>=Zh){const p=this._privateKey;if(!p)throw new Error("Could not derive hardened child key");a=Un(Uint8Array.of(0),p,a)}else a=Un(this._publicKey,a);const s=xl(d1,this.chainCode,a),u=s.slice(0,32),c=s.slice(32);if(!Za.utils.isValidSecretKey(u))throw new Error("Tweak bigger than curve order");const h={versions:this.versions,chainCode:c,depth:this.depth+1,parentFingerprint:this.fingerprint,index:i},d=hl.fromBytes(u);try{if(this._privateKey){const p=hl.create(hl.fromBytes(this._privateKey)+d);if(!hl.isValidNot0(p))throw new Error("The tweak was out of range or the resulted private key is invalid");h.privateKey=hl.toBytes(p)}else{const p=dl.fromBytes(this._publicKey).add(dl.BASE.multiply(d));if(p.equals(dl.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");h.publicKey=p.toBytes(!0)}return new Gn(h)}catch{return this.deriveChild(i+1)}}sign(i){if(!this._privateKey)throw new Error("No privateKey set!");return te(i,32),Za.sign(i,this._privateKey,{prehash:!1})}verify(i,a){if(te(i,32),te(a,64),!this._publicKey)throw new Error("No publicKey set!");return Za.verify(a,i,this._publicKey,{prehash:!1})}wipePrivateData(){return this._privateKey&&(this._privateKey.fill(0),this._privateKey=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(i,a){if(!this.chainCode)throw new Error("No chainCode set");return te(a,33),Un(go(i),new Uint8Array([this.depth]),go(this.parentFingerprint),go(this.index),this.chainCode,a)}}function G4(e,i,a,s){jd(e);const u=OT({dkLen:32,asyncTick:10},s),{c,dkLen:h,asyncTick:d}=u;if(ri(c,"c"),ri(h,"dkLen"),ri(d,"asyncTick"),c<1)throw new Error("iterations (c) must be >= 1");const p=o1(i,"password"),y=o1(a,"salt"),m=new Uint8Array(h),E=xl.create(e,p),v=E._cloneInto().update(y);return{c,dkLen:h,asyncTick:d,DK:m,PRF:E,PRFSalt:v}}function X4(e,i,a,s,u){return e.destroy(),i.destroy(),s&&s.destroy(),Di(u),a}function V4(e,i,a,s){const{c:u,dkLen:c,DK:h,PRF:d,PRFSalt:p}=G4(e,i,a,s);let y;const m=new Uint8Array(4),E=Wr(m),v=new Uint8Array(d.outputLen);for(let _=1,x=0;x<c;_++,x+=d.outputLen){const U=h.subarray(x,x+d.outputLen);E.setInt32(0,_,!1),(y=p._cloneInto(y)).update(m).digestInto(v),U.set(v.subarray(0,U.length));for(let C=1;C<u;C++){d._cloneInto(y).update(v).digestInto(v);for(let H=0;H<U.length;H++)U[H]^=v[H]}}return X4(d,p,h,y,v)}const Kb=["academic","acid","acne","acquire","acrobat","activity","actress","adapt","adequate","adjust","admit","adorn","adult","advance","advocate","afraid","again","agency","agree","aide","aircraft","airline","airport","ajar","alarm","album","alcohol","alien","alive","alpha","already","alto","aluminum","always","amazing","ambition","amount","amuse","analysis","anatomy","ancestor","ancient","angel","angry","animal","answer","antenna","anxiety","apart","aquatic","arcade","arena","argue","armed","artist","artwork","aspect","auction","august","aunt","average","aviation","avoid","award","away","axis","axle","beam","beard","beaver","become","bedroom","behavior","being","believe","belong","benefit","best","beyond","bike","biology","birthday","bishop","black","blanket","blessing","blimp","blind","blue","body","bolt","boring","born","both","boundary","bracelet","branch","brave","breathe","briefing","broken","brother","browser","bucket","budget","building","bulb","bulge","bumpy","bundle","burden","burning","busy","buyer","cage","calcium","camera","campus","canyon","capacity","capital","capture","carbon","cards","careful","cargo","carpet","carve","category","cause","ceiling","center","ceramic","champion","change","charity","check","chemical","chest","chew","chubby","cinema","civil","class","clay","cleanup","client","climate","clinic","clock","clogs","closet","clothes","club","cluster","coal","coastal","coding","column","company","corner","costume","counter","course","cover","cowboy","cradle","craft","crazy","credit","cricket","criminal","crisis","critical","crowd","crucial","crunch","crush","crystal","cubic","cultural","curious","curly","custody","cylinder","daisy","damage","dance","darkness","database","daughter","deadline","deal","debris","debut","decent","decision","declare","decorate","decrease","deliver","demand","density","deny","depart","depend","depict","deploy","describe","desert","desire","desktop","destroy","detailed","detect","device","devote","diagnose","dictate","diet","dilemma","diminish","dining","diploma","disaster","discuss","disease","dish","dismiss","display","distance","dive","divorce","document","domain","domestic","dominant","dough","downtown","dragon","dramatic","dream","dress","drift","drink","drove","drug","dryer","duckling","duke","duration","dwarf","dynamic","early","earth","easel","easy","echo","eclipse","ecology","edge","editor","educate","either","elbow","elder","election","elegant","element","elephant","elevator","elite","else","email","emerald","emission","emperor","emphasis","employer","empty","ending","endless","endorse","enemy","energy","enforce","engage","enjoy","enlarge","entrance","envelope","envy","epidemic","episode","equation","equip","eraser","erode","escape","estate","estimate","evaluate","evening","evidence","evil","evoke","exact","example","exceed","exchange","exclude","excuse","execute","exercise","exhaust","exotic","expand","expect","explain","express","extend","extra","eyebrow","facility","fact","failure","faint","fake","false","family","famous","fancy","fangs","fantasy","fatal","fatigue","favorite","fawn","fiber","fiction","filter","finance","findings","finger","firefly","firm","fiscal","fishing","fitness","flame","flash","flavor","flea","flexible","flip","float","floral","fluff","focus","forbid","force","forecast","forget","formal","fortune","forward","founder","fraction","fragment","frequent","freshman","friar","fridge","friendly","frost","froth","frozen","fumes","funding","furl","fused","galaxy","game","garbage","garden","garlic","gasoline","gather","general","genius","genre","genuine","geology","gesture","glad","glance","glasses","glen","glimpse","goat","golden","graduate","grant","grasp","gravity","gray","greatest","grief","grill","grin","grocery","gross","group","grownup","grumpy","guard","guest","guilt","guitar","gums","hairy","hamster","hand","hanger","harvest","have","havoc","hawk","hazard","headset","health","hearing","heat","helpful","herald","herd","hesitate","hobo","holiday","holy","home","hormone","hospital","hour","huge","human","humidity","hunting","husband","hush","husky","hybrid","idea","identify","idle","image","impact","imply","improve","impulse","include","income","increase","index","indicate","industry","infant","inform","inherit","injury","inmate","insect","inside","install","intend","intimate","invasion","involve","iris","island","isolate","item","ivory","jacket","jerky","jewelry","join","judicial","juice","jump","junction","junior","junk","jury","justice","kernel","keyboard","kidney","kind","kitchen","knife","knit","laden","ladle","ladybug","lair","lamp","language","large","laser","laundry","lawsuit","leader","leaf","learn","leaves","lecture","legal","legend","legs","lend","length","level","liberty","library","license","lift","likely","lilac","lily","lips","liquid","listen","literary","living","lizard","loan","lobe","location","losing","loud","loyalty","luck","lunar","lunch","lungs","luxury","lying","lyrics","machine","magazine","maiden","mailman","main","makeup","making","mama","manager","mandate","mansion","manual","marathon","march","market","marvel","mason","material","math","maximum","mayor","meaning","medal","medical","member","memory","mental","merchant","merit","method","metric","midst","mild","military","mineral","minister","miracle","mixed","mixture","mobile","modern","modify","moisture","moment","morning","mortgage","mother","mountain","mouse","move","much","mule","multiple","muscle","museum","music","mustang","nail","national","necklace","negative","nervous","network","news","nuclear","numb","numerous","nylon","oasis","obesity","object","observe","obtain","ocean","often","olympic","omit","oral","orange","orbit","order","ordinary","organize","ounce","oven","overall","owner","paces","pacific","package","paid","painting","pajamas","pancake","pants","papa","paper","parcel","parking","party","patent","patrol","payment","payroll","peaceful","peanut","peasant","pecan","penalty","pencil","percent","perfect","permit","petition","phantom","pharmacy","photo","phrase","physics","pickup","picture","piece","pile","pink","pipeline","pistol","pitch","plains","plan","plastic","platform","playoff","pleasure","plot","plunge","practice","prayer","preach","predator","pregnant","premium","prepare","presence","prevent","priest","primary","priority","prisoner","privacy","prize","problem","process","profile","program","promise","prospect","provide","prune","public","pulse","pumps","punish","puny","pupal","purchase","purple","python","quantity","quarter","quick","quiet","race","racism","radar","railroad","rainbow","raisin","random","ranked","rapids","raspy","reaction","realize","rebound","rebuild","recall","receiver","recover","regret","regular","reject","relate","remember","remind","remove","render","repair","repeat","replace","require","rescue","research","resident","response","result","retailer","retreat","reunion","revenue","review","reward","rhyme","rhythm","rich","rival","river","robin","rocky","romantic","romp","roster","round","royal","ruin","ruler","rumor","sack","safari","salary","salon","salt","satisfy","satoshi","saver","says","scandal","scared","scatter","scene","scholar","science","scout","scramble","screw","script","scroll","seafood","season","secret","security","segment","senior","shadow","shaft","shame","shaped","sharp","shelter","sheriff","short","should","shrimp","sidewalk","silent","silver","similar","simple","single","sister","skin","skunk","slap","slavery","sled","slice","slim","slow","slush","smart","smear","smell","smirk","smith","smoking","smug","snake","snapshot","sniff","society","software","soldier","solution","soul","source","space","spark","speak","species","spelling","spend","spew","spider","spill","spine","spirit","spit","spray","sprinkle","square","squeeze","stadium","staff","standard","starting","station","stay","steady","step","stick","stilt","story","strategy","strike","style","subject","submit","sugar","suitable","sunlight","superior","surface","surprise","survive","sweater","swimming","swing","switch","symbolic","sympathy","syndrome","system","tackle","tactics","tadpole","talent","task","taste","taught","taxi","teacher","teammate","teaspoon","temple","tenant","tendency","tension","terminal","testify","texture","thank","that","theater","theory","therapy","thorn","threaten","thumb","thunder","ticket","tidy","timber","timely","ting","tofu","together","tolerate","total","toxic","tracks","traffic","training","transfer","trash","traveler","treat","trend","trial","tricycle","trip","triumph","trouble","true","trust","twice","twin","type","typical","ugly","ultimate","umbrella","uncover","undergo","unfair","unfold","unhappy","union","universe","unkind","unknown","unusual","unwrap","upgrade","upstairs","username","usher","usual","valid","valuable","vampire","vanish","various","vegan","velvet","venture","verdict","verify","very","veteran","vexed","victim","video","view","vintage","violence","viral","visitor","visual","vitamins","vocal","voice","volume","voter","voting","walnut","warmth","warn","watch","wavy","wealthy","weapon","webcam","welcome","welfare","western","width","wildlife","window","wine","wireless","wisdom","withdraw","wits","wolf","woman","work","worthy","wrap","wrist","writing","wrote","year","yelp","yield","yoga","zero"],Ko=new Map;Kb.forEach((e,i)=>{Ko.set(e,i)});const Y4=[14737472,29474944,58949888,117899776,235798537,470557714,940076068,814808136,565311632,66318624],F4=1e4,Zd=4;function Gb(e){let i=1;for(const a of e){const s=i>>20;i=(i&1048575)<<10^a;for(let u=0;u<10;u++)i^=s>>u&1?Y4[u]:0}return i}function q4(e,i){const a=e.split("").map(u=>u.charCodeAt(0)).concat(i).concat([0,0,0]),s=Gb(a)^1;return[s>>20&1023,s>>10&1023,s&1023]}function P4(e,i){const a=e.split("").map(s=>s.charCodeAt(0)).concat(i);return Gb(a)===1}function $4(){const e=new Uint8Array(2);return crypto.getRandomValues(e),(e[0]<<8|e[1])&32767}function Z4(e){return Math.floor((F4<<e)/Zd)}function Xb(e,i){if(i)return new Uint8Array(0);{const a=new TextEncoder().encode("shamir"),s=new Uint8Array(a.length+2);return s.set(a,0),s[a.length]=e>>8&255,s[a.length+1]=e&255,s}}function Vb(e,i,a,s,u){const c=Z4(a),h=new TextEncoder().encode(i.normalize("NFKD")),d=new Uint8Array(1+h.length);d[0]=e,d.set(h,1);const p=new Uint8Array(s.length+u.length);return p.set(s,0),p.set(u,s.length),V4(ac,d,p,{c,dkLen:u.length})}function Q4(e,i,a,s,u){if(e.length%2!==0)throw new Error("Data length must be even");const c=e.length/2;let h=e.slice(0,c),d=e.slice(c);const p=Xb(s,u);for(let m=0;m<Zd;m++){const E=Vb(m,i,a,p,d),v=new Uint8Array(c);for(let _=0;_<c;_++)v[_]=h[_]^E[_];h=d,d=v}const y=new Uint8Array(e.length);return y.set(d,0),y.set(h,c),y}function W4(e,i,a,s,u){if(e.length%2!==0)throw new Error("Data length must be even");const c=e.length/2;let h=e.slice(0,c),d=e.slice(c);const p=Xb(s,u);for(let m=Zd-1;m>=0;m--){const E=Vb(m,i,a,p,d),v=new Uint8Array(c);for(let _=0;_<c;_++)v[_]=h[_]^E[_];h=d,d=v}const y=new Uint8Array(e.length);return y.set(d,0),y.set(h,c),y}function J4(e){const{identifier:i,iterationExponent:a,groupIndex:s,groupThreshold:u,groupCount:c,memberIndex:h,memberThreshold:d}=e,p=[];return p.push(i>>5&1023),p.push((i&31)<<5|0|a&15),p.push((s&15)<<6|(u-1&15)<<2|(c-1&12)>>2),p.push((c-1&3)<<8|(h&15)<<4|d-1&15),p}function t6(e){const i=(e[0]<<5|e[1]>>5&31)&32767,a=(e[1]>>4&1)===1,s=e[1]&15,u=e[2]>>6&15,c=(e[2]>>2&15)+1,h=((e[2]&3)<<2|e[3]>>8&3)+1,d=e[3]>>4&15,p=(e[3]&15)+1;return{identifier:i,extendable:a,iterationExponent:s,groupIndex:u,groupThreshold:c,groupCount:h,memberIndex:d,memberThreshold:p}}function e6(e,i){const a=J4(e),s=i.length*8,u=Math.ceil(s/10);let c=0n;for(const y of i)c=(c<<8n)+BigInt(y);const h=[];for(let y=0;y<u;y++)h.unshift(Number(c%1024n)),c/=1024n;a.push(...h);const p=q4("shamir",a);return a.push(...p),a.map(y=>Kb[y])}function n6(e){const i=e.map(y=>{const m=Ko.get(y.toLowerCase());if(m===void 0)throw new Error(`Invalid word: ${y}`);return m});if(i.length!==20&&i.length!==33)throw new Error(`Invalid mnemonic length: ${i.length} words. Expected 20 or 33.`);const a=t6(i),s=i.slice(4,-3),u=s.length*10,c=u%16,h=u-c,d=h/8;let p=0n;for(const y of s)p=p*1024n+BigInt(y);try{const y=(1n<<BigInt(h))-1n;if(p>y)throw new Error("Invalid mnemonic padding");const m=new Uint8Array(d);for(let E=0;E<d;E++)m[d-1-E]=Number(p&0xffn),p>>=8n;return{metadata:a,encryptedSecret:m}}catch{throw new Error("Invalid mnemonic padding")}}function i6(e){if(e.length!==16&&e.length!==32)throw new Error("Master secret must be 16 bytes (128-bit) or 32 bytes (256-bit)");const i=$4(),a=0,s=!1,u="",c=new Uint8Array(2);c[0]=i>>8&255,c[1]=i&255;const h=Q4(e,u,a,i,s);return e6({identifier:i,iterationExponent:a,groupIndex:0,groupThreshold:1,groupCount:1,memberIndex:0,memberThreshold:1},h).join(" ")}function Yb(e){try{const i=e.trim().split(/\s+/);if(i.length!==20&&i.length!==33)return!1;for(const c of i)if(!Ko.has(c.toLowerCase()))return!1;const a=i.map(c=>Ko.get(c.toLowerCase())),u=(a[1]>>4&1)===1?"shamir_extendable":"shamir";return P4(u,a)}catch{return!1}}function r6(e){const i=e.trim().split(/\s+/);if(i.length!==20&&i.length!==33)throw new Error(`Invalid mnemonic length: ${i.length} words`);const{metadata:a,encryptedSecret:s}=n6(i),{identifier:u,iterationExponent:c}=a;return W4(s,"",c,u,a.extendable)}aE(lb);const _1={private:76066276,public:76067358};function Tr(){const e=ic();return _l[e].bitcoinNetwork}function Fb(){const e=Tr();return{private:e.bip32.private,public:e.bip32.public}}function dd(e){const i=Fb();if(e.startsWith("tpub")||e.startsWith("tprv"))return Gn.fromExtendedKey(e,i);if(e.startsWith("xpub")||e.startsWith("xprv"))return Gn.fromExtendedKey(e,_1);try{return Gn.fromExtendedKey(e,i)}catch{return Gn.fromExtendedKey(e,_1)}}function a6(){const e=new Uint8Array(16);return crypto.getRandomValues(e),i6(e)}async function en(e){const i=await r6(e);return Gn.fromMasterSeed(i,Fb())}function zi(e,i,a,s=0){const u=`${Tl}/${i}'/${s}/${a}`,c=e.derive(u);if(!c.publicKey)throw new Error("Failed to derive public key");const h=ce.Buffer.from(c.publicKey);return ra({internalPubkey:h.slice(1,33),network:Tr()}).address}function s6(e,i,a,s=0){const u=`${Tl}/${i}'/${s}/${a}`,c=e.derive(u);if(!c.privateKey)throw new Error("Failed to derive private key");return ce.Buffer.from(c.privateKey)}function ni(e,i,a,s=0,u=0){return Qd(e,i,a,s,u).address}function Qd(e,i,a,s=0,u=0){const c=dd(e),h=dd(i),d=c.deriveChild(u).deriveChild(s).deriveChild(a),p=h.deriveChild(u).deriveChild(s).deriveChild(a);if(!d.publicKey||!p.publicKey)throw new Error("Failed to derive multisig child keys");const y=Ol({m:2,pubkeys:[ce.Buffer.from(d.publicKey),ce.Buffer.from(p.publicKey)].sort(ce.Buffer.compare),network:Tr()}),m=rs({redeem:y,network:Tr()});if(!m.address)throw new Error("Failed to derive inheritance address");if(!m.output||!y.output)throw new Error("Failed to derive inheritance script");return{address:m.address,output:ce.Buffer.from(m.output),witnessScript:ce.Buffer.from(y.output)}}function l6(e){const i=dd(e);if(!i.publicExtendedKey)throw new Error("Kl neobsahuje veejnou extended st");return i.publicExtendedKey}aE(lb);const ns=10,u6="criminal senior academic academic alto sled saver seafood screw beam gather stilt clock flavor pencil divorce civil loan training ranked";let mo=null;async function uc(){return mo||(mo=en(u6).then(e=>{const i=Ki(e);return{fingerprint:i.fingerprint,xpub:i.xpub,derivationPath:i.derivationPath,masterKey:e}}).catch(e=>{throw mo=null,e})),mo}function Wd(e){return(e>>>0).toString(16).padStart(8,"0")}function Ki(e){const i=`${Tl}/0'`,a=e.derive(i);if(!a.publicExtendedKey)throw new Error("Nepodailo se vytvoit lokln tpub");return{fingerprint:Wd(e.fingerprint),xpub:a.publicExtendedKey,derivationPath:i}}function o6(e,i,a,s){const u=[`${e}:${i}`,`${a}:${s}`].sort().join("|");return`inheritance-${qb(u).toString(16).padStart(8,"0")}`}function qb(e){let i=2166136261;for(let a=0;a<e.length;a++)i^=e.charCodeAt(a),i=Math.imul(i,16777619);return i>>>0}function Pb(e){return qb(e)%2147483646+1}function Go(e){return e.fundingBranch??Pb(e.id)}async function c6(e){const i=await en(e);return Wd(i.fingerprint)}async function f6(e){const i=await en(e),a=Ki(i);return{fingerprint:a.fingerprint,tpub:a.xpub,derivationPath:a.derivationPath}}function h6(e){return e.trim().toLowerCase().replace(/^0x/,"").padStart(8,"0")}function d6(e){return e.replace(/\s+/g,"").trim()}function p6(e){const i=h6(e.fingerprint);if(!/^[0-9a-f]{8}$/i.test(i))throw new Error("Fingerprint protistrany mus mt 8 hex znak");const a=d6(e.xpub);if(!a)throw new Error("tpub/xpub protistrany je przdn");try{return{fingerprint:i,xpub:l6(a)}}catch(s){const u=s instanceof Error?` (${s.message})`:"";throw new Error(`Neplatn xpub/tpub protistrany${u}`)}}function Ml(e,i){const a=e.localRole||"user",s=e.localFingerprint||i.fingerprint,u=e.localXpub||i.xpub,c=e.counterpartyFingerprint||e.heirFingerprint||"",h=e.counterpartyXpub||e.heirXpub||"";return{localRole:a,localXpub:u,counterpartyXpub:h,userFingerprint:a==="user"?s:c,userXpub:a==="user"?u:h,heirFingerprint:a==="heir"?s:c,heirXpub:a==="heir"?u:h}}function y6(e,i,a,s,u){return{userFingerprint:e==="user"?i:s,userXpub:e==="user"?a:u,heirFingerprint:e==="heir"?i:s,heirXpub:e==="heir"?a:u}}function $b(e){return e.role==="funding"}function Zb(e){return e.role!=="funding"}function Nr(e){return e.type!=="inheritance"?!1:e.inheritanceActivated?!0:e.derivedAddresses.some(i=>(i.role==="active"||i.role===void 0)&&(i.used||(i.balance||0)>0))}async function Qb(e){const i=new Set(e.derivedAddresses.map(s=>s.address)),a=new Map;for(const s of e.derivedAddresses){const u=await _T(s.address,i);for(const c of u)a.has(c.txid)||a.set(c.txid,c)}return Array.from(a.values()).sort((s,u)=>u.timestamp-s.timestamp).slice(0,10)}async function Xo(e){return await Promise.all(e.map(async({index:a,address:s})=>{const[u,c]=await Promise.all([Dd(s),kl(s)]),h=c.reduce((d,p)=>d+p.value,0);return{index:a,address:s,totalReceived:u.funded,currentBalance:Math.max(u.balance,h,0),hasUnspent:h>0}}))}function g6(e,i){return{receive:Array.from({length:ns},(a,s)=>({index:s,address:zi(e,i,s,0)})),change:Array.from({length:ns},(a,s)=>({index:s,address:zi(e,i,s,1)}))}}function m6(e,i){return{receive:Array.from({length:ns},(a,s)=>({index:s,address:ni(e,i,s,0)})),change:Array.from({length:ns},(a,s)=>({index:s,address:ni(e,i,s,1)}))}}async function E6(e,i){if(i.type!=="standard")return null;const s=Yn().findIndex(E=>E.id===i.id);if(s===-1)throw new Error("et nebyl nalezen");const u=await en(e),c=`${Tl}/${s}'`,h=u.derive(c),d=g6(u,s),[p,y,m]=await Promise.all([Qb(i),Xo(d.receive),Xo(d.change)]);return{masterFingerprint:Wd(u.fingerprint),accountXpub:h.publicExtendedKey||"",derivationPath:c,transactions:p,receiveAddresses:y,changeAddresses:m}}async function b6(e,i){if(i.type!=="inheritance")return null;const a=await en(e),s=Ki(a),u=Ml(i,s),c=u.counterpartyXpub?m6(u.localXpub,u.counterpartyXpub):{receive:[],change:[]},[h,d,p]=await Promise.all([Qb(i),Xo(c.receive),Xo(c.change)]);return{localRole:u.localRole,userFingerprint:u.userFingerprint,userXpub:u.userXpub,heirFingerprint:u.heirFingerprint,heirXpub:u.heirXpub,derivationPath:i.identityDerivationPath||s.derivationPath,spendingConditions:i.spendingConditions||md,transactions:h,receiveAddresses:d,changeAddresses:p}}async function w6(){const i={mnemonic:a6(),createdAt:Date.now()};return ub(i),await Jd(i.mnemonic,"Mj et"),i}async function v6(e){if(!Yb(e))return null;const a={mnemonic:e,createdAt:Date.now()};return ub(a),await _6(a.mnemonic),Yn().length===0&&await Jd(a.mnemonic,"Mj et"),a}async function Jd(e,i){const a=await en(e),s=Yn(),u=s.length,c=zi(a,u,0),h={id:`account-${Date.now()}`,name:i,type:"standard",balance:0,addressIndex:1,derivedAddresses:[{index:0,address:c,change:!1,used:!1}]};return s.push(h),sa(s),h}async function A6(e,i,a,s="user",u=md){const c=await en(e),h=Yn(),d=Ki(c),p=await uc(),y=p6(a),m=y6(s,d.fingerprint,d.xpub,y.fingerprint,y.xpub),E=o6(d.fingerprint,d.xpub,y.fingerprint,y.xpub),v=Pb(E);let _="",x="";try{_=ni(m.userXpub,p.xpub,0,0,v),x=ni(m.userXpub,m.heirXpub,0,0)}catch(H){const V=H instanceof Error?` (${H.message})`:"";throw new Error(`Neplatn xpub/tpub protistrany${V}`)}const U=h.find(H=>H.id===E);if(U)return U;const C={id:E,name:i,type:"inheritance",balance:0,addressIndex:1,derivedAddresses:[{index:0,address:_,change:!1,used:!1,role:"funding"},{index:0,address:x,change:!1,used:!1,role:"active"}],localRole:s,localFingerprint:d.fingerprint,localXpub:d.xpub,counterpartyFingerprint:y.fingerprint,counterpartyXpub:y.xpub,identityDerivationPath:d.derivationPath,fundingBranch:v,heirFingerprint:y.fingerprint,heirXpub:y.xpub,heirName:a.name,inheritanceActivated:!1,spendingConditions:u,inheritanceStatus:{blocksSinceFunding:0,canUserSpend:!1,canHeirSpend:!1,requiresMultisig:!1}};return h.push(C),sa(h),C}async function S6(e,i){const a=Yn(),s=a.findIndex(x=>x.id===e.id);if(s===-1)return e;const u=await en(i),c=await uc(),h=new Map(e.derivedAddresses.map(x=>[x.address,x])),d=[...e.derivedAddresses];let p=null;const y=x=>{h.has(x.address)||(h.set(x.address,x),d.push(x))};if(e.type==="standard")for(let x=0;x<ns;x++)y({index:x,address:zi(u,s,x,0),change:!1,used:!1}),y({index:x,address:zi(u,s,x,1),change:!0,used:!1});else{const x=Ki(u),U=Ml(e,x),C=Go(e);if(p=new Set,U.heirXpub)for(let H=0;H<ns;H++){const V=ni(U.userXpub,c.xpub,H,0,C),k=ni(U.userXpub,c.xpub,H,1,C);p.add(V),p.add(k),y({index:H,address:V,change:!1,used:!1,role:"funding"}),y({index:H,address:k,change:!0,used:!1,role:"funding"}),y({index:H,address:ni(U.userXpub,U.heirXpub,H,0),change:!1,used:!1,role:"active"}),y({index:H,address:ni(U.userXpub,U.heirXpub,H,1),change:!0,used:!1,role:"active"})}}let m=0;const E=[];for(const x of d){const[U,C]=await Promise.all([Dd(x.address),kl(x.address)]),H=C.reduce((J,P)=>J+P.value,0),V=Math.max(H,U.balance,0),k=e.derivedAddresses.some(J=>J.address===x.address),z=U.funded>0||C.length>0||x.used;e.type==="inheritance"&&x.role==="funding"&&p!==null&&!p.has(x.address)&&!z||!k&&!z||(m+=V,E.push({...x,balance:V,used:z}))}E.sort((x,U)=>{const C=x.change?1:0,H=U.change?1:0;return C!==H?C-H:x.index-U.index});const v=E.filter(x=>!x.change).reduce((x,U)=>Math.max(x,U.index),-1),_={...e,balance:m,addressIndex:Math.max(e.addressIndex,v+1),derivedAddresses:E};if(e.type==="inheritance"){const x=E.some(U=>(U.role==="active"||U.role===void 0)&&(U.used||(U.balance||0)>0));_.inheritanceActivated=!!e.inheritanceActivated||x,_.fundingBranch=Go(e)}return e.type==="inheritance"&&e.spendingConditions&&(_.inheritanceStatus=await x6(e.spendingConditions,E.filter(Zb))),a[s]=_,sa(a),_}async function x6(e,i){const a=i.filter(u=>u.used);let s=0;if(a.length>0){const[u,c]=await Promise.all([AT(),Promise.all(a.map(p=>ST(p.address)))]),h=c.filter(p=>p!==null),d=h.length>0?Math.min(...h):null;u!==null&&d!==null&&(s=Math.max(0,u-d))}return{blocksSinceFunding:s,canUserSpend:s>=e.userOnlyAfterBlocks,canHeirSpend:s>=e.heirOnlyAfterBlocks,requiresMultisig:s>=e.multisigAfterBlocks&&s<e.userOnlyAfterBlocks}}async function _6(e){const i=await en(e);for(let a=0;a<5;a++){const s=zi(i,a,0);await xT(s)>0&&await Jd(e,`et ${a+1}`)}}function T6(e){if(e.type==="inheritance"&&Nr(e))return null;const i=e.type==="inheritance"?e.derivedAddresses.find(a=>!a.change&&!a.used&&$b(a)):e.derivedAddresses.find(a=>!a.change&&!a.used);return i||null}async function N6(e,i){if(i.type==="inheritance"&&Nr(i))throw new Error("Ddick et je aktivovan, dal funding adresy u nelze generovat");const a=await en(e),s=await uc(),u=Yn(),c=u.findIndex(v=>v.id===i.id),h=i.type==="inheritance"?i.derivedAddresses.filter(v=>!v.change&&$b(v)).length:i.derivedAddresses.filter(v=>!v.change).length,d=Ki(a),p=Ml(i,d),y=Go(i),m=i.type==="inheritance"&&p.heirXpub?ni(p.userXpub,s.xpub,h,0,y):zi(a,c,h),E={index:h,address:m,change:!1,used:!1,role:i.type==="inheritance"?"funding":void 0};return i.derivedAddresses.push(E),i.addressIndex=h+1,u[c]=i,sa(u),E}function Eo(e,i,a){const s=10+e*58+i*43;return Math.ceil(s*a)}function pl(e,i,a){const s=12+e*110+i*43;return Math.ceil(s*a)}function U6(e){return e.length===32?e:e.slice(1,33)}function O6(e){let i=ce.Buffer.from(e);const a=Mo(i,!0);if(!a)throw new Error("Invalid private key");if(a[0]===3){const h=ab(i);if(!h)throw new Error("Failed to negate private key");i=ce.Buffer.from(h)}const s=Bl("TapTweak",U6(ce.Buffer.from(a))),u=rb(i,s);if(!u)throw new Error("Failed to tweak private key");const c=Mo(u,!0);if(!c)throw new Error("Failed to derive tweaked public key");return{publicKey:ce.Buffer.from(c),sign:h=>ce.Buffer.from(Md(h,u)),signSchnorr:h=>ce.Buffer.from(sb(h,u))}}function Vo(e){const i=ce.Buffer.from(e),a=Mo(i,!0);if(!a)throw new Error("Invalid private key");return{publicKey:ce.Buffer.from(a),sign:s=>ce.Buffer.from(Md(s,i))}}function B6(e,i){const a=e.find(y=>y.type==="standard");if(!a)throw new Error("Pro change je poteba alespo jeden standardn et");const s=e.findIndex(y=>y.id===a.id);if(s===-1)throw new Error("Hlavn et nebyl nalezen");const u=a.derivedAddresses.filter(y=>!y.change).map(y=>y.index),c=u.length>0?Math.max(...u):-1,h=Math.max(a.addressIndex,c+1),d=zi(i,s,h,0),p=a.derivedAddresses.find(y=>y.address===d);return p?p.used=!0:a.derivedAddresses.push({index:h,address:d,change:!1,used:!0,balance:0}),a.addressIndex=Math.max(a.addressIndex,h+1),d}function t0(e,i){return e.identityDerivationPath||i}function Wb(e,i,a=!1){return(async()=>{const s=[],u=e.derivedAddresses.filter(c=>i==="funding"?c.role==="funding":a?c.role==="active"||c.role===void 0:c.role==="active");for(const c of u){const h=await kl(c.address),d=c.change?1:0;for(const p of h)s.push({txid:p.txid,vout:p.vout,value:p.value,addressIndex:c.index,change:d})}return s})()}function C6(e,i){const a=e.derivedAddresses.filter(d=>d.role==="active"&&!d.change).map(d=>d.index),s=a.length>0?Math.max(...a)+1:0,u=ni(i.userXpub,i.heirXpub,s,0),c=e.derivedAddresses.find(d=>d.address===u);if(c)return c.role="active",c.used=!0,c;const h={index:s,address:u,change:!1,used:!0,balance:0,role:"active"};return e.derivedAddresses.push(h),e.addressIndex=Math.max(e.addressIndex,s+1),h}function R6(e,i){return ce.Buffer.from(e.txInputs[i].hash).reverse().toString("hex")}async function I6(e,i,a,s,u){if(i.type!=="inheritance")throw new Error("Tato funkce je pouze pro ddick et");const c=Tr(),h=Yn(),d=h.findIndex(P=>P.id===i.id);if(d===-1)throw new Error("et nebyl nalezen");const p=h[d];if(!Nr(p))throw new Error("et nen aktivovan. Nejprve aktivujte prostedky.");const y=p.inheritanceStatus;if(!y||!y.requiresMultisig)throw new Error("Spolen utrcen zatm nen dostupn");if(!Number.isInteger(s)||s<=0)throw new Error("Neplatn stka v satech");if(!Number.isFinite(u)||u<=0)throw new Error("Neplatn fee rate");try{Td(a,c)}catch{throw new Error("Neplatn adresa pjemce pro aktivn s")}const m=await en(e),E=Ki(m),v=Ml(p,E);if(!v.counterpartyXpub)throw new Error("Chyb xpub protistrany");const _=await Wb(p,"active",!0);if(_.length===0)throw new Error("dn UTXO k utracen");_.sort((P,ct)=>ct.value-P.value);const x=[];let U=0;const C=330;for(const P of _){x.push(P),U+=P.value;const ct=pl(x.length,2,u);if(U>=s+ct)break;const ut=pl(x.length,1,u);if(U>=s+ut)break}let H=pl(x.length,2,u),V=U-s-H;const k=V>=C;if(k||(H=pl(x.length,1,u),V=U-s-H),V<0)throw new Error("Nedostatek prostedk vetn poplatku");const z=new Jr({network:c});for(const P of x){const ct=Qd(v.userXpub,v.heirXpub,P.addressIndex,P.change);z.addInput({hash:P.txid,index:P.vout,witnessUtxo:{script:ct.output,value:BigInt(P.value)},witnessScript:ct.witnessScript})}z.addOutput({address:a,value:BigInt(s)});let Y="";k&&V>0&&(Y=B6(h,m),z.addOutput({address:Y,value:BigInt(V)}));const J=t0(p,E.derivationPath);for(let P=0;P<x.length;P++){const ct=x[P],ut=m.derive(`${J}/${ct.change}/${ct.addressIndex}`);if(!ut.privateKey)throw new Error("Nepodailo se odvodit privtn kl pro podpis");const Nt=Vo(ce.Buffer.from(ut.privateKey));z.signInput(P,Nt)}return sa(h),{psbt:z.toBase64(),fee:H,changeAmount:Math.max(V,0),changeAddress:Y}}async function H6(e,i,a){if(i.type!=="inheritance")throw new Error("Tato funkce je pouze pro ddick et");const s=Tr(),u=Yn(),c=u.findIndex(x=>x.id===i.id);if(c===-1)throw new Error("et nebyl nalezen");const h=u[c];if(!Nr(h))throw new Error("et nen aktivovan. Nejprve aktivujte prostedky.");const d=await en(e),p=Ki(d),y=t0(h,p.derivationPath),m=Jr.fromBase64(a.trim(),{network:s}),E=new Map;for(const x of h.derivedAddresses.filter(U=>Zb(U))){const U=await kl(x.address),C=x.change?1:0;for(const H of U)E.set(`${H.txid}:${H.vout}`,{index:x.index,change:C})}if(E.size===0)throw new Error("dn dostupn UTXO pro dopodepsn");for(let x=0;x<m.txInputs.length;x++){const U=R6(m,x),C=m.txInputs[x].index,H=E.get(`${U}:${C}`);if(!H)throw new Error("PSBT obsahuje vstup, kter nepat tomuto ddickmu tu");const V=d.derive(`${y}/${H.change}/${H.index}`);if(!V.privateKey)throw new Error("Nepodailo se odvodit privtn kl pro dopodepsn");const k=Vo(ce.Buffer.from(V.privateKey));m.signInput(x,k)}m.finalizeAllInputs();const v=m.extractTransaction().toHex();return await zd(v)}async function k6(e,i,a){if(i.type!=="inheritance")throw new Error("Aktivace je dostupn pouze pro ddick et");if(!Number.isFinite(a)||a<=0)throw new Error("Neplatn fee rate");const s=Tr(),u=Yn(),c=u.findIndex(z=>z.id===i.id);if(c===-1)throw new Error("et nebyl nalezen");const h=u[c];if(Nr(h))throw new Error("et je u aktivovan");const d=await en(e),p=Ki(d),y=Ml(h,p),m=await uc(),E=Go(h),v=await Wb(h,"funding");if(v.length===0)throw new Error("Na funding adresch nejsou prostedky k aktivaci");const _=v.reduce((z,Y)=>z+Y.value,0),x=pl(v.length,1,a),U=_-x;if(U<=330)throw new Error("Nedostatek prostedk po odeten poplatku");const C=C6(h,y),H=new Jr({network:s});for(const z of v){const Y=Qd(y.userXpub,m.xpub,z.addressIndex,z.change,E);H.addInput({hash:z.txid,index:z.vout,witnessUtxo:{script:Y.output,value:BigInt(z.value)},witnessScript:Y.witnessScript})}H.addOutput({address:C.address,value:BigInt(U)});const V=t0(h,p.derivationPath);for(let z=0;z<v.length;z++){const Y=v[z],J=d.derive(`${V}/${E}/${Y.change}/${Y.addressIndex}`);if(!J.privateKey)throw new Error("Nepodailo se odvodit lokln kl pro aktivaci");H.signInput(z,Vo(ce.Buffer.from(J.privateKey)));const P=m.masterKey.derive(`${m.derivationPath}/${E}/${Y.change}/${Y.addressIndex}`);if(!P.privateKey)throw new Error("Nepodailo se odvodit server kl pro aktivaci");H.signInput(z,Vo(ce.Buffer.from(P.privateKey)))}H.finalizeAllInputs();const k=await zd(H.extractTransaction().toHex());return h.inheritanceActivated=!0,sa(u),{txid:k,movedAmount:U,fee:x,destination:C.address}}async function M6(e,i,a,s,u){if(i.type==="inheritance")throw new Error("Utrcen z ddickho tu zatm nen implementovno podle timelock podmnek.");const c=Tr(),h=Yn(),d=h.findIndex(J=>J.id===i.id);if(d===-1)throw new Error("et nebyl nalezen");if(!Number.isInteger(s)||s<=0)throw new Error("Neplatn stka v satech");if(!Number.isFinite(u)||u<=0)throw new Error("Neplatn fee rate");try{Td(a,c)}catch{throw new Error("Neplatn adresa pjemce pro aktivn s")}const p=await en(e),y=[];for(const J of i.derivedAddresses){const P=await kl(J.address),ct=J.change?1:0;for(const ut of P)y.push({txid:ut.txid,vout:ut.vout,value:ut.value,addressIndex:J.index,change:ct})}if(y.length===0)throw new Error("dn UTXO k utracen");y.sort((J,P)=>P.value-J.value);const m=[];let E=0;const v=330;for(const J of y){m.push(J),E+=J.value;const P=Eo(m.length,2,u);if(E>=s+P)break;const ct=Eo(m.length,1,u);if(E>=s+ct)break}let _=Eo(m.length,2,u),x=E-s-_;const U=x>=v;if(U||(_=Eo(m.length,1,u),x=E-s-_),x<0)throw new Error("Nedostatek prostedk vetn poplatku");const C=new Jr({network:c});for(const J of m){const P=`${Tl}/${d}'/${J.change}/${J.addressIndex}`,ct=p.derive(P);if(!ct.publicKey)throw new Error("Nepodailo se odvodit veejn kl pro vstup");const ut=ce.Buffer.from(ct.publicKey).slice(1,33),Nt=ra({internalPubkey:ut,network:c});if(!Nt.output)throw new Error("Nepodailo se vytvoit output script");C.addInput({hash:J.txid,index:J.vout,witnessUtxo:{script:Nt.output,value:BigInt(J.value)},tapInternalKey:ut})}C.addOutput({address:a,value:BigInt(s)});const H=h[d],V=H.derivedAddresses.filter(J=>J.change).sort((J,P)=>J.index-P.index);let k=V.find(J=>!J.used);if(!k){const J=V.length>0?Math.max(...V.map(ct=>ct.index))+1:0,P=zi(p,d,J,1);k={index:J,address:P,change:!0,used:!1,balance:0},H.derivedAddresses.push(k)}U&&x>0&&(C.addOutput({address:k.address,value:BigInt(x)}),k.used=!0);for(let J=0;J<m.length;J++){const P=m[J],ct=s6(p,d,P.addressIndex,P.change),ut=O6(ct);C.signInput(J,ut)}C.finalizeAllInputs();const z=C.extractTransaction().toHex(),Y=await zd(z);return sa(h),Y}const D6=5;function T1(e){return e===1?"blok":e>=2&&e<=4?"bloky":"blok"}function z6(e,i,a,s){const u=Math.max(0,s.multisigAfterBlocks-a),c=i==="user"?s.userOnlyAfterBlocks:s.heirOnlyAfterBlocks,h=Math.max(0,c-a);if(!e)return{disabled:!0,reason:"Nejdv aktivujte et. Odpoet blok zane a po aktivaci."};if(h===0)return{disabled:!1,reason:"Odesln je dostupn i samostatn."};if(u>0){const d=i==="user"?"ddicem":"uivatelem";return{disabled:!0,reason:`Za ${u} ${T1(u)} s ${d}.`}}return{disabled:!1,reason:`Spolen odesln je mon hned. Za ${h} ${T1(h)} pjde odeslat samostatn.`}}function L6({account:e,mnemonic:i,onBack:a,onRefresh:s,onReceive:u,onSend:c}){const[h,d]=Et.useState(null),[p,y]=Et.useState(null),[m,E]=Et.useState(!1),[v,_]=Et.useState(!1),[x,U]=Et.useState(!0),[C,H]=Et.useState(!1),[V,k]=Et.useState(""),[z,Y]=Et.useState(""),J=e.type==="standard",P=e.type==="inheritance",ct=Et.useCallback(async()=>{if(U(!0),J){const nt=await E6(i,e);d(nt),y(null)}else{const nt=await b6(i,e);y(nt),d(null)}U(!1)},[e,J,i]);Et.useEffect(()=>{const nt=window.setTimeout(()=>{ct()},0);return()=>{window.clearTimeout(nt)}},[ct]),Et.useEffect(()=>{E(!1),_(!1)},[e.id]);const ut=J?h?.transactions??[]:p?.transactions??[],Nt=J?h?.receiveAddresses??[]:p?.receiveAddresses??[],Ut=J?h?.changeAddresses??[]:p?.changeAddresses??[],yt=P&&p?z6(Nr(e),p.localRole,e.inheritanceStatus?.blocksSinceFunding||0,p.spendingConditions):null,$=P?e.derivedAddresses.filter(nt=>nt.role==="funding").reduce((nt,N)=>nt+(N.balance||0),0):0,Z=P&&Nr(e),Q=P&&Z,I=P&&!Z&&$>0,q=P&&!Z&&$<=0,rt=async()=>{if(P){k(""),Y(""),H(!0);try{const nt=await k6(i,e,D6);k(`Aktivace hotov. Pesunuto ${nt.movedAmount.toLocaleString("cs-CZ")} sats na ddick et. TXID: ${nt.txid.slice(0,12)}`),await s(),await ct()}catch(nt){const N=nt instanceof Error?nt.message:"Aktivace selhala";Y(N)}finally{H(!1)}}},lt=(nt,N)=>O.jsxs("div",{className:"address-audit-block",children:[O.jsx("h4",{children:nt}),N.length===0&&O.jsx("div",{className:"detail-loading",children:"Bez dat."}),N.map(L=>O.jsxs("div",{className:"address-audit-item",children:[O.jsxs("div",{className:"address-audit-head",children:[O.jsxs("span",{children:["#",L.index]}),O.jsx("span",{className:`audit-badge ${L.hasUnspent?"yes":"no"}`,children:L.hasUnspent?"M zstatek":"Bez zstatku"})]}),O.jsx("div",{className:"mono wrap address-audit-address",children:L.address}),O.jsxs("div",{className:"address-audit-stats",children:[O.jsxs("span",{children:["Poslno celkem: ",L.totalReceived.toLocaleString("cs-CZ")," sats"]}),O.jsxs("span",{children:["Zbv: ",L.currentBalance.toLocaleString("cs-CZ")," sats"]})]})]},`${nt}-${L.index}`))]});return O.jsxs("div",{className:"account-detail-page",children:[O.jsxs("div",{className:"account-detail-header",children:[O.jsx("button",{className:"back-btn",onClick:a,children:" Zpt"}),O.jsx("button",{className:"refresh-btn",title:"Obnovit",onClick:async()=>{await s(),await ct()},children:""})]}),O.jsxs("div",{className:"detail-balance-card",children:[O.jsx("div",{className:"detail-account-name",children:e.name}),O.jsx("div",{className:"detail-account-type",children:e.type==="standard"?"Standardn et":"Ddick et"}),O.jsxs("div",{className:"detail-account-balance",children:[e.balance.toLocaleString("cs-CZ")," sats"]})]}),O.jsxs("div",{className:`detail-action-row ${J||I?"":"single"}`,children:[J&&O.jsx("button",{className:"detail-action-btn receive",onClick:()=>u(e),children:"Pijmout prostedky"}),J&&O.jsx("button",{className:"detail-action-btn send",onClick:()=>c(e),children:"Odeslat"}),q&&O.jsx("button",{className:"detail-action-btn receive",onClick:()=>u(e),children:"Pijmout"}),I&&O.jsxs(O.Fragment,{children:[O.jsx("button",{className:"detail-action-btn activate",disabled:C,onClick:rt,title:"Pesunout prostedky z uivatel+server multisigu do ddickho tu",children:C?"Aktivace...":"Aktivovat"}),O.jsx("button",{className:"detail-action-btn receive secondary",onClick:()=>u(e),children:"Pijmout dal prostedky"})]}),Q&&O.jsx("button",{className:"detail-action-btn send",onClick:()=>c(e),disabled:yt?.disabled??!0,title:yt?.reason||"Odesln zatm nen dostupn",children:"Odeslat"})]}),e.type==="inheritance"&&Z&&yt&&O.jsx("div",{className:"detail-send-hint",children:yt.reason}),e.type==="inheritance"&&Z&&O.jsx("div",{className:"detail-send-hint",children:"Receive je po aktivaci uzaven. Nov prostedky u nelze pidvat."}),e.type==="inheritance"&&I&&O.jsx(O.Fragment,{children:O.jsx("div",{className:"detail-send-hint",children:`ek na aktivaci: ${$.toLocaleString("cs-CZ")} sats`})}),V&&O.jsx("div",{className:"detail-inline-message success",children:V}),z&&O.jsx("div",{className:"detail-inline-message error",children:z}),O.jsxs("div",{className:"detail-info-card",children:[O.jsxs("button",{type:"button",className:"detail-collapse-btn",onClick:()=>E(nt=>!nt),children:[O.jsx("h3",{children:"Informace o tu"}),O.jsx("span",{children:m?"":"+"})]}),m&&x&&O.jsx("div",{className:"detail-loading",children:"Natn detail..."}),m&&!x&&e.type==="standard"&&h&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"detail-row",children:[O.jsx("span",{children:"Fingerprint"}),O.jsx("span",{className:"mono",children:h.masterFingerprint})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"Derivan cesta"}),O.jsx("span",{className:"mono",children:h.derivationPath})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"tpub (account extended public key)"}),O.jsx("span",{className:"mono wrap",children:h.accountXpub})]})]}),m&&!x&&e.type==="inheritance"&&p&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"detail-row",children:[O.jsx("span",{children:"Moje role"}),O.jsx("span",{children:p.localRole==="user"?"Uivatel":"Ddic"})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"Derivan cesta"}),O.jsx("span",{className:"mono",children:p.derivationPath})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"Fingerprint uivatele"}),O.jsx("span",{className:"mono",children:p.userFingerprint})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"Fingerprint ddice"}),O.jsx("span",{className:"mono",children:p.heirFingerprint})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"tpub uivatele"}),O.jsx("span",{className:"mono wrap",children:p.userXpub})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"tpub ddice"}),O.jsx("span",{className:"mono wrap",children:p.heirXpub})]}),O.jsxs("div",{className:"timelock-box",children:[O.jsxs("div",{children:["0",p.spendingConditions.noSpendBlocks-1," ","blok: nikdo"]}),O.jsxs("div",{children:["od ",p.spendingConditions.multisigAfterBlocks," ","blok: uivatel + ddic"]}),O.jsxs("div",{children:["od ",p.spendingConditions.userOnlyAfterBlocks," ","blok: uivatel"]}),O.jsxs("div",{children:["od ",p.spendingConditions.heirOnlyAfterBlocks," ","blok: ddic"]})]})]})]}),O.jsxs("div",{className:"detail-info-card",children:[O.jsx("h3",{children:"Transakn historie"}),!x&&ut.length===0&&O.jsx("div",{className:"detail-loading",children:"Zatm bez transakc."}),ut.map(nt=>O.jsxs("div",{className:"tx-item",children:[O.jsxs("div",{className:"tx-main-row",children:[O.jsx("span",{className:`tx-type ${nt.type==="incoming"?"in":"out"}`,children:nt.type==="incoming"?"Pchoz":"Odchoz"}),O.jsxs("span",{className:"tx-amount",children:[nt.amount.toLocaleString("cs-CZ")," sats"]})]}),O.jsxs("div",{className:"tx-sub-row",children:[O.jsxs("span",{className:"mono",children:[nt.txid.slice(0,10),""]}),O.jsx("span",{children:new Date(nt.timestamp*1e3).toLocaleString("cs-CZ")})]})]},nt.txid))]}),O.jsxs("div",{className:"detail-info-card",children:[O.jsxs("button",{type:"button",className:"detail-collapse-btn",onClick:()=>_(nt=>!nt),children:[O.jsx("h3",{children:"Kontrola adres (prvnch 10)"}),O.jsx("span",{children:v?"":"+"})]}),v&&x&&O.jsx("div",{className:"detail-loading",children:"Natn adres..."}),v&&!x&&O.jsxs("div",{className:"address-audit-grid",children:[lt("Receive adresy",Nt),lt("Change adresy",Ut)]})]})]})}function j6({mnemonic:e,onClose:i}){const[a,s]=Et.useState("user"),[u,c]=Et.useState("Ddick et"),[h,d]=Et.useState(""),[p,y]=Et.useState(""),[m,E]=Et.useState(!1),[v,_]=Et.useState(""),[x,U]=Et.useState(null);Et.useEffect(()=>{const H=window.setTimeout(()=>{f6(e).then(V=>U(V)).catch(()=>{_("Nepodailo se nast lokln identitu")})},0);return()=>{window.clearTimeout(H)}},[e]);const C=async()=>{_("");const H=h.trim().replace(/^0x/,""),V=p.replace(/\s+/g,"").trim();if(!u.trim()){_("Zadejte nzev tu");return}if(!/^[0-9a-fA-F]{8}$/.test(H)){_("Fingerprint ddice mus mt 8 hex znak");return}if(!V){_("Zadejte tpub/xpub ddice");return}E(!0);try{await A6(e,u.trim(),{id:`heir-${Date.now()}`,name:a==="user"?"Ddic":"Uivatel",fingerprint:H,xpub:V},a,md),i()}catch(k){const z=k instanceof Error?k.message:"Chyba pi vytven ddickho tu";_(z)}finally{E(!1)}};return O.jsx("div",{className:"modal-overlay",onClick:i,children:O.jsxs("div",{className:"modal-content modal-large",onClick:H=>H.stopPropagation(),children:[O.jsxs("div",{className:"modal-header",children:[O.jsx("h2",{children:"Pidat ddick et"}),O.jsx("button",{className:"modal-close",onClick:i,children:""})]}),O.jsxs("div",{className:"modal-body",children:[O.jsx("p",{className:"step-description",children:"Zadejte daje protistrany. Pokud ob strany pouij stejn pr fingerprint+tpub, vznikne stejn spolen et. Podmnky: 04 bloky nikdo, od 5 blok uivatel + ddic, od 10 blok uivatel, od 20 blok ddic."}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Moje role"}),O.jsxs("div",{className:"fee-options",children:[O.jsx("button",{type:"button",className:`fee-btn ${a==="user"?"active":""}`,onClick:()=>s("user"),children:"Jsem uivatel"}),O.jsx("button",{type:"button",className:`fee-btn ${a==="heir"?"active":""}`,onClick:()=>s("heir"),children:"Jsem ddic"})]})]}),x&&O.jsxs("div",{className:"summary-box",children:[O.jsx("h4",{children:"Moje daje ke sdlen"}),O.jsxs("div",{className:"summary-item",children:[O.jsx("span",{children:"Fingerprint"}),O.jsx("span",{children:x.fingerprint})]}),O.jsxs("div",{className:"summary-item",children:[O.jsx("span",{children:"Derivan cesta"}),O.jsx("span",{children:x.derivationPath})]}),O.jsxs("div",{className:"summary-item mono",children:[O.jsx("span",{children:"tpub"}),O.jsxs("span",{children:[x.tpub.slice(0,32),""]})]})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Nzev tu"}),O.jsx("input",{type:"text",value:u,onChange:H=>c(H.target.value),className:"form-input"})]}),O.jsxs("div",{className:"form-group",children:[O.jsxs("label",{children:["Fingerprint protistrany (",a==="user"?"ddice":"uivatele",")"]}),O.jsx("input",{type:"text",value:h,onChange:H=>d(H.target.value),placeholder:"nap. d90c6a4f",className:"form-input"})]}),O.jsxs("div",{className:"form-group",children:[O.jsxs("label",{children:["tpub protistrany (",a==="user"?"ddice":"uivatele",")"]}),O.jsx("textarea",{value:p,onChange:H=>y(H.target.value),placeholder:"tpub...",className:"form-input",rows:3})]}),v&&O.jsx("div",{className:"error-message",children:v}),O.jsx("button",{onClick:C,disabled:m||!h||!p,className:"btn-primary btn-full",children:m?"Vytven...":"Vytvoit spolen et"})]})]})})}function K6({mnemonic:e,network:i,onNetworkChange:a,onLogout:s}){const[u,c]=Et.useState(!1),[h,d]=Et.useState(!1),p=()=>{navigator.clipboard.writeText(e),d(!0),setTimeout(()=>d(!1),2e3),c(!1)},y=()=>{wT(),s()},m=()=>{a(i==="testnet"?"signet":"testnet"),c(!1)};return O.jsxs("div",{className:"menu-bar",children:[O.jsxs("div",{className:"menu-title",children:["Bitcoin ",_l[i].label]}),O.jsxs("div",{className:"menu-container",children:[O.jsxs("button",{className:"menu-button",onClick:()=>c(!u),children:[O.jsx("span",{}),O.jsx("span",{}),O.jsx("span",{})]}),u&&O.jsxs("div",{className:"menu-dropdown",children:[O.jsxs("button",{onClick:p,className:"menu-item",children:[O.jsx("span",{className:"menu-icon",children:""}),h?"Zkoprovno!":"Zkoprovat seed"]}),O.jsxs("button",{onClick:m,className:"menu-item",children:[O.jsx("span",{className:"menu-icon",children:""}),"Pepnout na ",i==="testnet"?"Signet":"Testnet"]}),O.jsxs("button",{onClick:y,className:"menu-item menu-item-danger",children:[O.jsx("span",{className:"menu-icon",children:""}),"Odhlsit se"]})]})]}),u&&O.jsx("div",{className:"menu-overlay",onClick:()=>c(!1)})]})}var G6=Object.defineProperty,Yo=Object.getOwnPropertySymbols,Jb=Object.prototype.hasOwnProperty,tw=Object.prototype.propertyIsEnumerable,N1=(e,i,a)=>i in e?G6(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a,pd=(e,i)=>{for(var a in i||(i={}))Jb.call(i,a)&&N1(e,a,i[a]);if(Yo)for(var a of Yo(i))tw.call(i,a)&&N1(e,a,i[a]);return e},yd=(e,i)=>{var a={};for(var s in e)Jb.call(e,s)&&i.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&Yo)for(var s of Yo(e))i.indexOf(s)<0&&tw.call(e,s)&&(a[s]=e[s]);return a};var na;(e=>{const i=class Ht{constructor(p,y,m,E){if(this.version=p,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],p<Ht.MIN_VERSION||p>Ht.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let v=[];for(let x=0;x<this.size;x++)v.push(!1);for(let x=0;x<this.size;x++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const _=this.addEccAndInterleave(m);if(this.drawCodewords(_),E==-1){let x=1e9;for(let U=0;U<8;U++){this.applyMask(U),this.drawFormatBits(U);const C=this.getPenaltyScore();C<x&&(E=U,x=C),this.applyMask(U)}}u(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(p,y){const m=e.QrSegment.makeSegments(p);return Ht.encodeSegments(m,y)}static encodeBinary(p,y){const m=e.QrSegment.makeBytes(p);return Ht.encodeSegments([m],y)}static encodeSegments(p,y,m=1,E=40,v=-1,_=!0){if(!(Ht.MIN_VERSION<=m&&m<=E&&E<=Ht.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let x,U;for(x=m;;x++){const k=Ht.getNumDataCodewords(x,y)*8,z=h.getTotalBits(p,x);if(z<=k){U=z;break}if(x>=E)throw new RangeError("Data too long")}for(const k of[Ht.Ecc.MEDIUM,Ht.Ecc.QUARTILE,Ht.Ecc.HIGH])_&&U<=Ht.getNumDataCodewords(x,k)*8&&(y=k);let C=[];for(const k of p){a(k.mode.modeBits,4,C),a(k.numChars,k.mode.numCharCountBits(x),C);for(const z of k.getData())C.push(z)}u(C.length==U);const H=Ht.getNumDataCodewords(x,y)*8;u(C.length<=H),a(0,Math.min(4,H-C.length),C),a(0,(8-C.length%8)%8,C),u(C.length%8==0);for(let k=236;C.length<H;k^=253)a(k,8,C);let V=[];for(;V.length*8<C.length;)V.push(0);return C.forEach((k,z)=>V[z>>>3]|=k<<7-(z&7)),new Ht(x,y,V,v)}getModule(p,y){return 0<=p&&p<this.size&&0<=y&&y<this.size&&this.modules[y][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),y=p.length;for(let m=0;m<y;m++)for(let E=0;E<y;E++)m==0&&E==0||m==0&&E==y-1||m==y-1&&E==0||this.drawAlignmentPattern(p[m],p[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const y=this.errorCorrectionLevel.formatBits<<3|p;let m=y;for(let v=0;v<10;v++)m=m<<1^(m>>>9)*1335;const E=(y<<10|m)^21522;u(E>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,s(E,v));this.setFunctionModule(8,7,s(E,6)),this.setFunctionModule(8,8,s(E,7)),this.setFunctionModule(7,8,s(E,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,s(E,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,s(E,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,s(E,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let m=0;m<12;m++)p=p<<1^(p>>>11)*7973;const y=this.version<<12|p;u(y>>>18==0);for(let m=0;m<18;m++){const E=s(y,m),v=this.size-11+m%3,_=Math.floor(m/3);this.setFunctionModule(v,_,E),this.setFunctionModule(_,v,E)}}drawFinderPattern(p,y){for(let m=-4;m<=4;m++)for(let E=-4;E<=4;E++){const v=Math.max(Math.abs(E),Math.abs(m)),_=p+E,x=y+m;0<=_&&_<this.size&&0<=x&&x<this.size&&this.setFunctionModule(_,x,v!=2&&v!=4)}}drawAlignmentPattern(p,y){for(let m=-2;m<=2;m++)for(let E=-2;E<=2;E++)this.setFunctionModule(p+E,y+m,Math.max(Math.abs(E),Math.abs(m))!=1)}setFunctionModule(p,y,m){this.modules[y][p]=m,this.isFunction[y][p]=!0}addEccAndInterleave(p){const y=this.version,m=this.errorCorrectionLevel;if(p.length!=Ht.getNumDataCodewords(y,m))throw new RangeError("Invalid argument");const E=Ht.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][y],v=Ht.ECC_CODEWORDS_PER_BLOCK[m.ordinal][y],_=Math.floor(Ht.getNumRawDataModules(y)/8),x=E-_%E,U=Math.floor(_/E);let C=[];const H=Ht.reedSolomonComputeDivisor(v);for(let k=0,z=0;k<E;k++){let Y=p.slice(z,z+U-v+(k<x?0:1));z+=Y.length;const J=Ht.reedSolomonComputeRemainder(Y,H);k<x&&Y.push(0),C.push(Y.concat(J))}let V=[];for(let k=0;k<C[0].length;k++)C.forEach((z,Y)=>{(k!=U-v||Y>=x)&&V.push(z[k])});return u(V.length==_),V}drawCodewords(p){if(p.length!=Math.floor(Ht.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let E=0;E<this.size;E++)for(let v=0;v<2;v++){const _=m-v,U=(m+1&2)==0?this.size-1-E:E;!this.isFunction[U][_]&&y<p.length*8&&(this.modules[U][_]=s(p[y>>>3],7-(y&7)),y++)}}u(y==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let m=0;m<this.size;m++){let E;switch(p){case 0:E=(m+y)%2==0;break;case 1:E=y%2==0;break;case 2:E=m%3==0;break;case 3:E=(m+y)%3==0;break;case 4:E=(Math.floor(m/3)+Math.floor(y/2))%2==0;break;case 5:E=m*y%2+m*y%3==0;break;case 6:E=(m*y%2+m*y%3)%2==0;break;case 7:E=((m+y)%2+m*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][m]&&E&&(this.modules[y][m]=!this.modules[y][m])}}getPenaltyScore(){let p=0;for(let v=0;v<this.size;v++){let _=!1,x=0,U=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[v][C]==_?(x++,x==5?p+=Ht.PENALTY_N1:x>5&&p++):(this.finderPenaltyAddHistory(x,U),_||(p+=this.finderPenaltyCountPatterns(U)*Ht.PENALTY_N3),_=this.modules[v][C],x=1);p+=this.finderPenaltyTerminateAndCount(_,x,U)*Ht.PENALTY_N3}for(let v=0;v<this.size;v++){let _=!1,x=0,U=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][v]==_?(x++,x==5?p+=Ht.PENALTY_N1:x>5&&p++):(this.finderPenaltyAddHistory(x,U),_||(p+=this.finderPenaltyCountPatterns(U)*Ht.PENALTY_N3),_=this.modules[C][v],x=1);p+=this.finderPenaltyTerminateAndCount(_,x,U)*Ht.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let _=0;_<this.size-1;_++){const x=this.modules[v][_];x==this.modules[v][_+1]&&x==this.modules[v+1][_]&&x==this.modules[v+1][_+1]&&(p+=Ht.PENALTY_N2)}let y=0;for(const v of this.modules)y=v.reduce((_,x)=>_+(x?1:0),y);const m=this.size*this.size,E=Math.ceil(Math.abs(y*20-m*10)/m)-1;return u(0<=E&&E<=9),p+=E*Ht.PENALTY_N4,u(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let m=[6];for(let E=this.size-7;m.length<p;E-=y)m.splice(1,0,E);return m}}static getNumRawDataModules(p){if(p<Ht.MIN_VERSION||p>Ht.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*p+128)*p+64;if(p>=2){const m=Math.floor(p/7)+2;y-=(25*m-10)*m-55,p>=7&&(y-=36)}return u(208<=y&&y<=29648),y}static getNumDataCodewords(p,y){return Math.floor(Ht.getNumRawDataModules(p)/8)-Ht.ECC_CODEWORDS_PER_BLOCK[y.ordinal][p]*Ht.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let y=[];for(let E=0;E<p-1;E++)y.push(0);y.push(1);let m=1;for(let E=0;E<p;E++){for(let v=0;v<y.length;v++)y[v]=Ht.reedSolomonMultiply(y[v],m),v+1<y.length&&(y[v]^=y[v+1]);m=Ht.reedSolomonMultiply(m,2)}return y}static reedSolomonComputeRemainder(p,y){let m=y.map(E=>0);for(const E of p){const v=E^m.shift();m.push(0),y.forEach((_,x)=>m[x]^=Ht.reedSolomonMultiply(_,v))}return m}static reedSolomonMultiply(p,y){if(p>>>8||y>>>8)throw new RangeError("Byte out of range");let m=0;for(let E=7;E>=0;E--)m=m<<1^(m>>>7)*285,m^=(y>>>E&1)*p;return u(m>>>8==0),m}finderPenaltyCountPatterns(p){const y=p[1];u(y<=this.size*3);const m=y>0&&p[2]==y&&p[3]==y*3&&p[4]==y&&p[5]==y;return(m&&p[0]>=y*4&&p[6]>=y?1:0)+(m&&p[6]>=y*4&&p[0]>=y?1:0)}finderPenaltyTerminateAndCount(p,y,m){return p&&(this.finderPenaltyAddHistory(y,m),y=0),y+=this.size,this.finderPenaltyAddHistory(y,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(p,y){y[0]==0&&(p+=this.size),y.pop(),y.unshift(p)}};i.MIN_VERSION=1,i.MAX_VERSION=40,i.PENALTY_N1=3,i.PENALTY_N2=3,i.PENALTY_N3=40,i.PENALTY_N4=10,i.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=i;function a(d,p,y){if(p<0||p>31||d>>>p)throw new RangeError("Value out of range");for(let m=p-1;m>=0;m--)y.push(d>>>m&1)}function s(d,p){return(d>>>p&1)!=0}function u(d){if(!d)throw new Error("Assertion error")}const c=class oe{constructor(p,y,m){if(this.mode=p,this.numChars=y,this.bitData=m,y<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(p){let y=[];for(const m of p)a(m,8,y);return new oe(oe.Mode.BYTE,p.length,y)}static makeNumeric(p){if(!oe.isNumeric(p))throw new RangeError("String contains non-numeric characters");let y=[];for(let m=0;m<p.length;){const E=Math.min(p.length-m,3);a(parseInt(p.substring(m,m+E),10),E*3+1,y),m+=E}return new oe(oe.Mode.NUMERIC,p.length,y)}static makeAlphanumeric(p){if(!oe.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],m;for(m=0;m+2<=p.length;m+=2){let E=oe.ALPHANUMERIC_CHARSET.indexOf(p.charAt(m))*45;E+=oe.ALPHANUMERIC_CHARSET.indexOf(p.charAt(m+1)),a(E,11,y)}return m<p.length&&a(oe.ALPHANUMERIC_CHARSET.indexOf(p.charAt(m)),6,y),new oe(oe.Mode.ALPHANUMERIC,p.length,y)}static makeSegments(p){return p==""?[]:oe.isNumeric(p)?[oe.makeNumeric(p)]:oe.isAlphanumeric(p)?[oe.makeAlphanumeric(p)]:[oe.makeBytes(oe.toUtf8ByteArray(p))]}static makeEci(p){let y=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)a(p,8,y);else if(p<16384)a(2,2,y),a(p,14,y);else if(p<1e6)a(6,3,y),a(p,21,y);else throw new RangeError("ECI assignment value out of range");return new oe(oe.Mode.ECI,0,y)}static isNumeric(p){return oe.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return oe.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,y){let m=0;for(const E of p){const v=E.mode.numCharCountBits(y);if(E.numChars>=1<<v)return 1/0;m+=4+v+E.bitData.length}return m}static toUtf8ByteArray(p){p=encodeURI(p);let y=[];for(let m=0;m<p.length;m++)p.charAt(m)!="%"?y.push(p.charCodeAt(m)):(y.push(parseInt(p.substring(m+1,m+3),16)),m+=2);return y}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=c;e.QrSegment=c})(na||(na={}));(e=>{(i=>{const a=class{constructor(u,c){this.ordinal=u,this.formatBits=c}};a.LOW=new a(0,1),a.MEDIUM=new a(1,0),a.QUARTILE=new a(2,3),a.HIGH=new a(3,2),i.Ecc=a})(e.QrCode||(e.QrCode={}))})(na||(na={}));(e=>{(i=>{const a=class{constructor(u,c){this.modeBits=u,this.numBitsCharCount=c}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};a.NUMERIC=new a(1,[10,12,14]),a.ALPHANUMERIC=new a(2,[9,11,13]),a.BYTE=new a(4,[8,16,16]),a.KANJI=new a(8,[8,10,12]),a.ECI=new a(7,[0,0,0]),i.Mode=a})(e.QrSegment||(e.QrSegment={}))})(na||(na={}));var Qa=na;var X6={L:Qa.QrCode.Ecc.LOW,M:Qa.QrCode.Ecc.MEDIUM,Q:Qa.QrCode.Ecc.QUARTILE,H:Qa.QrCode.Ecc.HIGH},ew=128,nw="L",iw="#FFFFFF",rw="#000000",aw=!1,sw=1,V6=4,Y6=0,F6=.1;function lw(e,i=0){const a=[];return e.forEach(function(s,u){let c=null;s.forEach(function(h,d){if(!h&&c!==null){a.push(`M${c+i} ${u+i}h${d-c}v1H${c+i}z`),c=null;return}if(d===s.length-1){if(!h)return;c===null?a.push(`M${d+i},${u+i} h1v1H${d+i}z`):a.push(`M${c+i},${u+i} h${d+1-c}v1H${c+i}z`);return}h&&c===null&&(c=d)})}),a.join("")}function uw(e,i){return e.slice().map((a,s)=>s<i.y||s>=i.y+i.h?a:a.map((u,c)=>c<i.x||c>=i.x+i.w?u:!1))}function q6(e,i,a,s){if(s==null)return null;const u=e.length+a*2,c=Math.floor(i*F6),h=u/i,d=(s.width||c)*h,p=(s.height||c)*h,y=s.x==null?e.length/2-d/2:s.x*h,m=s.y==null?e.length/2-p/2:s.y*h,E=s.opacity==null?1:s.opacity;let v=null;if(s.excavate){let x=Math.floor(y),U=Math.floor(m),C=Math.ceil(d+y-x),H=Math.ceil(p+m-U);v={x,y:U,w:C,h:H}}const _=s.crossOrigin;return{x:y,y:m,h:p,w:d,excavation:v,opacity:E,crossOrigin:_}}function P6(e,i){return i!=null?Math.max(Math.floor(i),0):e?V6:Y6}function ow({value:e,level:i,minVersion:a,includeMargin:s,marginSize:u,imageSettings:c,size:h,boostLevel:d}){let p=xe.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((U,C)=>(U.push(...Qa.QrSegment.makeSegments(C)),U),[]);return Qa.QrCode.encodeSegments(x,X6[i],a,void 0,void 0,d)},[e,i,a,d]);const{cells:y,margin:m,numCells:E,calculatedImageSettings:v}=xe.useMemo(()=>{let _=p.getModules();const x=P6(s,u),U=_.length+x*2,C=q6(_,h,x,c);return{cells:_,margin:x,numCells:U,calculatedImageSettings:C}},[p,h,c,s,u]);return{qrcode:p,margin:m,cells:y,numCells:E,calculatedImageSettings:v}}var $6=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Z6=xe.forwardRef(function(i,a){const s=i,{value:u,size:c=ew,level:h=nw,bgColor:d=iw,fgColor:p=rw,includeMargin:y=aw,minVersion:m=sw,boostLevel:E,marginSize:v,imageSettings:_}=s,U=yd(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:C}=U,H=yd(U,["style"]),V=_?.src,k=xe.useRef(null),z=xe.useRef(null),Y=xe.useCallback(Z=>{k.current=Z,typeof a=="function"?a(Z):a&&(a.current=Z)},[a]),[J,P]=xe.useState(!1),{margin:ct,cells:ut,numCells:Nt,calculatedImageSettings:Ut}=ow({value:u,level:h,minVersion:m,boostLevel:E,includeMargin:y,marginSize:v,imageSettings:_,size:c});xe.useEffect(()=>{if(k.current!=null){const Z=k.current,Q=Z.getContext("2d");if(!Q)return;let I=ut;const q=z.current,rt=Ut!=null&&q!==null&&q.complete&&q.naturalHeight!==0&&q.naturalWidth!==0;rt&&Ut.excavation!=null&&(I=uw(ut,Ut.excavation));const lt=window.devicePixelRatio||1;Z.height=Z.width=c*lt;const nt=c/Nt*lt;Q.scale(nt,nt),Q.fillStyle=d,Q.fillRect(0,0,Nt,Nt),Q.fillStyle=p,$6?Q.fill(new Path2D(lw(I,ct))):ut.forEach(function(N,L){N.forEach(function(at,st){at&&Q.fillRect(st+ct,L+ct,1,1)})}),Ut&&(Q.globalAlpha=Ut.opacity),rt&&Q.drawImage(q,Ut.x+ct,Ut.y+ct,Ut.w,Ut.h)}}),xe.useEffect(()=>{P(!1)},[V]);const yt=pd({height:c,width:c},C);let $=null;return V!=null&&($=xe.createElement("img",{src:V,key:V,style:{display:"none"},onLoad:()=>{P(!0)},ref:z,crossOrigin:Ut?.crossOrigin})),xe.createElement(xe.Fragment,null,xe.createElement("canvas",pd({style:yt,height:c,width:c,ref:Y,role:"img"},H)),$)});Z6.displayName="QRCodeCanvas";var cw=xe.forwardRef(function(i,a){const s=i,{value:u,size:c=ew,level:h=nw,bgColor:d=iw,fgColor:p=rw,includeMargin:y=aw,minVersion:m=sw,boostLevel:E,title:v,marginSize:_,imageSettings:x}=s,U=yd(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:C,cells:H,numCells:V,calculatedImageSettings:k}=ow({value:u,level:h,minVersion:m,boostLevel:E,includeMargin:y,marginSize:_,imageSettings:x,size:c});let z=H,Y=null;x!=null&&k!=null&&(k.excavation!=null&&(z=uw(H,k.excavation)),Y=xe.createElement("image",{href:x.src,height:k.h,width:k.w,x:k.x+C,y:k.y+C,preserveAspectRatio:"none",opacity:k.opacity,crossOrigin:k.crossOrigin}));const J=lw(z,C);return xe.createElement("svg",pd({height:c,width:c,viewBox:`0 0 ${V} ${V}`,ref:a,role:"img"},U),!!v&&xe.createElement("title",null,v),xe.createElement("path",{fill:d,d:`M0,0 h${V}v${V}H0z`,shapeRendering:"crispEdges"}),xe.createElement("path",{fill:p,d:J,shapeRendering:"crispEdges"}),Y)});cw.displayName="QRCodeSVG";function Q6({account:e,mnemonic:i,onClose:a}){const[s,u]=Et.useState(""),[c,h]=Et.useState(""),[d,p]=Et.useState(!1),y=ic(),m=e.type==="inheritance"&&Nr(e);Et.useEffect(()=>{(async()=>{if(h(""),e.type==="inheritance"&&m){u(""),h("et je aktivovan. Na funding adresy u nelze pijmat dal prostedky.");return}const _=T6(e);if(_)u(_.address);else try{const x=await N6(i,e);u(x.address)}catch(x){const U=x instanceof Error?x.message:"Adresu se nepodailo vytvoit";u(""),h(U)}})()},[e,i,m]);const E=()=>{s&&(navigator.clipboard.writeText(s),p(!0),setTimeout(()=>p(!1),2e3))};return O.jsx("div",{className:"modal-overlay",onClick:a,children:O.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[O.jsxs("div",{className:"modal-header",children:[O.jsx("h2",{children:"Pijmout Bitcoin"}),O.jsx("button",{className:"modal-close",onClick:a,children:""})]}),O.jsxs("div",{className:"modal-body",children:[O.jsx("p",{className:"modal-description",children:e.type==="inheritance"&&m?"et je u aktivovan. Funding fze je uzaven a nov vklady u nepijm.":e.type==="inheritance"?"Tato adresa je funding multisig (uivatel + server). Po pijet prostedk pouijte Aktivovat prostedky pro pesun na ddick et.":"Naskenujte QR kd nebo zkoprujte adresu pro pjem testnet bitcoin"}),O.jsx("div",{className:"qr-container",children:s?O.jsx(cw,{value:s,size:200,level:"M",bgColor:"#ffffff",fgColor:"#000000"}):O.jsx("div",{className:"qr-loading",children:c?"Pjem nen dostupn":"Natn..."})}),O.jsxs("div",{className:"address-box",children:[O.jsx("code",{className:"address-text",children:s||""}),O.jsx("button",{onClick:E,disabled:!s,className:`copy-btn ${d?"copied":""}`,children:d?" Zkoprovno":"Koprovat"})]}),c&&O.jsx("div",{className:"error-message",children:c}),O.jsxs("div",{className:"network-badge",children:[_l[y].label,' adresy zanaj na "tb1..."']})]})]})})}function W6({account:e,mnemonic:i,onClose:a,onSent:s}){const u=e.type==="inheritance",[c,h]=Et.useState(""),[d,p]=Et.useState(""),[y,m]=Et.useState("5"),[E,v]=Et.useState("create"),[_,x]=Et.useState(""),[U,C]=Et.useState(""),[H,V]=Et.useState(!1),[k,z]=Et.useState(""),[Y,J]=Et.useState(""),P=$=>$.startsWith("tb1")||$.startsWith("m")||$.startsWith("n")||$.startsWith("2"),ct=()=>{const $=parseInt(d,10);if(!Number.isInteger($)||$<=0)return z("Zadejte platnou stku v satech"),null;const Z=parseInt(y,10);return Number.isNaN(Z)||Z<=0?(z("Zadejte platn fee"),null):$>e.balance?(z("Nedostatek prostedk"),null):{amountSats:$,feeRate:Z}},ut=async()=>{if(z(""),J(""),!P(c)){z("Neplatn testnet adresa");return}const $=ct();if(!$)return;const{amountSats:Z,feeRate:Q}=$;V(!0);try{const I=await M6(i,e,c,Z,Q);J(`Transakce odeslna. TXID: ${I}`),setTimeout(()=>{s(),a()},2e3)}catch(I){const q=I instanceof Error?I.message:"Chyba pi odesln";z(q)}finally{V(!1)}},Nt=async()=>{if(z(""),J(""),!P(c)){z("Neplatn testnet/signet adresa");return}const $=ct();if($){V(!0);try{const Z=await I6(i,e,c,$.amountSats,$.feeRate);C(Z.psbt),J(Z.changeAddress?`PSBT vytvoeno. Fee: ${Z.fee} sats. Change: ${Z.changeAmount} sats  ${Z.changeAddress}`:`PSBT vytvoeno. Fee: ${Z.fee} sats.`)}catch(Z){const Q=Z instanceof Error?Z.message:"Chyba pi tvorb PSBT";z(Q)}finally{V(!1)}}},Ut=async()=>{if(z(""),J(""),!_.trim()){z("Vlote PSBT k dopodepsn");return}V(!0);try{const $=await H6(i,e,_);J(`Transakce dopodepsna a odeslna. TXID: ${$}`),setTimeout(()=>{s(),a()},2e3)}catch($){const Z=$ instanceof Error?$.message:"Chyba pi dopodepsn PSBT";z(Z)}finally{V(!1)}},yt=async()=>{if(U)try{await navigator.clipboard.writeText(U),J("PSBT zkoprovno do schrnky.")}catch{z("PSBT nelo zkoprovat do schrnky")}};return O.jsx("div",{className:"modal-overlay",onClick:a,children:O.jsxs("div",{className:"modal-content",onClick:$=>$.stopPropagation(),children:[O.jsxs("div",{className:"modal-header",children:[O.jsx("h2",{children:"Odeslat Bitcoin"}),O.jsx("button",{className:"modal-close",onClick:a,children:""})]}),O.jsxs("div",{className:"modal-body",children:[u&&O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Reim ddickho odesln"}),O.jsxs("div",{className:"fee-options",children:[O.jsx("button",{type:"button",onClick:()=>v("create"),className:`fee-btn ${E==="create"?"active":""}`,children:"Vytvoit + podepsat PSBT"}),O.jsx("button",{type:"button",onClick:()=>v("finalize"),className:`fee-btn ${E==="finalize"?"active":""}`,children:"Vloit PSBT a odeslat"})]})]}),(!u||E==="create")&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Adresa pjemce"}),O.jsx("input",{type:"text",value:c,onChange:$=>h($.target.value),placeholder:"tb1...",className:"form-input"})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"stka (sats)"}),O.jsx("input",{type:"text",value:d,onChange:$=>p($.target.value),placeholder:"50000",className:"form-input"}),O.jsxs("div",{className:"input-hint",children:["Dostupn: ",e.balance.toLocaleString("cs-CZ")," sats"]})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Fee (sat/vB)"}),O.jsxs("div",{className:"fee-options",children:[O.jsx("button",{type:"button",onClick:()=>m("1"),className:`fee-btn ${y==="1"?"active":""}`,children:"Slow (1)"}),O.jsx("button",{type:"button",onClick:()=>m("5"),className:`fee-btn ${y==="5"?"active":""}`,children:"Normal (5)"}),O.jsx("button",{type:"button",onClick:()=>m("20"),className:`fee-btn ${y==="20"?"active":""}`,children:"Fast (20)"})]})]})]}),u&&E==="finalize"&&O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"PSBT od protistrany (base64)"}),O.jsx("textarea",{value:_,onChange:$=>x($.target.value),rows:5,className:"form-input",placeholder:"cHNidP8B..."}),O.jsx("div",{className:"input-hint",children:"Vlote sten podepsanou PSBT a odelete na s."})]}),u&&U&&O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Exportovan PSBT"}),O.jsx("textarea",{value:U,rows:5,readOnly:!0,className:"form-input"}),O.jsx("button",{type:"button",className:"btn-secondary btn-full",onClick:yt,children:"Zkoprovat PSBT"})]}),k&&O.jsx("div",{className:"error-message",children:k}),Y&&O.jsx("div",{className:"success-message",children:Y}),!u&&O.jsx("button",{onClick:ut,disabled:H||!c||!d,className:"btn-primary btn-full",children:H?"Odesln...":"Odeslat"}),u&&E==="create"&&O.jsx("button",{onClick:Nt,disabled:H||!c||!d,className:"btn-primary btn-full",children:H?"Podepisovn...":"Podepsat a exportovat PSBT"}),u&&E==="finalize"&&O.jsx("button",{onClick:Ut,disabled:H||!_.trim(),className:"btn-primary btn-full",children:H?"Dopodepisovn...":"Dopodepsat a odeslat"})]})]})})}function J6({mnemonic:e,network:i,onNetworkChange:a,onLogout:s}){const[u,c]=Et.useState([]),[h,d]=Et.useState(null),[p,y]=Et.useState(null),[m,E]=Et.useState(!1),[v,_]=Et.useState(!1),[x,U]=Et.useState(!1),[C,H]=Et.useState(""),[V,k]=Et.useState(!0),z=Et.useCallback(async()=>{k(!0);const P=Yn(),ct=await Promise.all(P.map(Nt=>S6(Nt,e))),ut=await c6(e);c(ct),H(ut),d(Nt=>Nt&&(ct.find(Ut=>Ut.id===Nt.id)||Nt)),k(!1)},[e]);Et.useEffect(()=>{const P=window.setTimeout(()=>{z()},0);return()=>{window.clearTimeout(P)}},[i,z]);const Y=u.reduce((P,ct)=>P+ct.balance,0),J=async()=>{await z()};return V?O.jsx("div",{className:"accounts-container",children:O.jsxs("div",{className:"loading-screen",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Natn t..."})]})}):O.jsxs("div",{className:"accounts-container",children:[O.jsx(K6,{mnemonic:e,network:i,onNetworkChange:a,onLogout:s}),h?O.jsx(L6,{account:h,mnemonic:e,onBack:()=>d(null),onRefresh:J,onReceive:P=>{y(P),E(!0)},onSend:P=>{y(P),_(!0)}}):O.jsxs("div",{className:"accounts-content",children:[O.jsxs("div",{className:"balance-card",children:[O.jsxs("div",{className:"balance-header",children:[O.jsx("span",{className:"balance-label",children:"Celkov balance"}),O.jsx("button",{onClick:J,className:"refresh-btn",title:"Obnovit",children:""})]}),O.jsxs("div",{className:"balance-amount",children:[Y.toLocaleString("cs-CZ")," ",O.jsx("span",{className:"btc-label",children:"sats"})]}),O.jsx("div",{className:"balance-testnet",children:_l[i].label}),C&&O.jsxs("div",{className:"wallet-fingerprint",children:["Master fingerprint: ",C]})]}),O.jsxs("div",{className:"accounts-list",children:[O.jsx("h2",{children:"ty"}),u.map(P=>O.jsxs("div",{className:`account-item ${P.type}`,onClick:()=>d(P),children:[O.jsxs("div",{className:"account-info",children:[O.jsxs("div",{className:"account-name",children:[P.type==="inheritance"&&O.jsx("span",{className:"inheritance-icon",children:""}),P.name]}),O.jsx("div",{className:"account-type",children:P.type==="inheritance"?"Ddick et":"Standardn et"}),P.type==="inheritance"&&P.inheritanceStatus&&O.jsxs("div",{className:"inheritance-status",children:[P.inheritanceStatus.canUserSpend&&" Mete utrcet",P.inheritanceStatus.requiresMultisig&&" Multisig vyadovn",!P.inheritanceStatus.canUserSpend&&!P.inheritanceStatus.requiresMultisig&&P.balance>0&&" ekn na timelock"]})]}),O.jsxs("div",{className:"account-balance",children:[P.balance.toLocaleString("cs-CZ")," sats"]})]},P.id))]}),O.jsxs("button",{onClick:()=>U(!0),className:"add-inheritance-btn",children:[O.jsx("span",{className:"plus-icon",children:"+"}),"Pidat ddick et"]})]}),m&&p&&O.jsx(Q6,{account:p,mnemonic:e,onClose:()=>E(!1)}),v&&p&&O.jsx(W6,{account:p,mnemonic:e,onClose:()=>_(!1),onSent:J}),x&&O.jsx(j6,{mnemonic:e,onClose:()=>{U(!1),J()}})]})}function t2({onWalletCreated:e}){const[i,a]=Et.useState(!1),[s,u]=Et.useState(""),[c,h]=Et.useState(""),[d,p]=Et.useState(!1),y=async()=>{p(!0);try{await w6(),e()}catch(E){console.error("Error creating wallet:",E),h("Nepodailo se vytvoit penenku")}finally{p(!1)}},m=async()=>{const E=s.trim(),v=E.split(/\s+/);if(v.length!==20&&v.length!==33){h(`Neplatn seed. SLIP-39 m 20 nebo 33 slov, zadno ${v.length}.`);return}if(!Yb(E)){h("Neplatn seed. Zkontrolujte, e jste zadali sprvn slova.");return}await v6(E)?e():h("Nepodailo se obnovit penenku")};return i?O.jsx("div",{className:"welcome-container",children:O.jsxs("div",{className:"welcome-card",children:[O.jsx("h1",{children:"Obnovit penenku"}),O.jsx("p",{children:"Zadejte svj SLIP-39 seed (20 nebo 33 slov):"}),O.jsx("textarea",{value:s,onChange:E=>u(E.target.value),placeholder:"slovo1 slovo2 slovo3... (20 nebo 33 slov)",rows:4,className:"mnemonic-input"}),c&&O.jsx("div",{className:"error-message",children:c}),O.jsxs("div",{className:"button-group",children:[O.jsx("button",{onClick:m,className:"btn-primary",children:"Obnovit"}),O.jsx("button",{onClick:()=>{a(!1),h(""),u("")},className:"btn-secondary",children:"Zpt"})]})]})}):O.jsx("div",{className:"welcome-container",children:O.jsxs("div",{className:"welcome-card",children:[O.jsx("div",{className:"logo",children:O.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[O.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#F7931A",strokeWidth:"2"}),O.jsx("path",{d:"M15.5 9.5c.5-1.5-1-2-2.5-2.5l.5-2-1.5-.5-.5 2c-.5 0-1 0-1.5.5l.5-2-1.5-.5-.5 2c-2 .5-3.5 1.5-3 3.5.5 1.5 2 2 3.5 2.5-1 .5-2 1-1.5 2.5.5 1.5 2 2 4 1.5l-.5 2 1.5.5.5-2c.5 0 1 0 1.5-.5l.5 2 1.5.5.5-2c2-.5 3.5-1.5 3-3.5-.5-1.5-2-2-3.5-2.5z",fill:"#F7931A"})]})}),O.jsx("h1",{children:"Bitcoin Testnet Penenka"}),O.jsx("p",{className:"subtitle",children:"Bezpen penenka s ddickmi ty"}),O.jsxs("div",{className:"button-group",children:[O.jsx("button",{onClick:y,disabled:d,className:"btn-primary",children:d?"Vytven...":"Vytvoit novou penenku"}),O.jsx("button",{onClick:()=>a(!0),className:"btn-secondary",children:"Vloit SLIP-39 seed"})]}),O.jsx("p",{className:"testnet-badge",children:"Testnet Only"})]})})}function e2(){const[e,i]=Et.useState(()=>l1()),[a,s]=Et.useState(()=>ic()),u=()=>{const d=l1();d&&i(d)},c=()=>{i(null)},h=d=>{vT(d),s(d)};return e?O.jsx(J6,{mnemonic:e.mnemonic,network:a,onNetworkChange:h,onLogout:c}):O.jsx(t2,{onWalletCreated:u})}kA.createRoot(document.getElementById("root")).render(O.jsx(Et.StrictMode,{children:O.jsx(e2,{})}));
