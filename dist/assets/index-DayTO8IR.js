(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function a(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=a(u);fetch(u.href,c)}})();function gA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gh={exports:{}},as={};var Gg;function mA(){if(Gg)return as;Gg=1;var e=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(l,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var d in u)d!=="key"&&(c[d]=u[d])}else c=u;return u=c.ref,{$$typeof:e,type:l,key:h,ref:u!==void 0?u:null,props:c}}return as.Fragment=i,as.jsx=a,as.jsxs=a,as}var Xg;function EA(){return Xg||(Xg=1,gh.exports=mA()),gh.exports}var O=EA(),mh={exports:{}},Nt={};var Vg;function bA(){if(Vg)return Nt;Vg=1;var e=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),v=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,C={};function z(N,D,rt){this.props=N,this.context=D,this.refs=C,this.updater=rt||x}z.prototype.isReactComponent={},z.prototype.setState=function(N,D){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,D,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function X(){}X.prototype=z.prototype;function M(N,D,rt){this.props=N,this.context=D,this.refs=C,this.updater=rt||x}var L=M.prototype=new X;L.constructor=M,U(L,z.prototype),L.isPureReactComponent=!0;var F=Array.isArray;function nt(){}var W={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function ut(N,D,rt){var at=rt.ref;return{$$typeof:e,type:N,key:D,ref:at!==void 0?at:null,props:rt}}function Tt(N,D){return ut(N.type,D,N.props)}function Bt(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function gt(N){var D={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(rt){return D[rt]})}var $=/\/+/g;function Q(N,D){return typeof N=="object"&&N!==null&&N.key!=null?gt(""+N.key):D.toString(36)}function Z(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(nt,nt):(N.status="pending",N.then(function(D){N.status==="pending"&&(N.status="fulfilled",N.value=D)},function(D){N.status==="pending"&&(N.status="rejected",N.reason=D)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function H(N,D,rt,at,ot){var dt=typeof N;(dt==="undefined"||dt==="boolean")&&(N=null);var Et=!1;if(N===null)Et=!0;else switch(dt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(N.$$typeof){case e:case i:Et=!0;break;case m:return Et=N._init,H(Et(N._payload),D,rt,at,ot)}}if(Et)return ot=ot(N),Et=at===""?"."+Q(N,0):at,F(ot)?(rt="",Et!=null&&(rt=Et.replace($,"$&/")+"/"),H(ot,D,rt,"",function(ee){return ee})):ot!=null&&(Bt(ot)&&(ot=Tt(ot,rt+(ot.key==null||N&&N.key===ot.key?"":(""+ot.key).replace($,"$&/")+"/")+Et)),D.push(ot)),1;Et=0;var Lt=at===""?".":at+":";if(F(N))for(var St=0;St<N.length;St++)at=N[St],dt=Lt+Q(at,St),Et+=H(at,D,rt,dt,ot);else if(St=_(N),typeof St=="function")for(N=St.call(N),St=0;!(at=N.next()).done;)at=at.value,dt=Lt+Q(at,St++),Et+=H(at,D,rt,dt,ot);else if(dt==="object"){if(typeof N.then=="function")return H(Z(N),D,rt,at,ot);throw D=String(N),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return Et}function q(N,D,rt){if(N==null)return N;var at=[],ot=0;return H(N,at,"","",function(dt){return D.call(rt,dt,ot++)}),at}function it(N){if(N._status===-1){var D=N._result;D=D(),D.then(function(rt){(N._status===0||N._status===-1)&&(N._status=1,N._result=rt)},function(rt){(N._status===0||N._status===-1)&&(N._status=2,N._result=rt)}),N._status===-1&&(N._status=0,N._result=D)}if(N._status===1)return N._result.default;throw N._result}var st=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},lt={map:q,forEach:function(N,D,rt){q(N,function(){D.apply(this,arguments)},rt)},count:function(N){var D=0;return q(N,function(){D++}),D},toArray:function(N){return q(N,function(D){return D})||[]},only:function(N){if(!Bt(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Nt.Activity=E,Nt.Children=lt,Nt.Component=z,Nt.Fragment=a,Nt.Profiler=u,Nt.PureComponent=M,Nt.StrictMode=l,Nt.Suspense=p,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return W.H.useMemoCache(N)}},Nt.cache=function(N){return function(){return N.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(N,D,rt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=U({},N.props),ot=N.key;if(D!=null)for(dt in D.key!==void 0&&(ot=""+D.key),D)!ct.call(D,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&D.ref===void 0||(at[dt]=D[dt]);var dt=arguments.length-2;if(dt===1)at.children=rt;else if(1<dt){for(var Et=Array(dt),Lt=0;Lt<dt;Lt++)Et[Lt]=arguments[Lt+2];at.children=Et}return ut(N.type,ot,at)},Nt.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Nt.createElement=function(N,D,rt){var at,ot={},dt=null;if(D!=null)for(at in D.key!==void 0&&(dt=""+D.key),D)ct.call(D,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(ot[at]=D[at]);var Et=arguments.length-2;if(Et===1)ot.children=rt;else if(1<Et){for(var Lt=Array(Et),St=0;St<Et;St++)Lt[St]=arguments[St+2];ot.children=Lt}if(N&&N.defaultProps)for(at in Et=N.defaultProps,Et)ot[at]===void 0&&(ot[at]=Et[at]);return ut(N,dt,ot)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(N){return{$$typeof:d,render:N}},Nt.isValidElement=Bt,Nt.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:it}},Nt.memo=function(N,D){return{$$typeof:y,type:N,compare:D===void 0?null:D}},Nt.startTransition=function(N){var D=W.T,rt={};W.T=rt;try{var at=N(),ot=W.S;ot!==null&&ot(rt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(nt,st)}catch(dt){st(dt)}finally{D!==null&&rt.types!==null&&(D.types=rt.types),W.T=D}},Nt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Nt.use=function(N){return W.H.use(N)},Nt.useActionState=function(N,D,rt){return W.H.useActionState(N,D,rt)},Nt.useCallback=function(N,D){return W.H.useCallback(N,D)},Nt.useContext=function(N){return W.H.useContext(N)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(N,D){return W.H.useDeferredValue(N,D)},Nt.useEffect=function(N,D){return W.H.useEffect(N,D)},Nt.useEffectEvent=function(N){return W.H.useEffectEvent(N)},Nt.useId=function(){return W.H.useId()},Nt.useImperativeHandle=function(N,D,rt){return W.H.useImperativeHandle(N,D,rt)},Nt.useInsertionEffect=function(N,D){return W.H.useInsertionEffect(N,D)},Nt.useLayoutEffect=function(N,D){return W.H.useLayoutEffect(N,D)},Nt.useMemo=function(N,D){return W.H.useMemo(N,D)},Nt.useOptimistic=function(N,D){return W.H.useOptimistic(N,D)},Nt.useReducer=function(N,D,rt){return W.H.useReducer(N,D,rt)},Nt.useRef=function(N){return W.H.useRef(N)},Nt.useState=function(N){return W.H.useState(N)},Nt.useSyncExternalStore=function(N,D,rt){return W.H.useSyncExternalStore(N,D,rt)},Nt.useTransition=function(){return W.H.useTransition()},Nt.version="19.2.4",Nt}var Yg;function cd(){return Yg||(Yg=1,mh.exports=bA()),mh.exports}var xt=cd();const _e=gA(xt);var Eh={exports:{}},ls={},bh={exports:{}},wh={};var qg;function wA(){return qg||(qg=1,(function(e){function i(H,q){var it=H.length;H.push(q);t:for(;0<it;){var st=it-1>>>1,lt=H[st];if(0<u(lt,q))H[st]=q,H[it]=lt,it=st;else break t}}function a(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var q=H[0],it=H.pop();if(it!==q){H[0]=it;t:for(var st=0,lt=H.length,N=lt>>>1;st<N;){var D=2*(st+1)-1,rt=H[D],at=D+1,ot=H[at];if(0>u(rt,it))at<lt&&0>u(ot,rt)?(H[st]=ot,H[at]=it,st=at):(H[st]=rt,H[D]=it,st=D);else if(at<lt&&0>u(ot,it))H[st]=ot,H[at]=it,st=at;else break t}}return q}function u(H,q){var it=H.sortIndex-q.sortIndex;return it!==0?it:H.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();e.unstable_now=function(){return h.now()-d}}var p=[],y=[],m=1,E=null,v=3,_=!1,x=!1,U=!1,C=!1,z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function L(H){for(var q=a(y);q!==null;){if(q.callback===null)l(y);else if(q.startTime<=H)l(y),q.sortIndex=q.expirationTime,i(p,q);else break;q=a(y)}}function F(H){if(U=!1,L(H),!x)if(a(p)!==null)x=!0,nt||(nt=!0,gt());else{var q=a(y);q!==null&&Z(F,q.startTime-H)}}var nt=!1,W=-1,ct=5,ut=-1;function Tt(){return C?!0:!(e.unstable_now()-ut<ct)}function Bt(){if(C=!1,nt){var H=e.unstable_now();ut=H;var q=!0;try{t:{x=!1,U&&(U=!1,X(W),W=-1),_=!0;var it=v;try{e:{for(L(H),E=a(p);E!==null&&!(E.expirationTime>H&&Tt());){var st=E.callback;if(typeof st=="function"){E.callback=null,v=E.priorityLevel;var lt=st(E.expirationTime<=H);if(H=e.unstable_now(),typeof lt=="function"){E.callback=lt,L(H),q=!0;break e}E===a(p)&&l(p),L(H)}else l(p);E=a(p)}if(E!==null)q=!0;else{var N=a(y);N!==null&&Z(F,N.startTime-H),q=!1}}break t}finally{E=null,v=it,_=!1}q=void 0}}finally{q?gt():nt=!1}}}var gt;if(typeof M=="function")gt=function(){M(Bt)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=Bt,gt=function(){Q.postMessage(null)}}else gt=function(){z(Bt,0)};function Z(H,q){W=z(function(){H(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(H){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var it=v;v=q;try{return H()}finally{v=it}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var it=v;v=H;try{return q()}finally{v=it}},e.unstable_scheduleCallback=function(H,q,it){var st=e.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?st+it:st):it=st,H){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=it+lt,H={id:m++,callback:q,priorityLevel:H,startTime:it,expirationTime:lt,sortIndex:-1},it>st?(H.sortIndex=it,i(y,H),a(p)===null&&H===a(y)&&(U?(X(W),W=-1):U=!0,Z(F,it-st))):(H.sortIndex=lt,i(p,H),x||_||(x=!0,nt||(nt=!0,gt()))),H},e.unstable_shouldYield=Tt,e.unstable_wrapCallback=function(H){var q=v;return function(){var it=v;v=q;try{return H.apply(this,arguments)}finally{v=it}}}})(wh)),wh}var Fg;function vA(){return Fg||(Fg=1,bh.exports=wA()),bh.exports}var vh={exports:{}},Me={};var Pg;function AA(){if(Pg)return Me;Pg=1;var e=cd();function i(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)y+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(p,y,m){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:p,containerInfo:y,implementation:m}}var h=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Me.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Me.createPortal=function(p,y){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(i(299));return c(p,y,null,m)},Me.flushSync=function(p){var y=h.T,m=l.p;try{if(h.T=null,l.p=2,p)return p()}finally{h.T=y,l.p=m,l.d.f()}},Me.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(p,y))},Me.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},Me.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var m=y.as,E=d(m,y.crossOrigin),v=typeof y.integrity=="string"?y.integrity:void 0,_=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;m==="style"?l.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:v,fetchPriority:_}):m==="script"&&l.d.X(p,{crossOrigin:E,integrity:v,fetchPriority:_,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Me.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var m=d(y.as,y.crossOrigin);l.d.M(p,{crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(p)},Me.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var m=y.as,E=d(m,y.crossOrigin);l.d.L(p,m,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Me.preloadModule=function(p,y){if(typeof p=="string")if(y){var m=d(y.as,y.crossOrigin);l.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:m,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(p)},Me.requestFormReset=function(p){l.d.r(p)},Me.unstable_batchedUpdates=function(p,y){return p(y)},Me.useFormState=function(p,y,m){return h.H.useFormState(p,y,m)},Me.useFormStatus=function(){return h.H.useHostTransitionStatus()},Me.version="19.2.4",Me}var $g;function SA(){if($g)return vh.exports;$g=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(i){console.error(i)}}return e(),vh.exports=AA(),vh.exports}var Zg;function _A(){if(Zg)return ls;Zg=1;var e=vA(),i=cd(),a=SA();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(l(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(l(188));return n!==t?null:t}for(var r=t,s=n;;){var o=r.return;if(o===null)break;var f=o.alternate;if(f===null){if(s=o.return,s!==null){r=s;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===r)return p(o),t;if(f===s)return p(o),n;f=f.sibling}throw Error(l(188))}if(r.return!==s.return)r=o,s=f;else{for(var w=!1,A=o.child;A;){if(A===r){w=!0,r=o,s=f;break}if(A===s){w=!0,s=o,r=f;break}A=A.sibling}if(!w){for(A=f.child;A;){if(A===r){w=!0,r=f,s=o;break}if(A===s){w=!0,s=f,r=o;break}A=A.sibling}if(!w)throw Error(l(189))}}if(r.alternate!==s)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:n}function m(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=m(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),ut=Symbol.for("react.activity"),Tt=Symbol.for("react.memo_cache_sentinel"),Bt=Symbol.iterator;function gt(t){return t===null||typeof t!="object"?null:(t=Bt&&t[Bt]||t["@@iterator"],typeof t=="function"?t:null)}var $=Symbol.for("react.client.reference");function Q(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===$?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case z:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case nt:return"SuspenseList";case ut:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case M:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case L:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return n=t.displayName||null,n!==null?n:Q(t.type)||"Memo";case ct:n=t._payload,t=t._init;try{return Q(t(n))}catch{}}return null}var Z=Array.isArray,H=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},st=[],lt=-1;function N(t){return{current:t}}function D(t){0>lt||(t.current=st[lt],st[lt]=null,lt--)}function rt(t,n){lt++,st[lt]=t.current,t.current=n}var at=N(null),ot=N(null),dt=N(null),Et=N(null);function Lt(t,n){switch(rt(dt,n),rt(ot,t),rt(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?fg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=fg(n),t=hg(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}D(at),rt(at,t)}function St(){D(at),D(ot),D(dt)}function ee(t){t.memoizedState!==null&&rt(Et,t);var n=at.current,r=hg(n,t.type);n!==r&&(rt(ot,t),rt(at,r))}function kn(t){ot.current===t&&(D(at),D(ot)),Et.current===t&&(D(Et),es._currentValue=it)}var si,dn;function en(t){if(si===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);si=n&&n[1]||"",dn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+si+t+dn}var ol=!1;function cl(t,n){if(!t||ol)return"";ol=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Y){var G=Y}Reflect.construct(t,[],et)}else{try{et.call()}catch(Y){G=Y}t.call(et.prototype)}}else{try{throw Error()}catch(Y){G=Y}(et=t())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),w=f[0],A=f[1];if(w&&A){var B=w.split(`
`),K=A.split(`
`);for(o=s=0;s<B.length&&!B[s].includes("DetermineComponentFrameRoot");)s++;for(;o<K.length&&!K[o].includes("DetermineComponentFrameRoot");)o++;if(s===B.length||o===K.length)for(s=B.length-1,o=K.length-1;1<=s&&0<=o&&B[s]!==K[o];)o--;for(;1<=s&&0<=o;s--,o--)if(B[s]!==K[o]){if(s!==1||o!==1)do if(s--,o--,0>o||B[s]!==K[o]){var P=`
`+B[s].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=s&&0<=o);break}}}finally{ol=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?en(r):""}function fl(t,n){switch(t.tag){case 26:case 27:case 5:return en(t.type);case 16:return en("Lazy");case 13:return t.child!==n&&n!==null?en("Suspense Fallback"):en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return cl(t.type,!1);case 11:return cl(t.type.render,!1);case 1:return cl(t.type,!0);case 31:return en("Activity");default:return""}}function Is(t){try{var n="",r=null;do n+=fl(t,r),r=t,t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var hl=Object.prototype.hasOwnProperty,ia=e.unstable_scheduleCallback,ji=e.unstable_cancelCallback,pn=e.unstable_shouldYield,dl=e.unstable_requestPaint,Ke=e.unstable_now,Yn=e.unstable_getCurrentPriorityLevel,Ms=e.unstable_ImmediatePriority,S=e.unstable_UserBlockingPriority,g=e.unstable_NormalPriority,b=e.unstable_LowPriority,T=e.unstable_IdlePriority,I=e.log,V=e.unstable_setDisableYieldValue,J=null,bt=null;function Gt(t){if(typeof I=="function"&&V(t),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(J,t)}catch{}}var Ct=Math.clz32?Math.clz32:nw,re=Math.log,Yt=Math.LN2;function nw(t){return t>>>=0,t===0?32:31-(re(t)/Yt|0)|0}var ks=256,Ds=262144,zs=4194304;function Tr(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ls(t,n,r){var s=t.pendingLanes;if(s===0)return 0;var o=0,f=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var A=s&134217727;return A!==0?(s=A&~f,s!==0?o=Tr(s):(w&=A,w!==0?o=Tr(w):r||(r=A&~t,r!==0&&(o=Tr(r))))):(A=s&~f,A!==0?o=Tr(A):w!==0?o=Tr(w):r||(r=s&~t,r!==0&&(o=Tr(r)))),o===0?0:n!==0&&n!==o&&(n&f)===0&&(f=o&-o,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:o}function pl(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function iw(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qd(){var t=zs;return zs<<=1,(zs&62914560)===0&&(zs=4194304),t}function ic(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function yl(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rw(t,n,r,s,o,f){var w=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var A=t.entanglements,B=t.expirationTimes,K=t.hiddenUpdates;for(r=w&~r;0<r;){var P=31-Ct(r),et=1<<P;A[P]=0,B[P]=-1;var G=K[P];if(G!==null)for(K[P]=null,P=0;P<G.length;P++){var Y=G[P];Y!==null&&(Y.lane&=-536870913)}r&=~et}s!==0&&Fd(t,s,0),f!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=f&~(w&~n))}function Fd(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var s=31-Ct(n);t.entangledLanes|=n,t.entanglements[s]=t.entanglements[s]|1073741824|r&261930}function Pd(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var s=31-Ct(r),o=1<<s;o&n|t[s]&n&&(t[s]|=n),r&=~o}}function $d(t,n){var r=n&-n;return r=(r&42)!==0?1:rc(r),(r&(t.suspendedLanes|n))!==0?0:r}function rc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ac(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Zd(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Mg(t.type))}function Qd(t,n){var r=q.p;try{return q.p=t,n()}finally{q.p=r}}var Ki=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Ki,Ye="__reactProps$"+Ki,ra="__reactContainer$"+Ki,lc="__reactEvents$"+Ki,aw="__reactListeners$"+Ki,lw="__reactHandles$"+Ki,Wd="__reactResources$"+Ki,gl="__reactMarker$"+Ki;function sc(t){delete t[Oe],delete t[Ye],delete t[lc],delete t[aw],delete t[lw]}function aa(t){var n=t[Oe];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ra]||r[Oe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=bg(t);t!==null;){if(r=t[Oe])return r;t=bg(t)}return n}t=r,r=t.parentNode}return null}function la(t){if(t=t[Oe]||t[ra]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function ml(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function sa(t){var n=t[Wd];return n||(n=t[Wd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(t){t[gl]=!0}var Jd=new Set,t0={};function Nr(t,n){ua(t,n),ua(t+"Capture",n)}function ua(t,n){for(t0[t]=n,t=0;t<n.length;t++)Jd.add(n[t])}var sw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),e0={},n0={};function uw(t){return hl.call(n0,t)?!0:hl.call(e0,t)?!1:sw.test(t)?n0[t]=!0:(e0[t]=!0,!1)}function js(t,n,r){if(uw(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ks(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function ui(t,n,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+s)}}function yn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function i0(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ow(t,n,r){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return o.call(this)},set:function(w){r=""+w,f.call(this,w)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(w){r=""+w},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function uc(t){if(!t._valueTracker){var n=i0(t)?"checked":"value";t._valueTracker=ow(t,n,""+t[n])}}function r0(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),s="";return t&&(s=i0(t)?t.checked?"true":"false":t.value),t=s,t!==r?(n.setValue(t),!0):!1}function Gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cw=/[\n"\\]/g;function gn(t){return t.replace(cw,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oc(t,n,r,s,o,f,w,A){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),n!=null?w==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+yn(n)):t.value!==""+yn(n)&&(t.value=""+yn(n)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),n!=null?cc(t,w,yn(n)):r!=null?cc(t,w,yn(r)):s!=null&&t.removeAttribute("value"),o==null&&f!=null&&(t.defaultChecked=!!f),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+yn(A):t.removeAttribute("name")}function a0(t,n,r,s,o,f,w,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){uc(t);return}r=r!=null?""+yn(r):"",n=n!=null?""+yn(n):r,A||n===t.value||(t.value=n),t.defaultValue=n}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=A?t.checked:!!s,t.defaultChecked=!!s,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w),uc(t)}function cc(t,n,r){n==="number"&&Gs(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function oa(t,n,r,s){if(t=t.options,n){n={};for(var o=0;o<r.length;o++)n["$"+r[o]]=!0;for(r=0;r<t.length;r++)o=n.hasOwnProperty("$"+t[r].value),t[r].selected!==o&&(t[r].selected=o),o&&s&&(t[r].defaultSelected=!0)}else{for(r=""+yn(r),n=null,o=0;o<t.length;o++){if(t[o].value===r){t[o].selected=!0,s&&(t[o].defaultSelected=!0);return}n!==null||t[o].disabled||(n=t[o])}n!==null&&(n.selected=!0)}}function l0(t,n,r){if(n!=null&&(n=""+yn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+yn(r):""}function s0(t,n,r,s){if(n==null){if(s!=null){if(r!=null)throw Error(l(92));if(Z(s)){if(1<s.length)throw Error(l(93));s=s[0]}r=s}r==null&&(r=""),n=r}r=yn(n),t.defaultValue=r,s=t.textContent,s===r&&s!==""&&s!==null&&(t.value=s),uc(t)}function ca(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function u0(t,n,r){var s=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?s?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":s?t.setProperty(n,r):typeof r!="number"||r===0||fw.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function o0(t,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,r!=null){for(var s in r)!r.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var o in n)s=n[o],n.hasOwnProperty(o)&&r[o]!==s&&u0(t,o,s)}else for(var f in n)n.hasOwnProperty(f)&&u0(t,f,n[f])}function fc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(t){return dw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var hc=null;function dc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fa=null,ha=null;function c0(t){var n=la(t);if(n&&(t=n.stateNode)){var r=t[Ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(oc(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var s=r[n];if(s!==t&&s.form===t.form){var o=s[Ye]||null;if(!o)throw Error(l(90));oc(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(n=0;n<r.length;n++)s=r[n],s.form===t.form&&r0(s)}break t;case"textarea":l0(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&oa(t,!!r.multiple,n,!1)}}}var pc=!1;function f0(t,n,r){if(pc)return t(n,r);pc=!0;try{var s=t(n);return s}finally{if(pc=!1,(fa!==null||ha!==null)&&(Bu(),fa&&(n=fa,t=ha,ha=fa=null,c0(n),t)))for(n=0;n<t.length;n++)c0(t[n])}}function El(t,n){var r=t.stateNode;if(r===null)return null;var s=r[Ye]||null;if(s===null)return null;r=s[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=!1;if(ci)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){yc=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{yc=!1}var Gi=null,gc=null,Vs=null;function h0(){if(Vs)return Vs;var t,n=gc,r=n.length,s,o="value"in Gi?Gi.value:Gi.textContent,f=o.length;for(t=0;t<r&&n[t]===o[t];t++);var w=r-t;for(s=1;s<=w&&n[r-s]===o[f-s];s++);return Vs=o.slice(t,1<s?1-s:void 0)}function Ys(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qs(){return!0}function d0(){return!1}function qe(t){function n(r,s,o,f,w){this._reactName=r,this._targetInst=o,this.type=s,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qs:d0,this.isPropagationStopped=d0,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),n}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=qe(Ur),wl=E({},Ur,{view:0,detail:0}),pw=qe(wl),mc,Ec,vl,Ps=E({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vl&&(vl&&t.type==="mousemove"?(mc=t.screenX-vl.screenX,Ec=t.screenY-vl.screenY):Ec=mc=0,vl=t),mc)},movementY:function(t){return"movementY"in t?t.movementY:Ec}}),p0=qe(Ps),yw=E({},Ps,{dataTransfer:0}),gw=qe(yw),mw=E({},wl,{relatedTarget:0}),bc=qe(mw),Ew=E({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),bw=qe(Ew),ww=E({},Ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vw=qe(ww),Aw=E({},Ur,{data:0}),y0=qe(Aw),Sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_w={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tw(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xw[t])?!!n[t]:!1}function wc(){return Tw}var Nw=E({},wl,{key:function(t){if(t.key){var n=Sw[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_w[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uw=qe(Nw),Ow=E({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g0=qe(Ow),Bw=E({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),Cw=qe(Bw),Rw=E({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hw=qe(Rw),Iw=E({},Ps,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mw=qe(Iw),kw=E({},Ur,{newState:0,oldState:0}),Dw=qe(kw),zw=[9,13,27,32],vc=ci&&"CompositionEvent"in window,Al=null;ci&&"documentMode"in document&&(Al=document.documentMode);var Lw=ci&&"TextEvent"in window&&!Al,m0=ci&&(!vc||Al&&8<Al&&11>=Al),E0=" ",b0=!1;function w0(t,n){switch(t){case"keyup":return zw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function jw(t,n){switch(t){case"compositionend":return v0(n);case"keypress":return n.which!==32?null:(b0=!0,E0);case"textInput":return t=n.data,t===E0&&b0?null:t;default:return null}}function Kw(t,n){if(da)return t==="compositionend"||!vc&&w0(t,n)?(t=h0(),Vs=gc=Gi=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return m0&&n.locale!=="ko"?null:n.data;default:return null}}var Gw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A0(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Gw[t.type]:n==="textarea"}function S0(t,n,r,s){fa?ha?ha.push(s):ha=[s]:fa=s,n=Du(n,"onChange"),0<n.length&&(r=new Fs("onChange","change",null,r,s),t.push({event:r,listeners:n}))}var Sl=null,_l=null;function Xw(t){ag(t,0)}function $s(t){var n=ml(t);if(r0(n))return t}function _0(t,n){if(t==="change")return n}var x0=!1;if(ci){var Ac;if(ci){var Sc="oninput"in document;if(!Sc){var T0=document.createElement("div");T0.setAttribute("oninput","return;"),Sc=typeof T0.oninput=="function"}Ac=Sc}else Ac=!1;x0=Ac&&(!document.documentMode||9<document.documentMode)}function N0(){Sl&&(Sl.detachEvent("onpropertychange",U0),_l=Sl=null)}function U0(t){if(t.propertyName==="value"&&$s(_l)){var n=[];S0(n,_l,t,dc(t)),f0(Xw,n)}}function Vw(t,n,r){t==="focusin"?(N0(),Sl=n,_l=r,Sl.attachEvent("onpropertychange",U0)):t==="focusout"&&N0()}function Yw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $s(_l)}function qw(t,n){if(t==="click")return $s(n)}function Fw(t,n){if(t==="input"||t==="change")return $s(n)}function Pw(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:Pw;function xl(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),s=Object.keys(n);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var o=r[s];if(!hl.call(n,o)||!nn(t[o],n[o]))return!1}return!0}function O0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function B0(t,n){var r=O0(t);t=0;for(var s;r;){if(r.nodeType===3){if(s=t+r.textContent.length,t<=n&&s>=n)return{node:r,offset:n-t};t=s}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=O0(r)}}function C0(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?C0(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function R0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Gs(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Gs(t.document)}return n}function _c(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var $w=ci&&"documentMode"in document&&11>=document.documentMode,pa=null,xc=null,Tl=null,Tc=!1;function H0(t,n,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tc||pa==null||pa!==Gs(s)||(s=pa,"selectionStart"in s&&_c(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Tl&&xl(Tl,s)||(Tl=s,s=Du(xc,"onSelect"),0<s.length&&(n=new Fs("onSelect","select",null,n,r),t.push({event:n,listeners:s}),n.target=pa)))}function Or(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ya={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Nc={},I0={};ci&&(I0=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Br(t){if(Nc[t])return Nc[t];if(!ya[t])return t;var n=ya[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in I0)return Nc[t]=n[r];return t}var M0=Br("animationend"),k0=Br("animationiteration"),D0=Br("animationstart"),Zw=Br("transitionrun"),Qw=Br("transitionstart"),Ww=Br("transitioncancel"),z0=Br("transitionend"),L0=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function Dn(t,n){L0.set(t,n),Nr(n,[t])}var Zs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mn=[],ga=0,Oc=0;function Qs(){for(var t=ga,n=Oc=ga=0;n<t;){var r=mn[n];mn[n++]=null;var s=mn[n];mn[n++]=null;var o=mn[n];mn[n++]=null;var f=mn[n];if(mn[n++]=null,s!==null&&o!==null){var w=s.pending;w===null?o.next=o:(o.next=w.next,w.next=o),s.pending=o}f!==0&&j0(r,o,f)}}function Ws(t,n,r,s){mn[ga++]=t,mn[ga++]=n,mn[ga++]=r,mn[ga++]=s,Oc|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Bc(t,n,r,s){return Ws(t,n,r,s),Js(t)}function Cr(t,n){return Ws(t,null,null,n),Js(t)}function j0(t,n,r){t.lanes|=r;var s=t.alternate;s!==null&&(s.lanes|=r);for(var o=!1,f=t.return;f!==null;)f.childLanes|=r,s=f.alternate,s!==null&&(s.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(o=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,o&&n!==null&&(o=31-Ct(r),t=f.hiddenUpdates,s=t[o],s===null?t[o]=[n]:s.push(n),n.lane=r|536870912),f):null}function Js(t){if(50<Pl)throw Pl=0,jf=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ma={};function Jw(t,n,r,s){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,n,r,s){return new Jw(t,n,r,s)}function Cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fi(t,n){var r=t.alternate;return r===null?(r=rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function K0(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function tu(t,n,r,s,o,f){var w=0;if(s=t,typeof t=="function")Cc(t)&&(w=1);else if(typeof t=="string")w=rA(t,r,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ut:return t=rn(31,r,n,o),t.elementType=ut,t.lanes=f,t;case U:return Rr(r.children,o,f,n);case C:w=8,o|=24;break;case z:return t=rn(12,r,n,o|2),t.elementType=z,t.lanes=f,t;case F:return t=rn(13,r,n,o),t.elementType=F,t.lanes=f,t;case nt:return t=rn(19,r,n,o),t.elementType=nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:w=10;break t;case X:w=9;break t;case L:w=11;break t;case W:w=14;break t;case ct:w=16,s=null;break t}w=29,r=Error(l(130,t===null?"null":typeof t,"")),s=null}return n=rn(w,r,n,o),n.elementType=t,n.type=s,n.lanes=f,n}function Rr(t,n,r,s){return t=rn(7,t,s,n),t.lanes=r,t}function Rc(t,n,r){return t=rn(6,t,null,n),t.lanes=r,t}function G0(t){var n=rn(18,null,null,0);return n.stateNode=t,n}function Hc(t,n,r){return n=rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var X0=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=X0.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Is(n)},X0.set(t,n),n)}return{value:t,source:n,stack:Is(n)}}var Ea=[],ba=0,eu=null,Nl=0,bn=[],wn=0,Xi=null,qn=1,Fn="";function hi(t,n){Ea[ba++]=Nl,Ea[ba++]=eu,eu=t,Nl=n}function V0(t,n,r){bn[wn++]=qn,bn[wn++]=Fn,bn[wn++]=Xi,Xi=t;var s=qn;t=Fn;var o=32-Ct(s)-1;s&=~(1<<o),r+=1;var f=32-Ct(n)+o;if(30<f){var w=o-o%5;f=(s&(1<<w)-1).toString(32),s>>=w,o-=w,qn=1<<32-Ct(n)+o|r<<o|s,Fn=f+t}else qn=1<<f|r<<o|s,Fn=t}function Ic(t){t.return!==null&&(hi(t,1),V0(t,1,0))}function Mc(t){for(;t===eu;)eu=Ea[--ba],Ea[ba]=null,Nl=Ea[--ba],Ea[ba]=null;for(;t===Xi;)Xi=bn[--wn],bn[wn]=null,Fn=bn[--wn],bn[wn]=null,qn=bn[--wn],bn[wn]=null}function Y0(t,n){bn[wn++]=qn,bn[wn++]=Fn,bn[wn++]=Xi,qn=n.id,Fn=n.overflow,Xi=t}var Be=null,ne=null,Dt=!1,Vi=null,vn=!1,kc=Error(l(519));function Yi(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(En(n,t)),kc}function q0(t){var n=t.stateNode,r=t.type,s=t.memoizedProps;switch(n[Oe]=t,n[Ye]=s,r){case"dialog":Ht("cancel",n),Ht("close",n);break;case"iframe":case"object":case"embed":Ht("load",n);break;case"video":case"audio":for(r=0;r<Zl.length;r++)Ht(Zl[r],n);break;case"source":Ht("error",n);break;case"img":case"image":case"link":Ht("error",n),Ht("load",n);break;case"details":Ht("toggle",n);break;case"input":Ht("invalid",n),a0(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ht("invalid",n);break;case"textarea":Ht("invalid",n),s0(n,s.value,s.defaultValue,s.children)}r=s.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||s.suppressHydrationWarning===!0||og(n.textContent,r)?(s.popover!=null&&(Ht("beforetoggle",n),Ht("toggle",n)),s.onScroll!=null&&Ht("scroll",n),s.onScrollEnd!=null&&Ht("scrollend",n),s.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||Yi(t,!0)}function F0(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:Be=Be.return}}function wa(t){if(t!==Be)return!1;if(!Dt)return F0(t),Dt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||eh(t.type,t.memoizedProps)),r=!r),r&&ne&&Yi(t),F0(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));ne=Eg(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));ne=Eg(t)}else n===27?(n=ne,ar(t.type)?(t=lh,lh=null,ne=t):ne=n):ne=Be?Sn(t.stateNode.nextSibling):null;return!0}function Hr(){ne=Be=null,Dt=!1}function Dc(){var t=Vi;return t!==null&&(Ze===null?Ze=t:Ze.push.apply(Ze,t),Vi=null),t}function Ul(t){Vi===null?Vi=[t]:Vi.push(t)}var zc=N(null),Ir=null,di=null;function qi(t,n,r){rt(zc,n._currentValue),n._currentValue=r}function pi(t){t._currentValue=zc.current,D(zc)}function Lc(t,n,r){for(;t!==null;){var s=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),t===r)break;t=t.return}}function jc(t,n,r,s){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){var w=o.child;f=f.firstContext;t:for(;f!==null;){var A=f;f=o;for(var B=0;B<n.length;B++)if(A.context===n[B]){f.lanes|=r,A=f.alternate,A!==null&&(A.lanes|=r),Lc(f.return,r,t),s||(w=null);break t}f=A.next}}else if(o.tag===18){if(w=o.return,w===null)throw Error(l(341));w.lanes|=r,f=w.alternate,f!==null&&(f.lanes|=r),Lc(w,r,t),w=null}else w=o.child;if(w!==null)w.return=o;else for(w=o;w!==null;){if(w===t){w=null;break}if(o=w.sibling,o!==null){o.return=w.return,w=o;break}w=w.return}o=w}}function va(t,n,r,s){t=null;for(var o=n,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var w=o.alternate;if(w===null)throw Error(l(387));if(w=w.memoizedProps,w!==null){var A=o.type;nn(o.pendingProps.value,w.value)||(t!==null?t.push(A):t=[A])}}else if(o===Et.current){if(w=o.alternate,w===null)throw Error(l(387));w.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(es):t=[es])}o=o.return}t!==null&&jc(n,t,r,s),n.flags|=262144}function nu(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mr(t){Ir=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ce(t){return P0(Ir,t)}function iu(t,n){return Ir===null&&Mr(t),P0(t,n)}function P0(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},di===null){if(t===null)throw Error(l(308));di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else di=di.next=n;return r}var tv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,s){t.push(s)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},ev=e.unstable_scheduleCallback,nv=e.unstable_NormalPriority,ge={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new tv,data:new Map,refCount:0}}function Ol(t){t.refCount--,t.refCount===0&&ev(nv,function(){t.controller.abort()})}var Bl=null,Gc=0,Aa=0,Sa=null;function iv(t,n){if(Bl===null){var r=Bl=[];Gc=0,Aa=qf(),Sa={status:"pending",value:void 0,then:function(s){r.push(s)}}}return Gc++,n.then($0,$0),n}function $0(){if(--Gc===0&&Bl!==null){Sa!==null&&(Sa.status="fulfilled");var t=Bl;Bl=null,Aa=0,Sa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function rv(t,n){var r=[],s={status:"pending",value:null,reason:null,then:function(o){r.push(o)}};return t.then(function(){s.status="fulfilled",s.value=n;for(var o=0;o<r.length;o++)(0,r[o])(n)},function(o){for(s.status="rejected",s.reason=o,o=0;o<r.length;o++)(0,r[o])(void 0)}),s}var Z0=H.S;H.S=function(t,n){Hy=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&iv(t,n),Z0!==null&&Z0(t,n)};var kr=N(null);function Xc(){var t=kr.current;return t!==null?t:Jt.pooledCache}function ru(t,n){n===null?rt(kr,kr.current):rt(kr,n.pool)}function Q0(){var t=Xc();return t===null?null:{parent:ge._currentValue,pool:t}}var _a=Error(l(460)),Vc=Error(l(474)),au=Error(l(542)),lu={then:function(){}};function W0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function J0(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(oi,oi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t;default:if(typeof n.status=="string")n.then(oi,oi);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(s){if(n.status==="pending"){var o=n;o.status="fulfilled",o.value=s}},function(s){if(n.status==="pending"){var o=n;o.status="rejected",o.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t}throw zr=n,_a}}function Dr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(zr=r,_a):r}}var zr=null;function tp(){if(zr===null)throw Error(l(459));var t=zr;return zr=null,t}function ep(t){if(t===_a||t===au)throw Error(l(483))}var xa=null,Cl=0;function su(t){var n=Cl;return Cl+=1,xa===null&&(xa=[]),J0(xa,t,n)}function Rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function uu(t,n){throw n.$$typeof===v?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function np(t){function n(k,R){if(t){var j=k.deletions;j===null?(k.deletions=[R],k.flags|=16):j.push(R)}}function r(k,R){if(!t)return null;for(;R!==null;)n(k,R),R=R.sibling;return null}function s(k){for(var R=new Map;k!==null;)k.key!==null?R.set(k.key,k):R.set(k.index,k),k=k.sibling;return R}function o(k,R){return k=fi(k,R),k.index=0,k.sibling=null,k}function f(k,R,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<R?(k.flags|=67108866,R):j):(k.flags|=67108866,R)):(k.flags|=1048576,R)}function w(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function A(k,R,j,tt){return R===null||R.tag!==6?(R=Rc(j,k.mode,tt),R.return=k,R):(R=o(R,j),R.return=k,R)}function B(k,R,j,tt){var mt=j.type;return mt===U?P(k,R,j.props.children,tt,j.key):R!==null&&(R.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===ct&&Dr(mt)===R.type)?(R=o(R,j.props),Rl(R,j),R.return=k,R):(R=tu(j.type,j.key,j.props,null,k.mode,tt),Rl(R,j),R.return=k,R)}function K(k,R,j,tt){return R===null||R.tag!==4||R.stateNode.containerInfo!==j.containerInfo||R.stateNode.implementation!==j.implementation?(R=Hc(j,k.mode,tt),R.return=k,R):(R=o(R,j.children||[]),R.return=k,R)}function P(k,R,j,tt,mt){return R===null||R.tag!==7?(R=Rr(j,k.mode,tt,mt),R.return=k,R):(R=o(R,j),R.return=k,R)}function et(k,R,j){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Rc(""+R,k.mode,j),R.return=k,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return j=tu(R.type,R.key,R.props,null,k.mode,j),Rl(j,R),j.return=k,j;case x:return R=Hc(R,k.mode,j),R.return=k,R;case ct:return R=Dr(R),et(k,R,j)}if(Z(R)||gt(R))return R=Rr(R,k.mode,j,null),R.return=k,R;if(typeof R.then=="function")return et(k,su(R),j);if(R.$$typeof===M)return et(k,iu(k,R),j);uu(k,R)}return null}function G(k,R,j,tt){var mt=R!==null?R.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return mt!==null?null:A(k,R,""+j,tt);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return j.key===mt?B(k,R,j,tt):null;case x:return j.key===mt?K(k,R,j,tt):null;case ct:return j=Dr(j),G(k,R,j,tt)}if(Z(j)||gt(j))return mt!==null?null:P(k,R,j,tt,null);if(typeof j.then=="function")return G(k,R,su(j),tt);if(j.$$typeof===M)return G(k,R,iu(k,j),tt);uu(k,j)}return null}function Y(k,R,j,tt,mt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return k=k.get(j)||null,A(R,k,""+tt,mt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case _:return k=k.get(tt.key===null?j:tt.key)||null,B(R,k,tt,mt);case x:return k=k.get(tt.key===null?j:tt.key)||null,K(R,k,tt,mt);case ct:return tt=Dr(tt),Y(k,R,j,tt,mt)}if(Z(tt)||gt(tt))return k=k.get(j)||null,P(R,k,tt,mt,null);if(typeof tt.then=="function")return Y(k,R,j,su(tt),mt);if(tt.$$typeof===M)return Y(k,R,j,iu(R,tt),mt);uu(R,tt)}return null}function ht(k,R,j,tt){for(var mt=null,jt=null,pt=R,Ot=R=0,kt=null;pt!==null&&Ot<j.length;Ot++){pt.index>Ot?(kt=pt,pt=null):kt=pt.sibling;var Kt=G(k,pt,j[Ot],tt);if(Kt===null){pt===null&&(pt=kt);break}t&&pt&&Kt.alternate===null&&n(k,pt),R=f(Kt,R,Ot),jt===null?mt=Kt:jt.sibling=Kt,jt=Kt,pt=kt}if(Ot===j.length)return r(k,pt),Dt&&hi(k,Ot),mt;if(pt===null){for(;Ot<j.length;Ot++)pt=et(k,j[Ot],tt),pt!==null&&(R=f(pt,R,Ot),jt===null?mt=pt:jt.sibling=pt,jt=pt);return Dt&&hi(k,Ot),mt}for(pt=s(pt);Ot<j.length;Ot++)kt=Y(pt,k,Ot,j[Ot],tt),kt!==null&&(t&&kt.alternate!==null&&pt.delete(kt.key===null?Ot:kt.key),R=f(kt,R,Ot),jt===null?mt=kt:jt.sibling=kt,jt=kt);return t&&pt.forEach(function(cr){return n(k,cr)}),Dt&&hi(k,Ot),mt}function wt(k,R,j,tt){if(j==null)throw Error(l(151));for(var mt=null,jt=null,pt=R,Ot=R=0,kt=null,Kt=j.next();pt!==null&&!Kt.done;Ot++,Kt=j.next()){pt.index>Ot?(kt=pt,pt=null):kt=pt.sibling;var cr=G(k,pt,Kt.value,tt);if(cr===null){pt===null&&(pt=kt);break}t&&pt&&cr.alternate===null&&n(k,pt),R=f(cr,R,Ot),jt===null?mt=cr:jt.sibling=cr,jt=cr,pt=kt}if(Kt.done)return r(k,pt),Dt&&hi(k,Ot),mt;if(pt===null){for(;!Kt.done;Ot++,Kt=j.next())Kt=et(k,Kt.value,tt),Kt!==null&&(R=f(Kt,R,Ot),jt===null?mt=Kt:jt.sibling=Kt,jt=Kt);return Dt&&hi(k,Ot),mt}for(pt=s(pt);!Kt.done;Ot++,Kt=j.next())Kt=Y(pt,k,Ot,Kt.value,tt),Kt!==null&&(t&&Kt.alternate!==null&&pt.delete(Kt.key===null?Ot:Kt.key),R=f(Kt,R,Ot),jt===null?mt=Kt:jt.sibling=Kt,jt=Kt);return t&&pt.forEach(function(yA){return n(k,yA)}),Dt&&hi(k,Ot),mt}function Wt(k,R,j,tt){if(typeof j=="object"&&j!==null&&j.type===U&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case _:t:{for(var mt=j.key;R!==null;){if(R.key===mt){if(mt=j.type,mt===U){if(R.tag===7){r(k,R.sibling),tt=o(R,j.props.children),tt.return=k,k=tt;break t}}else if(R.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===ct&&Dr(mt)===R.type){r(k,R.sibling),tt=o(R,j.props),Rl(tt,j),tt.return=k,k=tt;break t}r(k,R);break}else n(k,R);R=R.sibling}j.type===U?(tt=Rr(j.props.children,k.mode,tt,j.key),tt.return=k,k=tt):(tt=tu(j.type,j.key,j.props,null,k.mode,tt),Rl(tt,j),tt.return=k,k=tt)}return w(k);case x:t:{for(mt=j.key;R!==null;){if(R.key===mt)if(R.tag===4&&R.stateNode.containerInfo===j.containerInfo&&R.stateNode.implementation===j.implementation){r(k,R.sibling),tt=o(R,j.children||[]),tt.return=k,k=tt;break t}else{r(k,R);break}else n(k,R);R=R.sibling}tt=Hc(j,k.mode,tt),tt.return=k,k=tt}return w(k);case ct:return j=Dr(j),Wt(k,R,j,tt)}if(Z(j))return ht(k,R,j,tt);if(gt(j)){if(mt=gt(j),typeof mt!="function")throw Error(l(150));return j=mt.call(j),wt(k,R,j,tt)}if(typeof j.then=="function")return Wt(k,R,su(j),tt);if(j.$$typeof===M)return Wt(k,R,iu(k,j),tt);uu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,R!==null&&R.tag===6?(r(k,R.sibling),tt=o(R,j),tt.return=k,k=tt):(r(k,R),tt=Rc(j,k.mode,tt),tt.return=k,k=tt),w(k)):r(k,R)}return function(k,R,j,tt){try{Cl=0;var mt=Wt(k,R,j,tt);return xa=null,mt}catch(pt){if(pt===_a||pt===au)throw pt;var jt=rn(29,pt,null,k.mode);return jt.lanes=tt,jt.return=k,jt}}}var Lr=np(!0),ip=np(!1),Fi=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $i(t,n,r){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Xt&2)!==0){var o=s.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),s.pending=n,n=Js(t),j0(t,null,r),n}return Ws(t,s,n,r),Js(t)}function Hl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var s=n.lanes;s&=t.pendingLanes,r|=s,n.lanes=r,Pd(t,r)}}function Fc(t,n){var r=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var o=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?o=f=w:f=f.next=w,r=r.next}while(r!==null);f===null?o=f=n:f=f.next=n}else o=f=n;r={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Pc=!1;function Il(){if(Pc){var t=Sa;if(t!==null)throw t}}function Ml(t,n,r,s){Pc=!1;var o=t.updateQueue;Fi=!1;var f=o.firstBaseUpdate,w=o.lastBaseUpdate,A=o.shared.pending;if(A!==null){o.shared.pending=null;var B=A,K=B.next;B.next=null,w===null?f=K:w.next=K,w=B;var P=t.alternate;P!==null&&(P=P.updateQueue,A=P.lastBaseUpdate,A!==w&&(A===null?P.firstBaseUpdate=K:A.next=K,P.lastBaseUpdate=B))}if(f!==null){var et=o.baseState;w=0,P=K=B=null,A=f;do{var G=A.lane&-536870913,Y=G!==A.lane;if(Y?(Mt&G)===G:(s&G)===G){G!==0&&G===Aa&&(Pc=!0),P!==null&&(P=P.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ht=t,wt=A;G=n;var Wt=r;switch(wt.tag){case 1:if(ht=wt.payload,typeof ht=="function"){et=ht.call(Wt,et,G);break t}et=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=wt.payload,G=typeof ht=="function"?ht.call(Wt,et,G):ht,G==null)break t;et=E({},et,G);break t;case 2:Fi=!0}}G=A.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=o.callbacks,Y===null?o.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},P===null?(K=P=Y,B=et):P=P.next=Y,w|=G;if(A=A.next,A===null){if(A=o.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,o.lastBaseUpdate=Y,o.shared.pending=null}}while(!0);P===null&&(B=et),o.baseState=B,o.firstBaseUpdate=K,o.lastBaseUpdate=P,f===null&&(o.shared.lanes=0),tr|=w,t.lanes=w,t.memoizedState=et}}function rp(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function ap(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)rp(r[t],n)}var Ta=N(null),ou=N(0);function lp(t,n){t=Si,rt(ou,t),rt(Ta,n),Si=t|n.baseLanes}function $c(){rt(ou,Si),rt(Ta,Ta.current)}function Zc(){Si=ou.current,D(Ta),D(ou)}var an=N(null),An=null;function Zi(t){var n=t.alternate;rt(he,he.current&1),rt(an,t),An===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(An=t)}function Qc(t){rt(he,he.current),rt(an,t),An===null&&(An=t)}function sp(t){t.tag===22?(rt(he,he.current),rt(an,t),An===null&&(An=t)):Qi()}function Qi(){rt(he,he.current),rt(an,an.current)}function ln(t){D(an),An===t&&(An=null),D(he)}var he=N(0);function cu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||rh(r)||ah(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var yi=0,Ut=null,Zt=null,me=null,fu=!1,Na=!1,jr=!1,hu=0,kl=0,Ua=null,av=0;function se(){throw Error(l(321))}function Wc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!nn(t[r],n[r]))return!1;return!0}function Jc(t,n,r,s,o,f){return yi=f,Ut=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Vp:yf,jr=!1,f=r(s,o),jr=!1,Na&&(f=op(n,r,s,o)),up(t),f}function up(t){H.H=Ll;var n=Zt!==null&&Zt.next!==null;if(yi=0,me=Zt=Ut=null,fu=!1,kl=0,Ua=null,n)throw Error(l(300));t===null||Ee||(t=t.dependencies,t!==null&&nu(t)&&(Ee=!0))}function op(t,n,r,s){Ut=t;var o=0;do{if(Na&&(Ua=null),kl=0,Na=!1,25<=o)throw Error(l(301));if(o+=1,me=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Yp,f=n(r,s)}while(Na);return f}function lv(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Dl(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Ut.flags|=1024),n}function tf(){var t=hu!==0;return hu=0,t}function ef(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function nf(t){if(fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fu=!1}yi=0,me=Zt=Ut=null,Na=!1,kl=hu=0,Ua=null}function Ge(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Ut.memoizedState=me=t:me=me.next=t,me}function de(){if(Zt===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=me===null?Ut.memoizedState:me.next;if(n!==null)me=n,Zt=t;else{if(t===null)throw Ut.alternate===null?Error(l(467)):Error(l(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},me===null?Ut.memoizedState=me=t:me=me.next=t}return me}function du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var n=kl;return kl+=1,Ua===null&&(Ua=[]),t=J0(Ua,t,n),n=Ut,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Vp:yf),t}function pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===M)return Ce(t)}throw Error(l(438,String(t)))}function rf(t){var n=null,r=Ut.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var s=Ut.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(o){return o.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=du(),Ut.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),s=0;s<t;s++)r[s]=Tt;return n.index++,r}function gi(t,n){return typeof n=="function"?n(t):n}function yu(t){var n=de();return af(n,Zt,t)}function af(t,n,r){var s=t.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=r;var o=t.baseQueue,f=s.pending;if(f!==null){if(o!==null){var w=o.next;o.next=f.next,f.next=w}n.baseQueue=o=f,s.pending=null}if(f=t.baseState,o===null)t.memoizedState=f;else{n=o.next;var A=w=null,B=null,K=n,P=!1;do{var et=K.lane&-536870913;if(et!==K.lane?(Mt&et)===et:(yi&et)===et){var G=K.revertLane;if(G===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),et===Aa&&(P=!0);else if((yi&G)===G){K=K.next,G===Aa&&(P=!0);continue}else et={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(A=B=et,w=f):B=B.next=et,Ut.lanes|=G,tr|=G;et=K.action,jr&&r(f,et),f=K.hasEagerState?K.eagerState:r(f,et)}else G={lane:et,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(A=B=G,w=f):B=B.next=G,Ut.lanes|=et,tr|=et;K=K.next}while(K!==null&&K!==n);if(B===null?w=f:B.next=A,!nn(f,t.memoizedState)&&(Ee=!0,P&&(r=Sa,r!==null)))throw r;t.memoizedState=f,t.baseState=w,t.baseQueue=B,s.lastRenderedState=f}return o===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function lf(t){var n=de(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var s=r.dispatch,o=r.pending,f=n.memoizedState;if(o!==null){r.pending=null;var w=o=o.next;do f=t(f,w.action),w=w.next;while(w!==o);nn(f,n.memoizedState)||(Ee=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,s]}function cp(t,n,r){var s=Ut,o=de(),f=Dt;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=n();var w=!nn((Zt||o).memoizedState,r);if(w&&(o.memoizedState=r,Ee=!0),o=o.queue,of(dp.bind(null,s,o,t),[t]),o.getSnapshot!==n||w||me!==null&&me.memoizedState.tag&1){if(s.flags|=2048,Oa(9,{destroy:void 0},hp.bind(null,s,o,r,n),null),Jt===null)throw Error(l(349));f||(yi&127)!==0||fp(s,n,r)}return r}function fp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ut.updateQueue,n===null?(n=du(),Ut.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function hp(t,n,r,s){n.value=r,n.getSnapshot=s,pp(n)&&yp(t)}function dp(t,n,r){return r(function(){pp(n)&&yp(t)})}function pp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!nn(t,r)}catch{return!0}}function yp(t){var n=Cr(t,2);n!==null&&Qe(n,t,2)}function sf(t){var n=Ge();if(typeof t=="function"){var r=t;if(t=r(),jr){Gt(!0);try{r()}finally{Gt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},n}function gp(t,n,r,s){return t.baseState=r,af(t,Zt,typeof s=="function"?s:gi)}function sv(t,n,r,s,o){if(Eu(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){f.listeners.push(w)}};H.T!==null?r(!0):f.isTransition=!1,s(f),r=n.pending,r===null?(f.next=n.pending=f,mp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function mp(t,n){var r=n.action,s=n.payload,o=t.state;if(n.isTransition){var f=H.T,w={};H.T=w;try{var A=r(o,s),B=H.S;B!==null&&B(w,A),Ep(t,n,A)}catch(K){uf(t,n,K)}finally{f!==null&&w.types!==null&&(f.types=w.types),H.T=f}}else try{f=r(o,s),Ep(t,n,f)}catch(K){uf(t,n,K)}}function Ep(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(s){bp(t,n,s)},function(s){return uf(t,n,s)}):bp(t,n,r)}function bp(t,n,r){n.status="fulfilled",n.value=r,wp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,mp(t,r)))}function uf(t,n,r){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=r,wp(n),n=n.next;while(n!==s)}t.action=null}function wp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function vp(t,n){return n}function Ap(t,n){if(Dt){var r=Jt.formState;if(r!==null){t:{var s=Ut;if(Dt){if(ne){e:{for(var o=ne,f=vn;o.nodeType!==8;){if(!f){o=null;break e}if(o=Sn(o.nextSibling),o===null){o=null;break e}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){ne=Sn(o.nextSibling),s=o.data==="F!";break t}}Yi(s)}s=!1}s&&(n=r[0])}}return r=Ge(),r.memoizedState=r.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},r.queue=s,r=Kp.bind(null,Ut,s),s.dispatch=r,s=sf(!1),f=pf.bind(null,Ut,!1,s.queue),s=Ge(),o={state:n,dispatch:null,action:t,pending:null},s.queue=o,r=sv.bind(null,Ut,o,f,r),o.dispatch=r,s.memoizedState=t,[n,r,!1]}function Sp(t){var n=de();return _p(n,Zt,t)}function _p(t,n,r){if(n=af(t,n,vp)[0],t=yu(gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Dl(n)}catch(w){throw w===_a?au:w}else s=n;n=de();var o=n.queue,f=o.dispatch;return r!==n.memoizedState&&(Ut.flags|=2048,Oa(9,{destroy:void 0},uv.bind(null,o,r),null)),[s,f,t]}function uv(t,n){t.action=n}function xp(t){var n=de(),r=Zt;if(r!==null)return _p(n,r,t);de(),n=n.memoizedState,r=de();var s=r.queue.dispatch;return r.memoizedState=t,[n,s,!1]}function Oa(t,n,r,s){return t={tag:t,create:r,deps:s,inst:n,next:null},n=Ut.updateQueue,n===null&&(n=du(),Ut.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(s=r.next,r.next=t,t.next=s,n.lastEffect=t),t}function Tp(){return de().memoizedState}function gu(t,n,r,s){var o=Ge();Ut.flags|=t,o.memoizedState=Oa(1|n,{destroy:void 0},r,s===void 0?null:s)}function mu(t,n,r,s){var o=de();s=s===void 0?null:s;var f=o.memoizedState.inst;Zt!==null&&s!==null&&Wc(s,Zt.memoizedState.deps)?o.memoizedState=Oa(n,f,r,s):(Ut.flags|=t,o.memoizedState=Oa(1|n,f,r,s))}function Np(t,n){gu(8390656,8,t,n)}function of(t,n){mu(2048,8,t,n)}function ov(t){Ut.flags|=4;var n=Ut.updateQueue;if(n===null)n=du(),Ut.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Up(t){var n=de().memoizedState;return ov({ref:n,nextImpl:t}),function(){if((Xt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Op(t,n){return mu(4,2,t,n)}function Bp(t,n){return mu(4,4,t,n)}function Cp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rp(t,n,r){r=r!=null?r.concat([t]):null,mu(4,4,Cp.bind(null,n,t),r)}function cf(){}function Hp(t,n){var r=de();n=n===void 0?null:n;var s=r.memoizedState;return n!==null&&Wc(n,s[1])?s[0]:(r.memoizedState=[t,n],t)}function Ip(t,n){var r=de();n=n===void 0?null:n;var s=r.memoizedState;if(n!==null&&Wc(n,s[1]))return s[0];if(s=t(),jr){Gt(!0);try{t()}finally{Gt(!1)}}return r.memoizedState=[s,n],s}function ff(t,n,r){return r===void 0||(yi&1073741824)!==0&&(Mt&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=My(),Ut.lanes|=t,tr|=t,r)}function Mp(t,n,r,s){return nn(r,n)?r:Ta.current!==null?(t=ff(t,r,s),nn(t,n)||(Ee=!0),t):(yi&42)===0||(yi&1073741824)!==0&&(Mt&261930)===0?(Ee=!0,t.memoizedState=r):(t=My(),Ut.lanes|=t,tr|=t,n)}function kp(t,n,r,s,o){var f=q.p;q.p=f!==0&&8>f?f:8;var w=H.T,A={};H.T=A,pf(t,!1,n,r);try{var B=o(),K=H.S;if(K!==null&&K(A,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var P=rv(B,s);zl(t,n,P,on(t))}else zl(t,n,s,on(t))}catch(et){zl(t,n,{then:function(){},status:"rejected",reason:et},on())}finally{q.p=f,w!==null&&A.types!==null&&(w.types=A.types),H.T=w}}function cv(){}function hf(t,n,r,s){if(t.tag!==5)throw Error(l(476));var o=Dp(t).queue;kp(t,o,n,it,r===null?cv:function(){return zp(t),r(s)})}function Dp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:it},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function zp(t){var n=Dp(t);n.next===null&&(n=t.alternate.memoizedState),zl(t,n.next.queue,{},on())}function df(){return Ce(es)}function Lp(){return de().memoizedState}function jp(){return de().memoizedState}function fv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=Pi(r);var s=$i(n,t,r);s!==null&&(Qe(s,n,r),Hl(s,n,r)),n={cache:Kc()},t.payload=n;return}n=n.return}}function hv(t,n,r){var s=on();r={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Eu(t)?Gp(n,r):(r=Bc(t,n,r,s),r!==null&&(Qe(r,t,s),Xp(r,n,s)))}function Kp(t,n,r){var s=on();zl(t,n,r,s)}function zl(t,n,r,s){var o={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Eu(t))Gp(n,o);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var w=n.lastRenderedState,A=f(w,r);if(o.hasEagerState=!0,o.eagerState=A,nn(A,w))return Ws(t,n,o,0),Jt===null&&Qs(),!1}catch{}if(r=Bc(t,n,o,s),r!==null)return Qe(r,t,s),Xp(r,n,s),!0}return!1}function pf(t,n,r,s){if(s={lane:2,revertLane:qf(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Eu(t)){if(n)throw Error(l(479))}else n=Bc(t,r,s,2),n!==null&&Qe(n,t,2)}function Eu(t){var n=t.alternate;return t===Ut||n!==null&&n===Ut}function Gp(t,n){Na=fu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Xp(t,n,r){if((r&4194048)!==0){var s=n.lanes;s&=t.pendingLanes,r|=s,n.lanes=r,Pd(t,r)}}var Ll={readContext:Ce,use:pu,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se};Ll.useEffectEvent=se;var Vp={readContext:Ce,use:pu,useCallback:function(t,n){return Ge().memoizedState=[t,n===void 0?null:n],t},useContext:Ce,useEffect:Np,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,gu(4194308,4,Cp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return gu(4194308,4,t,n)},useInsertionEffect:function(t,n){gu(4,2,t,n)},useMemo:function(t,n){var r=Ge();n=n===void 0?null:n;var s=t();if(jr){Gt(!0);try{t()}finally{Gt(!1)}}return r.memoizedState=[s,n],s},useReducer:function(t,n,r){var s=Ge();if(r!==void 0){var o=r(n);if(jr){Gt(!0);try{r(n)}finally{Gt(!1)}}}else o=n;return s.memoizedState=s.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},s.queue=t,t=t.dispatch=hv.bind(null,Ut,t),[s.memoizedState,t]},useRef:function(t){var n=Ge();return t={current:t},n.memoizedState=t},useState:function(t){t=sf(t);var n=t.queue,r=Kp.bind(null,Ut,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:cf,useDeferredValue:function(t,n){var r=Ge();return ff(r,t,n)},useTransition:function(){var t=sf(!1);return t=kp.bind(null,Ut,t.queue,!0,!1),Ge().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var s=Ut,o=Ge();if(Dt){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),Jt===null)throw Error(l(349));(Mt&127)!==0||fp(s,n,r)}o.memoizedState=r;var f={value:r,getSnapshot:n};return o.queue=f,Np(dp.bind(null,s,f,t),[t]),s.flags|=2048,Oa(9,{destroy:void 0},hp.bind(null,s,f,r,n),null),r},useId:function(){var t=Ge(),n=Jt.identifierPrefix;if(Dt){var r=Fn,s=qn;r=(s&~(1<<32-Ct(s)-1)).toString(32)+r,n="_"+n+"R_"+r,r=hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=av++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:df,useFormState:Ap,useActionState:Ap,useOptimistic:function(t){var n=Ge();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=pf.bind(null,Ut,!0,r),r.dispatch=n,[t,n]},useMemoCache:rf,useCacheRefresh:function(){return Ge().memoizedState=fv.bind(null,Ut)},useEffectEvent:function(t){var n=Ge(),r={impl:t};return n.memoizedState=r,function(){if((Xt&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},yf={readContext:Ce,use:pu,useCallback:Hp,useContext:Ce,useEffect:of,useImperativeHandle:Rp,useInsertionEffect:Op,useLayoutEffect:Bp,useMemo:Ip,useReducer:yu,useRef:Tp,useState:function(){return yu(gi)},useDebugValue:cf,useDeferredValue:function(t,n){var r=de();return Mp(r,Zt.memoizedState,t,n)},useTransition:function(){var t=yu(gi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:cp,useId:Lp,useHostTransitionStatus:df,useFormState:Sp,useActionState:Sp,useOptimistic:function(t,n){var r=de();return gp(r,Zt,t,n)},useMemoCache:rf,useCacheRefresh:jp};yf.useEffectEvent=Up;var Yp={readContext:Ce,use:pu,useCallback:Hp,useContext:Ce,useEffect:of,useImperativeHandle:Rp,useInsertionEffect:Op,useLayoutEffect:Bp,useMemo:Ip,useReducer:lf,useRef:Tp,useState:function(){return lf(gi)},useDebugValue:cf,useDeferredValue:function(t,n){var r=de();return Zt===null?ff(r,t,n):Mp(r,Zt.memoizedState,t,n)},useTransition:function(){var t=lf(gi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:cp,useId:Lp,useHostTransitionStatus:df,useFormState:xp,useActionState:xp,useOptimistic:function(t,n){var r=de();return Zt!==null?gp(r,Zt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:rf,useCacheRefresh:jp};Yp.useEffectEvent=Up;function gf(t,n,r,s){n=t.memoizedState,r=r(s,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var mf={enqueueSetState:function(t,n,r){t=t._reactInternals;var s=on(),o=Pi(s);o.payload=n,r!=null&&(o.callback=r),n=$i(t,o,s),n!==null&&(Qe(n,t,s),Hl(n,t,s))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var s=on(),o=Pi(s);o.tag=1,o.payload=n,r!=null&&(o.callback=r),n=$i(t,o,s),n!==null&&(Qe(n,t,s),Hl(n,t,s))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),s=Pi(r);s.tag=2,n!=null&&(s.callback=n),n=$i(t,s,r),n!==null&&(Qe(n,t,r),Hl(n,t,r))}};function qp(t,n,r,s,o,f,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,f,w):n.prototype&&n.prototype.isPureReactComponent?!xl(r,s)||!xl(o,f):!0}function Fp(t,n,r,s){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,s),n.state!==t&&mf.enqueueReplaceState(n,n.state,null)}function Kr(t,n){var r=n;if("ref"in n){r={};for(var s in n)s!=="ref"&&(r[s]=n[s])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var o in t)r[o]===void 0&&(r[o]=t[o])}return r}function Pp(t){Zs(t)}function $p(t){console.error(t)}function Zp(t){Zs(t)}function bu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Qp(t,n,r){try{var s=t.onCaughtError;s(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ef(t,n,r){return r=Pi(r),r.tag=3,r.payload={element:null},r.callback=function(){bu(t,n)},r}function Wp(t){return t=Pi(t),t.tag=3,t}function Jp(t,n,r,s){var o=r.type.getDerivedStateFromError;if(typeof o=="function"){var f=s.value;t.payload=function(){return o(f)},t.callback=function(){Qp(n,r,s)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Qp(n,r,s),typeof o!="function"&&(er===null?er=new Set([this]):er.add(this));var A=s.stack;this.componentDidCatch(s.value,{componentStack:A!==null?A:""})})}function dv(t,n,r,s,o){if(r.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=r.alternate,n!==null&&va(n,r,o,!0),r=an.current,r!==null){switch(r.tag){case 31:case 13:return An===null?Cu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=o,s===lu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([s]):n.add(s),Xf(t,s,o)),!1;case 22:return r.flags|=65536,s===lu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([s]):r.add(s)),Xf(t,s,o)),!1}throw Error(l(435,r.tag))}return Xf(t,s,o),Cu(),!1}if(Dt)return n=an.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=o,s!==kc&&(t=Error(l(422),{cause:s}),Ul(En(t,r)))):(s!==kc&&(n=Error(l(423),{cause:s}),Ul(En(n,r))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,s=En(s,r),o=Ef(t.stateNode,s,o),Fc(t,o),ue!==4&&(ue=2)),!1;var f=Error(l(520),{cause:s});if(f=En(f,r),Fl===null?Fl=[f]:Fl.push(f),ue!==4&&(ue=2),n===null)return!0;s=En(s,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=o&-o,r.lanes|=t,t=Ef(r.stateNode,s,t),Fc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return r.flags|=65536,o&=-o,r.lanes|=o,o=Wp(o),Jp(o,t,r,s),Fc(r,o),!1}r=r.return}while(r!==null);return!1}var bf=Error(l(461)),Ee=!1;function Re(t,n,r,s){n.child=t===null?ip(n,null,r,s):Lr(n,t.child,r,s)}function ty(t,n,r,s,o){r=r.render;var f=n.ref;if("ref"in s){var w={};for(var A in s)A!=="ref"&&(w[A]=s[A])}else w=s;return Mr(n),s=Jc(t,n,r,w,f,o),A=tf(),t!==null&&!Ee?(ef(t,n,o),mi(t,n,o)):(Dt&&A&&Ic(n),n.flags|=1,Re(t,n,s,o),n.child)}function ey(t,n,r,s,o){if(t===null){var f=r.type;return typeof f=="function"&&!Cc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ny(t,n,f,s,o)):(t=tu(r.type,null,s,n,n.mode,o),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Nf(t,o)){var w=f.memoizedProps;if(r=r.compare,r=r!==null?r:xl,r(w,s)&&t.ref===n.ref)return mi(t,n,o)}return n.flags|=1,t=fi(f,s),t.ref=n.ref,t.return=n,n.child=t}function ny(t,n,r,s,o){if(t!==null){var f=t.memoizedProps;if(xl(f,s)&&t.ref===n.ref)if(Ee=!1,n.pendingProps=s=f,Nf(t,o))(t.flags&131072)!==0&&(Ee=!0);else return n.lanes=t.lanes,mi(t,n,o)}return wf(t,n,r,s,o)}function iy(t,n,r,s){var o=s.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(s=n.child=t.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~f}else s=0,n.child=null;return ry(t,n,f,r,s)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ru(n,f!==null?f.cachePool:null),f!==null?lp(n,f):$c(),sp(n);else return s=n.lanes=536870912,ry(t,n,f!==null?f.baseLanes|r:r,r,s)}else f!==null?(ru(n,f.cachePool),lp(n,f),Qi(),n.memoizedState=null):(t!==null&&ru(n,null),$c(),Qi());return Re(t,n,o,r),n.child}function jl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ry(t,n,r,s,o){var f=Xc();return f=f===null?null:{parent:ge._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&ru(n,null),$c(),sp(n),t!==null&&va(t,n,s,!0),n.childLanes=o,null}function wu(t,n){return n=Au({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ay(t,n,r){return Lr(n,t.child,null,r),t=wu(n,n.pendingProps),t.flags|=2,ln(n),n.memoizedState=null,t}function pv(t,n,r){var s=n.pendingProps,o=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Dt){if(s.mode==="hidden")return t=wu(n,s),n.lanes=536870912,jl(null,t);if(Qc(n),(t=ne)?(t=mg(t,vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Xi!==null?{id:qn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},r=G0(t),r.return=n,n.child=r,Be=n,ne=null)):t=null,t===null)throw Yi(n);return n.lanes=536870912,null}return wu(n,s)}var f=t.memoizedState;if(f!==null){var w=f.dehydrated;if(Qc(n),o)if(n.flags&256)n.flags&=-257,n=ay(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(Ee||va(t,n,r,!1),o=(r&t.childLanes)!==0,Ee||o){if(s=Jt,s!==null&&(w=$d(s,r),w!==0&&w!==f.retryLane))throw f.retryLane=w,Cr(t,w),Qe(s,t,w),bf;Cu(),n=ay(t,n,r)}else t=f.treeContext,ne=Sn(w.nextSibling),Be=n,Dt=!0,Vi=null,vn=!1,t!==null&&Y0(n,t),n=wu(n,s),n.flags|=4096;return n}return t=fi(t.child,{mode:s.mode,children:s.children}),t.ref=n.ref,n.child=t,t.return=n,t}function vu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function wf(t,n,r,s,o){return Mr(n),r=Jc(t,n,r,s,void 0,o),s=tf(),t!==null&&!Ee?(ef(t,n,o),mi(t,n,o)):(Dt&&s&&Ic(n),n.flags|=1,Re(t,n,r,o),n.child)}function ly(t,n,r,s,o,f){return Mr(n),n.updateQueue=null,r=op(n,s,r,o),up(t),s=tf(),t!==null&&!Ee?(ef(t,n,f),mi(t,n,f)):(Dt&&s&&Ic(n),n.flags|=1,Re(t,n,r,f),n.child)}function sy(t,n,r,s,o){if(Mr(n),n.stateNode===null){var f=ma,w=r.contextType;typeof w=="object"&&w!==null&&(f=Ce(w)),f=new r(s,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=s,f.state=n.memoizedState,f.refs={},Yc(n),w=r.contextType,f.context=typeof w=="object"&&w!==null?Ce(w):ma,f.state=n.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(gf(n,r,w,s),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(w=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),w!==f.state&&mf.enqueueReplaceState(f,f.state,null),Ml(n,s,f,o),Il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(t===null){f=n.stateNode;var A=n.memoizedProps,B=Kr(r,A);f.props=B;var K=f.context,P=r.contextType;w=ma,typeof P=="object"&&P!==null&&(w=Ce(P));var et=r.getDerivedStateFromProps;P=typeof et=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||K!==w)&&Fp(n,f,s,w),Fi=!1;var G=n.memoizedState;f.state=G,Ml(n,s,f,o),Il(),K=n.memoizedState,A||G!==K||Fi?(typeof et=="function"&&(gf(n,r,et,s),K=n.memoizedState),(B=Fi||qp(n,r,B,s,G,K,w))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=K),f.props=s,f.state=K,f.context=w,s=B):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{f=n.stateNode,qc(t,n),w=n.memoizedProps,P=Kr(r,w),f.props=P,et=n.pendingProps,G=f.context,K=r.contextType,B=ma,typeof K=="object"&&K!==null&&(B=Ce(K)),A=r.getDerivedStateFromProps,(K=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==et||G!==B)&&Fp(n,f,s,B),Fi=!1,G=n.memoizedState,f.state=G,Ml(n,s,f,o),Il();var Y=n.memoizedState;w!==et||G!==Y||Fi||t!==null&&t.dependencies!==null&&nu(t.dependencies)?(typeof A=="function"&&(gf(n,r,A,s),Y=n.memoizedState),(P=Fi||qp(n,r,P,s,G,Y,B)||t!==null&&t.dependencies!==null&&nu(t.dependencies))?(K||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,Y,B),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,Y,B)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=Y),f.props=s,f.state=Y,f.context=B,s=P):(typeof f.componentDidUpdate!="function"||w===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),s=!1)}return f=s,vu(t,n),s=(n.flags&128)!==0,f||s?(f=n.stateNode,r=s&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&s?(n.child=Lr(n,t.child,null,o),n.child=Lr(n,null,r,o)):Re(t,n,r,o),n.memoizedState=f.state,t=n.child):t=mi(t,n,o),t}function uy(t,n,r,s){return Hr(),n.flags|=256,Re(t,n,r,s),n.child}var vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(t){return{baseLanes:t,cachePool:Q0()}}function Sf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=un),t}function oy(t,n,r){var s=n.pendingProps,o=!1,f=(n.flags&128)!==0,w;if((w=f)||(w=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),w&&(o=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,t===null){if(Dt){if(o?Zi(n):Qi(),(t=ne)?(t=mg(t,vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Xi!==null?{id:qn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},r=G0(t),r.return=n,n.child=r,Be=n,ne=null)):t=null,t===null)throw Yi(n);return ah(t)?n.lanes=32:n.lanes=536870912,null}var A=s.children;return s=s.fallback,o?(Qi(),o=n.mode,A=Au({mode:"hidden",children:A},o),s=Rr(s,o,r,null),A.return=n,s.return=n,A.sibling=s,n.child=A,s=n.child,s.memoizedState=Af(r),s.childLanes=Sf(t,w,r),n.memoizedState=vf,jl(null,s)):(Zi(n),_f(n,A))}var B=t.memoizedState;if(B!==null&&(A=B.dehydrated,A!==null)){if(f)n.flags&256?(Zi(n),n.flags&=-257,n=xf(t,n,r)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),A=s.fallback,o=n.mode,s=Au({mode:"visible",children:s.children},o),A=Rr(A,o,r,null),A.flags|=2,s.return=n,A.return=n,s.sibling=A,n.child=s,Lr(n,t.child,null,r),s=n.child,s.memoizedState=Af(r),s.childLanes=Sf(t,w,r),n.memoizedState=vf,n=jl(null,s));else if(Zi(n),ah(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var K=w.dgst;w=K,s=Error(l(419)),s.stack="",s.digest=w,Ul({value:s,source:null,stack:null}),n=xf(t,n,r)}else if(Ee||va(t,n,r,!1),w=(r&t.childLanes)!==0,Ee||w){if(w=Jt,w!==null&&(s=$d(w,r),s!==0&&s!==B.retryLane))throw B.retryLane=s,Cr(t,s),Qe(w,t,s),bf;rh(A)||Cu(),n=xf(t,n,r)}else rh(A)?(n.flags|=192,n.child=t.child,n=null):(t=B.treeContext,ne=Sn(A.nextSibling),Be=n,Dt=!0,Vi=null,vn=!1,t!==null&&Y0(n,t),n=_f(n,s.children),n.flags|=4096);return n}return o?(Qi(),A=s.fallback,o=n.mode,B=t.child,K=B.sibling,s=fi(B,{mode:"hidden",children:s.children}),s.subtreeFlags=B.subtreeFlags&65011712,K!==null?A=fi(K,A):(A=Rr(A,o,r,null),A.flags|=2),A.return=n,s.return=n,s.sibling=A,n.child=s,jl(null,s),s=n.child,A=t.child.memoizedState,A===null?A=Af(r):(o=A.cachePool,o!==null?(B=ge._currentValue,o=o.parent!==B?{parent:B,pool:B}:o):o=Q0(),A={baseLanes:A.baseLanes|r,cachePool:o}),s.memoizedState=A,s.childLanes=Sf(t,w,r),n.memoizedState=vf,jl(t.child,s)):(Zi(n),r=t.child,t=r.sibling,r=fi(r,{mode:"visible",children:s.children}),r.return=n,r.sibling=null,t!==null&&(w=n.deletions,w===null?(n.deletions=[t],n.flags|=16):w.push(t)),n.child=r,n.memoizedState=null,r)}function _f(t,n){return n=Au({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Au(t,n){return t=rn(22,t,null,n),t.lanes=0,t}function xf(t,n,r){return Lr(n,t.child,null,r),t=_f(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cy(t,n,r){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n),Lc(t.return,n,r)}function Tf(t,n,r,s,o,f){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:o,treeForkCount:f}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=s,w.tail=r,w.tailMode=o,w.treeForkCount=f)}function fy(t,n,r){var s=n.pendingProps,o=s.revealOrder,f=s.tail;s=s.children;var w=he.current,A=(w&2)!==0;if(A?(w=w&1|2,n.flags|=128):w&=1,rt(he,w),Re(t,n,s,r),s=Dt?Nl:0,!A&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,r,n);else if(t.tag===19)cy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(o){case"forwards":for(r=n.child,o=null;r!==null;)t=r.alternate,t!==null&&cu(t)===null&&(o=r),r=r.sibling;r=o,r===null?(o=n.child,n.child=null):(o=r.sibling,r.sibling=null),Tf(n,!1,o,r,f,s);break;case"backwards":case"unstable_legacy-backwards":for(r=null,o=n.child,n.child=null;o!==null;){if(t=o.alternate,t!==null&&cu(t)===null){n.child=o;break}t=o.sibling,o.sibling=r,r=o,o=t}Tf(n,!0,r,null,f,s);break;case"together":Tf(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function mi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(va(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,r=fi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=fi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Nf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&nu(t)))}function yv(t,n,r){switch(n.tag){case 3:Lt(n,n.stateNode.containerInfo),qi(n,ge,t.memoizedState.cache),Hr();break;case 27:case 5:ee(n);break;case 4:Lt(n,n.stateNode.containerInfo);break;case 10:qi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Qc(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Zi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(t,n,r):(Zi(n),t=mi(t,n,r),t!==null?t.sibling:null);Zi(n);break;case 19:var o=(t.flags&128)!==0;if(s=(r&n.childLanes)!==0,s||(va(t,n,r,!1),s=(r&n.childLanes)!==0),o){if(s)return fy(t,n,r);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),rt(he,he.current),s)break;return null;case 22:return n.lanes=0,iy(t,n,r,n.pendingProps);case 24:qi(n,ge,t.memoizedState.cache)}return mi(t,n,r)}function hy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ee=!0;else{if(!Nf(t,r)&&(n.flags&128)===0)return Ee=!1,yv(t,n,r);Ee=(t.flags&131072)!==0}else Ee=!1,Dt&&(n.flags&1048576)!==0&&V0(n,Nl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var s=n.pendingProps;if(t=Dr(n.elementType),n.type=t,typeof t=="function")Cc(t)?(s=Kr(t,s),n.tag=1,n=sy(null,n,t,s,r)):(n.tag=0,n=wf(null,n,t,s,r));else{if(t!=null){var o=t.$$typeof;if(o===L){n.tag=11,n=ty(null,n,t,s,r);break t}else if(o===W){n.tag=14,n=ey(null,n,t,s,r);break t}}throw n=Q(t)||t,Error(l(306,n,""))}}return n;case 0:return wf(t,n,n.type,n.pendingProps,r);case 1:return s=n.type,o=Kr(s,n.pendingProps),sy(t,n,s,o,r);case 3:t:{if(Lt(n,n.stateNode.containerInfo),t===null)throw Error(l(387));s=n.pendingProps;var f=n.memoizedState;o=f.element,qc(t,n),Ml(n,s,null,r);var w=n.memoizedState;if(s=w.cache,qi(n,ge,s),s!==f.cache&&jc(n,[ge],r,!0),Il(),s=w.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uy(t,n,s,r);break t}else if(s!==o){o=En(Error(l(424)),n),Ul(o),n=uy(t,n,s,r);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ne=Sn(t.firstChild),Be=n,Dt=!0,Vi=null,vn=!0,r=ip(n,null,s,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),s===o){n=mi(t,n,r);break t}Re(t,n,s,r)}n=n.child}return n;case 26:return vu(t,n),t===null?(r=Sg(n.type,null,n.pendingProps,null))?n.memoizedState=r:Dt||(r=n.type,t=n.pendingProps,s=zu(dt.current).createElement(r),s[Oe]=n,s[Ye]=t,He(s,r,t),Ne(s),n.stateNode=s):n.memoizedState=Sg(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ee(n),t===null&&Dt&&(s=n.stateNode=wg(n.type,n.pendingProps,dt.current),Be=n,vn=!0,o=ne,ar(n.type)?(lh=o,ne=Sn(s.firstChild)):ne=o),Re(t,n,n.pendingProps.children,r),vu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Dt&&((o=s=ne)&&(s=Yv(s,n.type,n.pendingProps,vn),s!==null?(n.stateNode=s,Be=n,ne=Sn(s.firstChild),vn=!1,o=!0):o=!1),o||Yi(n)),ee(n),o=n.type,f=n.pendingProps,w=t!==null?t.memoizedProps:null,s=f.children,eh(o,f)?s=null:w!==null&&eh(o,w)&&(n.flags|=32),n.memoizedState!==null&&(o=Jc(t,n,lv,null,null,r),es._currentValue=o),vu(t,n),Re(t,n,s,r),n.child;case 6:return t===null&&Dt&&((t=r=ne)&&(r=qv(r,n.pendingProps,vn),r!==null?(n.stateNode=r,Be=n,ne=null,t=!0):t=!1),t||Yi(n)),null;case 13:return oy(t,n,r);case 4:return Lt(n,n.stateNode.containerInfo),s=n.pendingProps,t===null?n.child=Lr(n,null,s,r):Re(t,n,s,r),n.child;case 11:return ty(t,n,n.type,n.pendingProps,r);case 7:return Re(t,n,n.pendingProps,r),n.child;case 8:return Re(t,n,n.pendingProps.children,r),n.child;case 12:return Re(t,n,n.pendingProps.children,r),n.child;case 10:return s=n.pendingProps,qi(n,n.type,s.value),Re(t,n,s.children,r),n.child;case 9:return o=n.type._context,s=n.pendingProps.children,Mr(n),o=Ce(o),s=s(o),n.flags|=1,Re(t,n,s,r),n.child;case 14:return ey(t,n,n.type,n.pendingProps,r);case 15:return ny(t,n,n.type,n.pendingProps,r);case 19:return fy(t,n,r);case 31:return pv(t,n,r);case 22:return iy(t,n,r,n.pendingProps);case 24:return Mr(n),s=Ce(ge),t===null?(o=Xc(),o===null&&(o=Jt,f=Kc(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=r),o=f),n.memoizedState={parent:s,cache:o},Yc(n),qi(n,ge,o)):((t.lanes&r)!==0&&(qc(t,n),Ml(n,null,null,r),Il()),o=t.memoizedState,f=n.memoizedState,o.parent!==s?(o={parent:s,cache:s},n.memoizedState=o,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=o),qi(n,ge,s)):(s=f.cache,qi(n,ge,s),s!==o.cache&&jc(n,[ge],r,!0))),Re(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Ei(t){t.flags|=4}function Uf(t,n,r,s,o){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(o&335544128)===o)if(t.stateNode.complete)t.flags|=8192;else if(Ly())t.flags|=8192;else throw zr=lu,Vc}else t.flags&=-16777217}function dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ug(n))if(Ly())t.flags|=8192;else throw zr=lu,Vc}function Su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?qd():536870912,t.lanes|=n,Ha|=n)}function Kl(t,n){if(!Dt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,s=0;if(n)for(var o=t.child;o!==null;)r|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)r|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=s,t.childLanes=r,n}function gv(t,n,r){var s=n.pendingProps;switch(Mc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),pi(ge),St(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wa(n)?Ei(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Dc())),ie(n),null;case 26:var o=n.type,f=n.memoizedState;return t===null?(Ei(n),f!==null?(ie(n),dy(n,f)):(ie(n),Uf(n,o,null,s,r))):f?f!==t.memoizedState?(Ei(n),ie(n),dy(n,f)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==s&&Ei(n),ie(n),Uf(n,o,t,s,r)),null;case 27:if(kn(n),r=dt.current,o=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==s&&Ei(n);else{if(!s){if(n.stateNode===null)throw Error(l(166));return ie(n),null}t=at.current,wa(n)?q0(n):(t=wg(o,s,r),n.stateNode=t,Ei(n))}return ie(n),null;case 5:if(kn(n),o=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==s&&Ei(n);else{if(!s){if(n.stateNode===null)throw Error(l(166));return ie(n),null}if(f=at.current,wa(n))q0(n);else{var w=zu(dt.current);switch(f){case 1:f=w.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:f=w.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":f=w.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":f=w.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":f=w.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof s.is=="string"?w.createElement("select",{is:s.is}):w.createElement("select"),s.multiple?f.multiple=!0:s.size&&(f.size=s.size);break;default:f=typeof s.is=="string"?w.createElement(o,{is:s.is}):w.createElement(o)}}f[Oe]=n,f[Ye]=s;t:for(w=n.child;w!==null;){if(w.tag===5||w.tag===6)f.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===n)break t;for(;w.sibling===null;){if(w.return===null||w.return===n)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}n.stateNode=f;t:switch(He(f,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Ei(n)}}return ie(n),Uf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==s&&Ei(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(l(166));if(t=dt.current,wa(n)){if(t=n.stateNode,r=n.memoizedProps,s=null,o=Be,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}t[Oe]=n,t=!!(t.nodeValue===r||s!==null&&s.suppressHydrationWarning===!0||og(t.nodeValue,r)),t||Yi(n,!0)}else t=zu(t).createTextNode(s),t[Oe]=n,n.stateNode=t}return ie(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(s=wa(n),r!==null){if(t===null){if(!s)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[Oe]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else r=Dc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(ln(n),n):(ln(n),null);if((n.flags&128)!==0)throw Error(l(558))}return ie(n),null;case 13:if(s=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=wa(n),s!==null&&s.dehydrated!==null){if(t===null){if(!o)throw Error(l(318));if(o=n.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[Oe]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),o=!1}else o=Dc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return n.flags&256?(ln(n),n):(ln(n),null)}return ln(n),(n.flags&128)!==0?(n.lanes=r,n):(r=s!==null,t=t!==null&&t.memoizedState!==null,r&&(s=n.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==o&&(s.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Su(n,n.updateQueue),ie(n),null);case 4:return St(),t===null&&Zf(n.stateNode.containerInfo),ie(n),null;case 10:return pi(n.type),ie(n),null;case 19:if(D(he),s=n.memoizedState,s===null)return ie(n),null;if(o=(n.flags&128)!==0,f=s.rendering,f===null)if(o)Kl(s,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=cu(t),f!==null){for(n.flags|=128,Kl(s,!1),t=f.updateQueue,n.updateQueue=t,Su(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)K0(r,t),r=r.sibling;return rt(he,he.current&1|2),Dt&&hi(n,s.treeForkCount),n.child}t=t.sibling}s.tail!==null&&Ke()>Uu&&(n.flags|=128,o=!0,Kl(s,!1),n.lanes=4194304)}else{if(!o)if(t=cu(f),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,Su(n,t),Kl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!f.alternate&&!Dt)return ie(n),null}else 2*Ke()-s.renderingStartTime>Uu&&r!==536870912&&(n.flags|=128,o=!0,Kl(s,!1),n.lanes=4194304);s.isBackwards?(f.sibling=n.child,n.child=f):(t=s.last,t!==null?t.sibling=f:n.child=f,s.last=f)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,r=he.current,rt(he,o?r&1|2:r&1),Dt&&hi(n,s.treeForkCount),t):(ie(n),null);case 22:case 23:return ln(n),Zc(),s=n.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Su(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==r&&(n.flags|=2048),t!==null&&D(kr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),pi(ge),ie(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function mv(t,n){switch(Mc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return pi(ge),St(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return kn(n),null;case 31:if(n.memoizedState!==null){if(ln(n),n.alternate===null)throw Error(l(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(ln(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return D(he),null;case 4:return St(),null;case 10:return pi(n.type),null;case 22:case 23:return ln(n),Zc(),t!==null&&D(kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return pi(ge),null;case 25:return null;default:return null}}function py(t,n){switch(Mc(n),n.tag){case 3:pi(ge),St();break;case 26:case 27:case 5:kn(n);break;case 4:St();break;case 31:n.memoizedState!==null&&ln(n);break;case 13:ln(n);break;case 19:D(he);break;case 10:pi(n.type);break;case 22:case 23:ln(n),Zc(),t!==null&&D(kr);break;case 24:pi(ge)}}function Gl(t,n){try{var r=n.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var o=s.next;r=o;do{if((r.tag&t)===t){s=void 0;var f=r.create,w=r.inst;s=f(),w.destroy=s}r=r.next}while(r!==o)}}catch(A){Ft(n,n.return,A)}}function Wi(t,n,r){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&t)===t){var w=s.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,o=n;var B=r,K=A;try{K()}catch(P){Ft(o,B,P)}}}s=s.next}while(s!==f)}}catch(P){Ft(n,n.return,P)}}function yy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ap(n,r)}catch(s){Ft(t,t.return,s)}}}function gy(t,n,r){r.props=Kr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(s){Ft(t,n,s)}}function Xl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof r=="function"?t.refCleanup=r(s):r.current=s}}catch(o){Ft(t,n,o)}}function Pn(t,n){var r=t.ref,s=t.refCleanup;if(r!==null)if(typeof s=="function")try{s()}catch(o){Ft(t,n,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(o){Ft(t,n,o)}else r.current=null}function my(t){var n=t.type,r=t.memoizedProps,s=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&s.focus();break t;case"img":r.src?s.src=r.src:r.srcSet&&(s.srcset=r.srcSet)}}catch(o){Ft(t,t.return,o)}}function Of(t,n,r){try{var s=t.stateNode;Lv(s,t.type,r,n),s[Ye]=n}catch(o){Ft(t,t.return,o)}}function Ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Bf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cf(t,n,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oi));else if(s!==4&&(s===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Cf(t,n,r),t=t.sibling;t!==null;)Cf(t,n,r),t=t.sibling}function _u(t,n,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(s!==4&&(s===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(_u(t,n,r),t=t.sibling;t!==null;)_u(t,n,r),t=t.sibling}function by(t){var n=t.stateNode,r=t.memoizedProps;try{for(var s=t.type,o=n.attributes;o.length;)n.removeAttributeNode(o[0]);He(n,s,r),n[Oe]=t,n[Ye]=r}catch(f){Ft(t,t.return,f)}}var bi=!1,be=!1,Rf=!1,wy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Ev(t,n){if(t=t.containerInfo,Jf=Yu,t=R0(t),_c(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var o=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var w=0,A=-1,B=-1,K=0,P=0,et=t,G=null;e:for(;;){for(var Y;et!==r||o!==0&&et.nodeType!==3||(A=w+o),et!==f||s!==0&&et.nodeType!==3||(B=w+s),et.nodeType===3&&(w+=et.nodeValue.length),(Y=et.firstChild)!==null;)G=et,et=Y;for(;;){if(et===t)break e;if(G===r&&++K===o&&(A=w),G===f&&++P===s&&(B=w),(Y=et.nextSibling)!==null)break;et=G,G=et.parentNode}et=Y}r=A===-1||B===-1?null:{start:A,end:B}}else r=null}r=r||{start:0,end:0}}else r=null;for(th={focusedElem:t,selectionRange:r},Yu=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)o=t[r],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,o=f.memoizedProps,f=f.memoizedState,s=r.stateNode;try{var ht=Kr(r.type,o);t=s.getSnapshotBeforeUpdate(ht,f),s.__reactInternalSnapshotBeforeUpdate=t}catch(wt){Ft(r,r.return,wt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)ih(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ih(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function vy(t,n,r){var s=r.flags;switch(r.tag){case 0:case 11:case 15:vi(t,r),s&4&&Gl(5,r);break;case 1:if(vi(t,r),s&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(w){Ft(r,r.return,w)}else{var o=Kr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(o,n,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Ft(r,r.return,w)}}s&64&&yy(r),s&512&&Xl(r,r.return);break;case 3:if(vi(t,r),s&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ap(t,n)}catch(w){Ft(r,r.return,w)}}break;case 27:n===null&&s&4&&by(r);case 26:case 5:vi(t,r),n===null&&s&4&&my(r),s&512&&Xl(r,r.return);break;case 12:vi(t,r);break;case 31:vi(t,r),s&4&&_y(t,r);break;case 13:vi(t,r),s&4&&xy(t,r),s&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Nv.bind(null,r),Fv(t,r))));break;case 22:if(s=r.memoizedState!==null||bi,!s){n=n!==null&&n.memoizedState!==null||be,o=bi;var f=be;bi=s,(be=n)&&!f?Ai(t,r,(r.subtreeFlags&8772)!==0):vi(t,r),bi=o,be=f}break;case 30:break;default:vi(t,r)}}function Ay(t){var n=t.alternate;n!==null&&(t.alternate=null,Ay(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&sc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,Fe=!1;function wi(t,n,r){for(r=r.child;r!==null;)Sy(t,n,r),r=r.sibling}function Sy(t,n,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(J,r)}catch{}switch(r.tag){case 26:be||Pn(r,n),wi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:be||Pn(r,n);var s=ae,o=Fe;ar(r.type)&&(ae=r.stateNode,Fe=!1),wi(t,n,r),Wl(r.stateNode),ae=s,Fe=o;break;case 5:be||Pn(r,n);case 6:if(s=ae,o=Fe,ae=null,wi(t,n,r),ae=s,Fe=o,ae!==null)if(Fe)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Ft(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Ft(r,n,f)}break;case 18:ae!==null&&(Fe?(t=ae,yg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ka(t)):yg(ae,r.stateNode));break;case 4:s=ae,o=Fe,ae=r.stateNode.containerInfo,Fe=!0,wi(t,n,r),ae=s,Fe=o;break;case 0:case 11:case 14:case 15:Wi(2,r,n),be||Wi(4,r,n),wi(t,n,r);break;case 1:be||(Pn(r,n),s=r.stateNode,typeof s.componentWillUnmount=="function"&&gy(r,n,s)),wi(t,n,r);break;case 21:wi(t,n,r);break;case 22:be=(s=be)||r.memoizedState!==null,wi(t,n,r),be=s;break;default:wi(t,n,r)}}function _y(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ka(t)}catch(r){Ft(n,n.return,r)}}}function xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ka(t)}catch(r){Ft(n,n.return,r)}}function bv(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wy),n;default:throw Error(l(435,t.tag))}}function xu(t,n){var r=bv(t);n.forEach(function(s){if(!r.has(s)){r.add(s);var o=Uv.bind(null,t,s);s.then(o,o)}})}function Pe(t,n){var r=n.deletions;if(r!==null)for(var s=0;s<r.length;s++){var o=r[s],f=t,w=n,A=w;t:for(;A!==null;){switch(A.tag){case 27:if(ar(A.type)){ae=A.stateNode,Fe=!1;break t}break;case 5:ae=A.stateNode,Fe=!1;break t;case 3:case 4:ae=A.stateNode.containerInfo,Fe=!0;break t}A=A.return}if(ae===null)throw Error(l(160));Sy(f,w,o),ae=null,Fe=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,t),n=n.sibling}var zn=null;function Ty(t,n){var r=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pe(n,t),$e(t),s&4&&(Wi(3,t,t.return),Gl(3,t),Wi(5,t,t.return));break;case 1:Pe(n,t),$e(t),s&512&&(be||r===null||Pn(r,r.return)),s&64&&bi&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?s:r.concat(s))));break;case 26:var o=zn;if(Pe(n,t),$e(t),s&512&&(be||r===null||Pn(r,r.return)),s&4){var f=r!==null?r.memoizedState:null;if(s=t.memoizedState,r===null)if(s===null)if(t.stateNode===null){t:{s=t.type,r=t.memoizedProps,o=o.ownerDocument||o;e:switch(s){case"title":f=o.getElementsByTagName("title")[0],(!f||f[gl]||f[Oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(s),o.head.insertBefore(f,o.querySelector("head > title"))),He(f,s,r),f[Oe]=t,Ne(f),s=f;break t;case"link":var w=Tg("link","href",o).get(s+(r.href||""));if(w){for(var A=0;A<w.length;A++)if(f=w[A],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(A,1);break e}}f=o.createElement(s),He(f,s,r),o.head.appendChild(f);break;case"meta":if(w=Tg("meta","content",o).get(s+(r.content||""))){for(A=0;A<w.length;A++)if(f=w[A],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(A,1);break e}}f=o.createElement(s),He(f,s,r),o.head.appendChild(f);break;default:throw Error(l(468,s))}f[Oe]=t,Ne(f),s=f}t.stateNode=s}else Ng(o,t.type,t.stateNode);else t.stateNode=xg(o,s,t.memoizedProps);else f!==s?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,s===null?Ng(o,t.type,t.stateNode):xg(o,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Of(t,t.memoizedProps,r.memoizedProps)}break;case 27:Pe(n,t),$e(t),s&512&&(be||r===null||Pn(r,r.return)),r!==null&&s&4&&Of(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Pe(n,t),$e(t),s&512&&(be||r===null||Pn(r,r.return)),t.flags&32){o=t.stateNode;try{ca(o,"")}catch(ht){Ft(t,t.return,ht)}}s&4&&t.stateNode!=null&&(o=t.memoizedProps,Of(t,o,r!==null?r.memoizedProps:o)),s&1024&&(Rf=!0);break;case 6:if(Pe(n,t),$e(t),s&4){if(t.stateNode===null)throw Error(l(162));s=t.memoizedProps,r=t.stateNode;try{r.nodeValue=s}catch(ht){Ft(t,t.return,ht)}}break;case 3:if(Ku=null,o=zn,zn=Lu(n.containerInfo),Pe(n,t),zn=o,$e(t),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Ka(n.containerInfo)}catch(ht){Ft(t,t.return,ht)}Rf&&(Rf=!1,Ny(t));break;case 4:s=zn,zn=Lu(t.stateNode.containerInfo),Pe(n,t),$e(t),zn=s;break;case 12:Pe(n,t),$e(t);break;case 31:Pe(n,t),$e(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,xu(t,s)));break;case 13:Pe(n,t),$e(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Nu=Ke()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,xu(t,s)));break;case 22:o=t.memoizedState!==null;var B=r!==null&&r.memoizedState!==null,K=bi,P=be;if(bi=K||o,be=P||B,Pe(n,t),be=P,bi=K,$e(t),s&8192)t:for(n=t.stateNode,n._visibility=o?n._visibility&-2:n._visibility|1,o&&(r===null||B||bi||be||Gr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){B=r=n;try{if(f=B.stateNode,o)w=f.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=B.stateNode;var et=B.memoizedProps.style,G=et!=null&&et.hasOwnProperty("display")?et.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ht){Ft(B,B.return,ht)}}}else if(n.tag===6){if(r===null){B=n;try{B.stateNode.nodeValue=o?"":B.memoizedProps}catch(ht){Ft(B,B.return,ht)}}}else if(n.tag===18){if(r===null){B=n;try{var Y=B.stateNode;o?gg(Y,!0):gg(B.stateNode,!1)}catch(ht){Ft(B,B.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=t.updateQueue,s!==null&&(r=s.retryQueue,r!==null&&(s.retryQueue=null,xu(t,r))));break;case 19:Pe(n,t),$e(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,xu(t,s)));break;case 30:break;case 21:break;default:Pe(n,t),$e(t)}}function $e(t){var n=t.flags;if(n&2){try{for(var r,s=t.return;s!==null;){if(Ey(s)){r=s;break}s=s.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var o=r.stateNode,f=Bf(t);_u(t,f,o);break;case 5:var w=r.stateNode;r.flags&32&&(ca(w,""),r.flags&=-33);var A=Bf(t);_u(t,A,w);break;case 3:case 4:var B=r.stateNode.containerInfo,K=Bf(t);Cf(t,K,B);break;default:throw Error(l(161))}}catch(P){Ft(t,t.return,P)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function vi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vy(t,n.alternate,n),n=n.sibling}function Gr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),Gr(n);break;case 1:Pn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gy(n,n.return,r),Gr(n);break;case 27:Wl(n.stateNode);case 26:case 5:Pn(n,n.return),Gr(n);break;case 22:n.memoizedState===null&&Gr(n);break;case 30:Gr(n);break;default:Gr(n)}t=t.sibling}}function Ai(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,o=t,f=n,w=f.flags;switch(f.tag){case 0:case 11:case 15:Ai(o,f,r),Gl(4,f);break;case 1:if(Ai(o,f,r),s=f,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(K){Ft(s,s.return,K)}if(s=f,o=s.updateQueue,o!==null){var A=s.stateNode;try{var B=o.shared.hiddenCallbacks;if(B!==null)for(o.shared.hiddenCallbacks=null,o=0;o<B.length;o++)rp(B[o],A)}catch(K){Ft(s,s.return,K)}}r&&w&64&&yy(f),Xl(f,f.return);break;case 27:by(f);case 26:case 5:Ai(o,f,r),r&&s===null&&w&4&&my(f),Xl(f,f.return);break;case 12:Ai(o,f,r);break;case 31:Ai(o,f,r),r&&w&4&&_y(o,f);break;case 13:Ai(o,f,r),r&&w&4&&xy(o,f);break;case 22:f.memoizedState===null&&Ai(o,f,r),Xl(f,f.return);break;case 30:break;default:Ai(o,f,r)}n=n.sibling}}function Hf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ol(r))}function If(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ol(t))}function Ln(t,n,r,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Uy(t,n,r,s),n=n.sibling}function Uy(t,n,r,s){var o=n.flags;switch(n.tag){case 0:case 11:case 15:Ln(t,n,r,s),o&2048&&Gl(9,n);break;case 1:Ln(t,n,r,s);break;case 3:Ln(t,n,r,s),o&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ol(t)));break;case 12:if(o&2048){Ln(t,n,r,s),t=n.stateNode;try{var f=n.memoizedProps,w=f.id,A=f.onPostCommit;typeof A=="function"&&A(w,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(B){Ft(n,n.return,B)}}else Ln(t,n,r,s);break;case 31:Ln(t,n,r,s);break;case 13:Ln(t,n,r,s);break;case 23:break;case 22:f=n.stateNode,w=n.alternate,n.memoizedState!==null?f._visibility&2?Ln(t,n,r,s):Vl(t,n):f._visibility&2?Ln(t,n,r,s):(f._visibility|=2,Ba(t,n,r,s,(n.subtreeFlags&10256)!==0||!1)),o&2048&&Hf(w,n);break;case 24:Ln(t,n,r,s),o&2048&&If(n.alternate,n);break;default:Ln(t,n,r,s)}}function Ba(t,n,r,s,o){for(o=o&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,w=n,A=r,B=s,K=w.flags;switch(w.tag){case 0:case 11:case 15:Ba(f,w,A,B,o),Gl(8,w);break;case 23:break;case 22:var P=w.stateNode;w.memoizedState!==null?P._visibility&2?Ba(f,w,A,B,o):Vl(f,w):(P._visibility|=2,Ba(f,w,A,B,o)),o&&K&2048&&Hf(w.alternate,w);break;case 24:Ba(f,w,A,B,o),o&&K&2048&&If(w.alternate,w);break;default:Ba(f,w,A,B,o)}n=n.sibling}}function Vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,s=n,o=s.flags;switch(s.tag){case 22:Vl(r,s),o&2048&&Hf(s.alternate,s);break;case 24:Vl(r,s),o&2048&&If(s.alternate,s);break;default:Vl(r,s)}n=n.sibling}}var Yl=8192;function Ca(t,n,r){if(t.subtreeFlags&Yl)for(t=t.child;t!==null;)Oy(t,n,r),t=t.sibling}function Oy(t,n,r){switch(t.tag){case 26:Ca(t,n,r),t.flags&Yl&&t.memoizedState!==null&&aA(r,zn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t,n,r);break;case 3:case 4:var s=zn;zn=Lu(t.stateNode.containerInfo),Ca(t,n,r),zn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Yl,Yl=16777216,Ca(t,n,r),Yl=s):Ca(t,n,r));break;default:Ca(t,n,r)}}function By(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ql(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];Ue=s,Ry(s,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cy(t),t=t.sibling}function Cy(t){switch(t.tag){case 0:case 11:case 15:ql(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:ql(t);break;case 12:ql(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Tu(t)):ql(t);break;default:ql(t)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];Ue=s,Ry(s,t)}By(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),Tu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Tu(n));break;default:Tu(n)}t=t.sibling}}function Ry(t,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var s=r.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ol(r.memoizedState.cache)}if(s=r.child,s!==null)s.return=r,Ue=s;else t:for(r=t;Ue!==null;){s=Ue;var o=s.sibling,f=s.return;if(Ay(s),s===r){Ue=null;break t}if(o!==null){o.return=f,Ue=o;break t}Ue=f}}}var wv={getCacheForType:function(t){var n=Ce(ge),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Ce(ge).controller.signal}},vv=typeof WeakMap=="function"?WeakMap:Map,Xt=0,Jt=null,Rt=null,Mt=0,qt=0,sn=null,Ji=!1,Ra=!1,Mf=!1,Si=0,ue=0,tr=0,Xr=0,kf=0,un=0,Ha=0,Fl=null,Ze=null,Df=!1,Nu=0,Hy=0,Uu=1/0,Ou=null,er=null,Ae=0,nr=null,Ia=null,_i=0,zf=0,Lf=null,Iy=null,Pl=0,jf=null;function on(){return(Xt&2)!==0&&Mt!==0?Mt&-Mt:H.T!==null?qf():Zd()}function My(){if(un===0)if((Mt&536870912)===0||Dt){var t=Ds;Ds<<=1,(Ds&3932160)===0&&(Ds=262144),un=t}else un=536870912;return t=an.current,t!==null&&(t.flags|=32),un}function Qe(t,n,r){(t===Jt&&(qt===2||qt===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),ir(t,Mt,un,!1)),yl(t,r),((Xt&2)===0||t!==Jt)&&(t===Jt&&((Xt&2)===0&&(Xr|=r),ue===4&&ir(t,Mt,un,!1)),$n(t))}function ky(t,n,r){if((Xt&6)!==0)throw Error(l(327));var s=!r&&(n&127)===0&&(n&t.expiredLanes)===0||pl(t,n),o=s?_v(t,n):Gf(t,n,!0),f=s;do{if(o===0){Ra&&!s&&ir(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!Av(r)){o=Gf(t,n,!1),f=!1;continue}if(o===2){if(f=n,t.errorRecoveryDisabledLanes&f)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;t:{var A=t;o=Fl;var B=A.current.memoizedState.isDehydrated;if(B&&(Ma(A,w).flags|=256),w=Gf(A,w,!1),w!==2){if(Mf&&!B){A.errorRecoveryDisabledLanes|=f,Xr|=f,o=4;break t}f=Ze,Ze=o,f!==null&&(Ze===null?Ze=f:Ze.push.apply(Ze,f))}o=w}if(f=!1,o!==2)continue}}if(o===1){Ma(t,0),ir(t,n,0,!0);break}t:{switch(s=t,f=o,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:ir(s,n,un,!Ji);break t;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(o=Nu+300-Ke(),10<o)){if(ir(s,n,un,!Ji),Ls(s,0,!0)!==0)break t;_i=n,s.timeoutHandle=dg(Dy.bind(null,s,r,Ze,Ou,Df,n,un,Xr,Ha,Ji,f,"Throttled",-0,0),o);break t}Dy(s,r,Ze,Ou,Df,n,un,Xr,Ha,Ji,f,null,-0,0)}}break}while(!0);$n(t)}function Dy(t,n,r,s,o,f,w,A,B,K,P,et,G,Y){if(t.timeoutHandle=-1,et=n.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},Oy(n,f,et);var ht=(f&62914560)===f?Nu-Ke():(f&4194048)===f?Hy-Ke():0;if(ht=lA(et,ht),ht!==null){_i=f,t.cancelPendingCommit=ht(Yy.bind(null,t,n,f,r,s,o,w,A,B,P,et,null,G,Y)),ir(t,f,w,!K);return}}Yy(t,n,f,r,s,o,w,A,B)}function Av(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var s=0;s<r.length;s++){var o=r[s],f=o.getSnapshot;o=o.value;try{if(!nn(f(),o))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(t,n,r,s){n&=~kf,n&=~Xr,t.suspendedLanes|=n,t.pingedLanes&=~n,s&&(t.warmLanes|=n),s=t.expirationTimes;for(var o=n;0<o;){var f=31-Ct(o),w=1<<f;s[f]=-1,o&=~w}r!==0&&Fd(t,r,n)}function Bu(){return(Xt&6)===0?($l(0),!1):!0}function Kf(){if(Rt!==null){if(qt===0)var t=Rt.return;else t=Rt,di=Ir=null,nf(t),xa=null,Cl=0,t=Rt;for(;t!==null;)py(t.alternate,t),t=t.return;Rt=null}}function Ma(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Gv(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),_i=0,Kf(),Jt=t,Rt=r=fi(t.current,null),Mt=n,qt=0,sn=null,Ji=!1,Ra=pl(t,n),Mf=!1,Ha=un=kf=Xr=tr=ue=0,Ze=Fl=null,Df=!1,(n&8)!==0&&(n|=n&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=n;0<s;){var o=31-Ct(s),f=1<<o;n|=t[o],s&=~f}return Si=n,Qs(),r}function zy(t,n){Ut=null,H.H=Ll,n===_a||n===au?(n=tp(),qt=3):n===Vc?(n=tp(),qt=4):qt=n===bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sn=n,Rt===null&&(ue=1,bu(t,En(n,t.current)))}function Ly(){var t=an.current;return t===null?!0:(Mt&4194048)===Mt?An===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===An:!1}function jy(){var t=H.H;return H.H=Ll,t===null?Ll:t}function Ky(){var t=H.A;return H.A=wv,t}function Cu(){ue=4,Ji||(Mt&4194048)!==Mt&&an.current!==null||(Ra=!0),(tr&134217727)===0&&(Xr&134217727)===0||Jt===null||ir(Jt,Mt,un,!1)}function Gf(t,n,r){var s=Xt;Xt|=2;var o=jy(),f=Ky();(Jt!==t||Mt!==n)&&(Ou=null,Ma(t,n)),n=!1;var w=ue;t:do try{if(qt!==0&&Rt!==null){var A=Rt,B=sn;switch(qt){case 8:Kf(),w=6;break t;case 3:case 2:case 9:case 6:an.current===null&&(n=!0);var K=qt;if(qt=0,sn=null,ka(t,A,B,K),r&&Ra){w=0;break t}break;default:K=qt,qt=0,sn=null,ka(t,A,B,K)}}Sv(),w=ue;break}catch(P){zy(t,P)}while(!0);return n&&t.shellSuspendCounter++,di=Ir=null,Xt=s,H.H=o,H.A=f,Rt===null&&(Jt=null,Mt=0,Qs()),w}function Sv(){for(;Rt!==null;)Gy(Rt)}function _v(t,n){var r=Xt;Xt|=2;var s=jy(),o=Ky();Jt!==t||Mt!==n?(Ou=null,Uu=Ke()+500,Ma(t,n)):Ra=pl(t,n);t:do try{if(qt!==0&&Rt!==null){n=Rt;var f=sn;e:switch(qt){case 1:qt=0,sn=null,ka(t,n,f,1);break;case 2:case 9:if(W0(f)){qt=0,sn=null,Xy(n);break}n=function(){qt!==2&&qt!==9||Jt!==t||(qt=7),$n(t)},f.then(n,n);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:W0(f)?(qt=0,sn=null,Xy(n)):(qt=0,sn=null,ka(t,n,f,7));break;case 5:var w=null;switch(Rt.tag){case 26:w=Rt.memoizedState;case 5:case 27:var A=Rt;if(w?Ug(w):A.stateNode.complete){qt=0,sn=null;var B=A.sibling;if(B!==null)Rt=B;else{var K=A.return;K!==null?(Rt=K,Ru(K)):Rt=null}break e}}qt=0,sn=null,ka(t,n,f,5);break;case 6:qt=0,sn=null,ka(t,n,f,6);break;case 8:Kf(),ue=6;break t;default:throw Error(l(462))}}xv();break}catch(P){zy(t,P)}while(!0);return di=Ir=null,H.H=s,H.A=o,Xt=r,Rt!==null?0:(Jt=null,Mt=0,Qs(),ue)}function xv(){for(;Rt!==null&&!pn();)Gy(Rt)}function Gy(t){var n=hy(t.alternate,t,Si);t.memoizedProps=t.pendingProps,n===null?Ru(t):Rt=n}function Xy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ly(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=ly(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:nf(n);default:py(r,n),n=Rt=K0(n,Si),n=hy(r,n,Si)}t.memoizedProps=t.pendingProps,n===null?Ru(t):Rt=n}function ka(t,n,r,s){di=Ir=null,nf(n),xa=null,Cl=0;var o=n.return;try{if(dv(t,o,n,r,Mt)){ue=1,bu(t,En(r,t.current)),Rt=null;return}}catch(f){if(o!==null)throw Rt=o,f;ue=1,bu(t,En(r,t.current)),Rt=null;return}n.flags&32768?(Dt||s===1?t=!0:Ra||(Mt&536870912)!==0?t=!1:(Ji=t=!0,(s===2||s===9||s===3||s===6)&&(s=an.current,s!==null&&s.tag===13&&(s.flags|=16384))),Vy(n,t)):Ru(n)}function Ru(t){var n=t;do{if((n.flags&32768)!==0){Vy(n,Ji);return}t=n.return;var r=gv(n.alternate,n,Si);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ue===0&&(ue=5)}function Vy(t,n){do{var r=mv(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);ue=6,Rt=null}function Yy(t,n,r,s,o,f,w,A,B){t.cancelPendingCommit=null;do Hu();while(Ae!==0);if((Xt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=Oc,rw(t,r,f,w,A,B),t===Jt&&(Rt=Jt=null,Mt=0),Ia=n,nr=t,_i=r,zf=f,Lf=o,Iy=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ov(g,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,o=q.p,q.p=2,w=Xt,Xt|=4;try{Ev(t,n,r)}finally{Xt=w,q.p=o,H.T=s}}Ae=1,qy(),Fy(),Py()}}function qy(){if(Ae===1){Ae=0;var t=nr,n=Ia,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var s=q.p;q.p=2;var o=Xt;Xt|=4;try{Ty(n,t);var f=th,w=R0(t.containerInfo),A=f.focusedElem,B=f.selectionRange;if(w!==A&&A&&A.ownerDocument&&C0(A.ownerDocument.documentElement,A)){if(B!==null&&_c(A)){var K=B.start,P=B.end;if(P===void 0&&(P=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(P,A.value.length);else{var et=A.ownerDocument||document,G=et&&et.defaultView||window;if(G.getSelection){var Y=G.getSelection(),ht=A.textContent.length,wt=Math.min(B.start,ht),Wt=B.end===void 0?wt:Math.min(B.end,ht);!Y.extend&&wt>Wt&&(w=Wt,Wt=wt,wt=w);var k=B0(A,wt),R=B0(A,Wt);if(k&&R&&(Y.rangeCount!==1||Y.anchorNode!==k.node||Y.anchorOffset!==k.offset||Y.focusNode!==R.node||Y.focusOffset!==R.offset)){var j=et.createRange();j.setStart(k.node,k.offset),Y.removeAllRanges(),wt>Wt?(Y.addRange(j),Y.extend(R.node,R.offset)):(j.setEnd(R.node,R.offset),Y.addRange(j))}}}}for(et=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&et.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<et.length;A++){var tt=et[A];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Yu=!!Jf,th=Jf=null}finally{Xt=o,q.p=s,H.T=r}}t.current=n,Ae=2}}function Fy(){if(Ae===2){Ae=0;var t=nr,n=Ia,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var s=q.p;q.p=2;var o=Xt;Xt|=4;try{vy(t,n.alternate,n)}finally{Xt=o,q.p=s,H.T=r}}Ae=3}}function Py(){if(Ae===4||Ae===3){Ae=0,dl();var t=nr,n=Ia,r=_i,s=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ae=5:(Ae=0,Ia=nr=null,$y(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(er=null),ac(r),n=n.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(J,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=H.T,o=q.p,q.p=2,H.T=null;try{for(var f=t.onRecoverableError,w=0;w<s.length;w++){var A=s[w];f(A.value,{componentStack:A.stack})}}finally{H.T=n,q.p=o}}(_i&3)!==0&&Hu(),$n(t),o=t.pendingLanes,(r&261930)!==0&&(o&42)!==0?t===jf?Pl++:(Pl=0,jf=t):Pl=0,$l(0)}}function $y(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ol(n)))}function Hu(){return qy(),Fy(),Py(),Zy()}function Zy(){if(Ae!==5)return!1;var t=nr,n=zf;zf=0;var r=ac(_i),s=H.T,o=q.p;try{q.p=32>r?32:r,H.T=null,r=Lf,Lf=null;var f=nr,w=_i;if(Ae=0,Ia=nr=null,_i=0,(Xt&6)!==0)throw Error(l(331));var A=Xt;if(Xt|=4,Cy(f.current),Uy(f,f.current,w,r),Xt=A,$l(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(J,f)}catch{}return!0}finally{q.p=o,H.T=s,$y(t,n)}}function Qy(t,n,r){n=En(r,n),n=Ef(t.stateNode,n,2),t=$i(t,n,2),t!==null&&(yl(t,2),$n(t))}function Ft(t,n,r){if(t.tag===3)Qy(t,t,r);else for(;n!==null;){if(n.tag===3){Qy(n,t,r);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(er===null||!er.has(s))){t=En(r,t),r=Wp(2),s=$i(n,r,2),s!==null&&(Jp(r,s,n,t),yl(s,2),$n(s));break}}n=n.return}}function Xf(t,n,r){var s=t.pingCache;if(s===null){s=t.pingCache=new vv;var o=new Set;s.set(n,o)}else o=s.get(n),o===void 0&&(o=new Set,s.set(n,o));o.has(r)||(Mf=!0,o.add(r),t=Tv.bind(null,t,n,r),n.then(t,t))}function Tv(t,n,r){var s=t.pingCache;s!==null&&s.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Mt&r)===r&&(ue===4||ue===3&&(Mt&62914560)===Mt&&300>Ke()-Nu?(Xt&2)===0&&Ma(t,0):kf|=r,Ha===Mt&&(Ha=0)),$n(t)}function Wy(t,n){n===0&&(n=qd()),t=Cr(t,n),t!==null&&(yl(t,n),$n(t))}function Nv(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wy(t,r)}function Uv(t,n){var r=0;switch(t.tag){case 31:case 13:var s=t.stateNode,o=t.memoizedState;o!==null&&(r=o.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(n),Wy(t,r)}function Ov(t,n){return ia(t,n)}var Iu=null,Da=null,Vf=!1,Mu=!1,Yf=!1,rr=0;function $n(t){t!==Da&&t.next===null&&(Da===null?Iu=Da=t:Da=Da.next=t),Mu=!0,Vf||(Vf=!0,Cv())}function $l(t,n){if(!Yf&&Mu){Yf=!0;do for(var r=!1,s=Iu;s!==null;){if(t!==0){var o=s.pendingLanes;if(o===0)var f=0;else{var w=s.suspendedLanes,A=s.pingedLanes;f=(1<<31-Ct(42|t)+1)-1,f&=o&~(w&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,ng(s,f))}else f=Mt,f=Ls(s,s===Jt?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||pl(s,f)||(r=!0,ng(s,f));s=s.next}while(r);Yf=!1}}function Bv(){Jy()}function Jy(){Mu=Vf=!1;var t=0;rr!==0&&Kv()&&(t=rr);for(var n=Ke(),r=null,s=Iu;s!==null;){var o=s.next,f=tg(s,n);f===0?(s.next=null,r===null?Iu=o:r.next=o,o===null&&(Da=r)):(r=s,(t!==0||(f&3)!==0)&&(Mu=!0)),s=o}Ae!==0&&Ae!==5||$l(t),rr!==0&&(rr=0)}function tg(t,n){for(var r=t.suspendedLanes,s=t.pingedLanes,o=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var w=31-Ct(f),A=1<<w,B=o[w];B===-1?((A&r)===0||(A&s)!==0)&&(o[w]=iw(A,n)):B<=n&&(t.expiredLanes|=A),f&=~A}if(n=Jt,r=Mt,r=Ls(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,r===0||t===n&&(qt===2||qt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&ji(s),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||pl(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(s!==null&&ji(s),ac(r)){case 2:case 8:r=S;break;case 32:r=g;break;case 268435456:r=T;break;default:r=g}return s=eg.bind(null,t),r=ia(r,s),t.callbackPriority=n,t.callbackNode=r,n}return s!==null&&s!==null&&ji(s),t.callbackPriority=2,t.callbackNode=null,2}function eg(t,n){if(Ae!==0&&Ae!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Hu()&&t.callbackNode!==r)return null;var s=Mt;return s=Ls(t,t===Jt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(ky(t,s,n),tg(t,Ke()),t.callbackNode!=null&&t.callbackNode===r?eg.bind(null,t):null)}function ng(t,n){if(Hu())return null;ky(t,n,!0)}function Cv(){Xv(function(){(Xt&6)!==0?ia(Ms,Bv):Jy()})}function qf(){if(rr===0){var t=Aa;t===0&&(t=ks,ks<<=1,(ks&261888)===0&&(ks=256)),rr=t}return rr}function ig(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xs(""+t)}function rg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Rv(t,n,r,s,o){if(n==="submit"&&r&&r.stateNode===o){var f=ig((o[Ye]||null).action),w=s.submitter;w&&(n=(n=w[Ye]||null)?ig(n.formAction):w.getAttribute("formAction"),n!==null&&(f=n,w=null));var A=new Fs("action","action",null,s,o);t.push({event:A,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(rr!==0){var B=w?rg(o,w):new FormData(o);hf(r,{pending:!0,data:B,method:o.method,action:f},null,B)}}else typeof f=="function"&&(A.preventDefault(),B=w?rg(o,w):new FormData(o),hf(r,{pending:!0,data:B,method:o.method,action:f},f,B))},currentTarget:o}]})}}for(var Ff=0;Ff<Uc.length;Ff++){var Pf=Uc[Ff],Hv=Pf.toLowerCase(),Iv=Pf[0].toUpperCase()+Pf.slice(1);Dn(Hv,"on"+Iv)}Dn(M0,"onAnimationEnd"),Dn(k0,"onAnimationIteration"),Dn(D0,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(Zw,"onTransitionRun"),Dn(Qw,"onTransitionStart"),Dn(Ww,"onTransitionCancel"),Dn(z0,"onTransitionEnd"),ua("onMouseEnter",["mouseout","mouseover"]),ua("onMouseLeave",["mouseout","mouseover"]),ua("onPointerEnter",["pointerout","pointerover"]),ua("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function ag(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var s=t[r],o=s.event;s=s.listeners;t:{var f=void 0;if(n)for(var w=s.length-1;0<=w;w--){var A=s[w],B=A.instance,K=A.currentTarget;if(A=A.listener,B!==f&&o.isPropagationStopped())break t;f=A,o.currentTarget=K;try{f(o)}catch(P){Zs(P)}o.currentTarget=null,f=B}else for(w=0;w<s.length;w++){if(A=s[w],B=A.instance,K=A.currentTarget,A=A.listener,B!==f&&o.isPropagationStopped())break t;f=A,o.currentTarget=K;try{f(o)}catch(P){Zs(P)}o.currentTarget=null,f=B}}}}function Ht(t,n){var r=n[lc];r===void 0&&(r=n[lc]=new Set);var s=t+"__bubble";r.has(s)||(lg(n,t,2,!1),r.add(s))}function $f(t,n,r){var s=0;n&&(s|=4),lg(r,t,s,n)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Zf(t){if(!t[ku]){t[ku]=!0,Jd.forEach(function(r){r!=="selectionchange"&&(Mv.has(r)||$f(r,!1,t),$f(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ku]||(n[ku]=!0,$f("selectionchange",!1,n))}}function lg(t,n,r,s){switch(Mg(n)){case 2:var o=oA;break;case 8:o=cA;break;default:o=fh}r=o.bind(null,n,r,t),o=void 0,!yc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),s?o!==void 0?t.addEventListener(n,r,{capture:!0,passive:o}):t.addEventListener(n,r,!0):o!==void 0?t.addEventListener(n,r,{passive:o}):t.addEventListener(n,r,!1)}function Qf(t,n,r,s,o){var f=s;if((n&1)===0&&(n&2)===0&&s!==null)t:for(;;){if(s===null)return;var w=s.tag;if(w===3||w===4){var A=s.stateNode.containerInfo;if(A===o)break;if(w===4)for(w=s.return;w!==null;){var B=w.tag;if((B===3||B===4)&&w.stateNode.containerInfo===o)return;w=w.return}for(;A!==null;){if(w=aa(A),w===null)return;if(B=w.tag,B===5||B===6||B===26||B===27){s=f=w;continue t}A=A.parentNode}}s=s.return}f0(function(){var K=f,P=dc(r),et=[];t:{var G=L0.get(t);if(G!==void 0){var Y=Fs,ht=t;switch(t){case"keypress":if(Ys(r)===0)break t;case"keydown":case"keyup":Y=Uw;break;case"focusin":ht="focus",Y=bc;break;case"focusout":ht="blur",Y=bc;break;case"beforeblur":case"afterblur":Y=bc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=p0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=gw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Cw;break;case M0:case k0:case D0:Y=bw;break;case z0:Y=Hw;break;case"scroll":case"scrollend":Y=pw;break;case"wheel":Y=Mw;break;case"copy":case"cut":case"paste":Y=vw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=g0;break;case"toggle":case"beforetoggle":Y=Dw}var wt=(n&4)!==0,Wt=!wt&&(t==="scroll"||t==="scrollend"),k=wt?G!==null?G+"Capture":null:G;wt=[];for(var R=K,j;R!==null;){var tt=R;if(j=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||j===null||k===null||(tt=El(R,k),tt!=null&&wt.push(Ql(R,tt,j))),Wt)break;R=R.return}0<wt.length&&(G=new Y(G,ht,null,r,P),et.push({event:G,listeners:wt}))}}if((n&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&r!==hc&&(ht=r.relatedTarget||r.fromElement)&&(aa(ht)||ht[ra]))break t;if((Y||G)&&(G=P.window===P?P:(G=P.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(ht=r.relatedTarget||r.toElement,Y=K,ht=ht?aa(ht):null,ht!==null&&(Wt=c(ht),wt=ht.tag,ht!==Wt||wt!==5&&wt!==27&&wt!==6)&&(ht=null)):(Y=null,ht=K),Y!==ht)){if(wt=p0,tt="onMouseLeave",k="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(wt=g0,tt="onPointerLeave",k="onPointerEnter",R="pointer"),Wt=Y==null?G:ml(Y),j=ht==null?G:ml(ht),G=new wt(tt,R+"leave",Y,r,P),G.target=Wt,G.relatedTarget=j,tt=null,aa(P)===K&&(wt=new wt(k,R+"enter",ht,r,P),wt.target=j,wt.relatedTarget=Wt,tt=wt),Wt=tt,Y&&ht)e:{for(wt=kv,k=Y,R=ht,j=0,tt=k;tt;tt=wt(tt))j++;tt=0;for(var mt=R;mt;mt=wt(mt))tt++;for(;0<j-tt;)k=wt(k),j--;for(;0<tt-j;)R=wt(R),tt--;for(;j--;){if(k===R||R!==null&&k===R.alternate){wt=k;break e}k=wt(k),R=wt(R)}wt=null}else wt=null;Y!==null&&sg(et,G,Y,wt,!1),ht!==null&&Wt!==null&&sg(et,Wt,ht,wt,!0)}}t:{if(G=K?ml(K):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var jt=_0;else if(A0(G))if(x0)jt=Fw;else{jt=Yw;var pt=Vw}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?K&&fc(K.elementType)&&(jt=_0):jt=qw;if(jt&&(jt=jt(t,K))){S0(et,jt,r,P);break t}pt&&pt(t,G,K),t==="focusout"&&K&&G.type==="number"&&K.memoizedProps.value!=null&&cc(G,"number",G.value)}switch(pt=K?ml(K):window,t){case"focusin":(A0(pt)||pt.contentEditable==="true")&&(pa=pt,xc=K,Tl=null);break;case"focusout":Tl=xc=pa=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,H0(et,r,P);break;case"selectionchange":if($w)break;case"keydown":case"keyup":H0(et,r,P)}var Ot;if(vc)t:{switch(t){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else da?w0(t,r)&&(kt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(kt="onCompositionStart");kt&&(m0&&r.locale!=="ko"&&(da||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&da&&(Ot=h0()):(Gi=P,gc="value"in Gi?Gi.value:Gi.textContent,da=!0)),pt=Du(K,kt),0<pt.length&&(kt=new y0(kt,t,null,r,P),et.push({event:kt,listeners:pt}),Ot?kt.data=Ot:(Ot=v0(r),Ot!==null&&(kt.data=Ot)))),(Ot=Lw?jw(t,r):Kw(t,r))&&(kt=Du(K,"onBeforeInput"),0<kt.length&&(pt=new y0("onBeforeInput","beforeinput",null,r,P),et.push({event:pt,listeners:kt}),pt.data=Ot)),Rv(et,t,K,r,P)}ag(et,n)})}function Ql(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Du(t,n){for(var r=n+"Capture",s=[];t!==null;){var o=t,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=El(t,r),o!=null&&s.unshift(Ql(t,o,f)),o=El(t,n),o!=null&&s.push(Ql(t,o,f))),t.tag===3)return s;t=t.return}return[]}function kv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sg(t,n,r,s,o){for(var f=n._reactName,w=[];r!==null&&r!==s;){var A=r,B=A.alternate,K=A.stateNode;if(A=A.tag,B!==null&&B===s)break;A!==5&&A!==26&&A!==27||K===null||(B=K,o?(K=El(r,f),K!=null&&w.unshift(Ql(r,K,B))):o||(K=El(r,f),K!=null&&w.push(Ql(r,K,B)))),r=r.return}w.length!==0&&t.push({event:n,listeners:w})}var Dv=/\r\n?/g,zv=/\u0000|\uFFFD/g;function ug(t){return(typeof t=="string"?t:""+t).replace(Dv,`
`).replace(zv,"")}function og(t,n){return n=ug(n),ug(t)===n}function Qt(t,n,r,s,o,f){switch(r){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||ca(t,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&ca(t,""+s);break;case"className":Ks(t,"class",s);break;case"tabIndex":Ks(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(t,r,s);break;case"style":o0(t,s,f);break;case"data":if(n!=="object"){Ks(t,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(r);break}s=Xs(""+s),t.setAttribute(r,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",o.name,o,null),Qt(t,n,"formEncType",o.formEncType,o,null),Qt(t,n,"formMethod",o.formMethod,o,null),Qt(t,n,"formTarget",o.formTarget,o,null)):(Qt(t,n,"encType",o.encType,o,null),Qt(t,n,"method",o.method,o,null),Qt(t,n,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(r);break}s=Xs(""+s),t.setAttribute(r,s);break;case"onClick":s!=null&&(t.onclick=oi);break;case"onScroll":s!=null&&Ht("scroll",t);break;case"onScrollEnd":s!=null&&Ht("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(r=s.__html,r!=null){if(o.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}r=Xs(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(r,""+s):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":s===!0?t.setAttribute(r,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(r,s):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(r,s):t.removeAttribute(r);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(r):t.setAttribute(r,s);break;case"popover":Ht("beforetoggle",t),Ht("toggle",t),js(t,"popover",s);break;case"xlinkActuate":ui(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ui(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ui(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ui(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ui(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ui(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ui(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ui(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ui(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":js(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hw.get(r)||r,js(t,r,s))}}function Wf(t,n,r,s,o,f){switch(r){case"style":o0(t,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(r=s.__html,r!=null){if(o.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof s=="string"?ca(t,s):(typeof s=="number"||typeof s=="bigint")&&ca(t,""+s);break;case"onScroll":s!=null&&Ht("scroll",t);break;case"onScrollEnd":s!=null&&Ht("scrollend",t);break;case"onClick":s!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!t0.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(o=r.endsWith("Capture"),n=r.slice(2,o?r.length-7:void 0),f=t[Ye]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,o),typeof s=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,s,o);break t}r in t?t[r]=s:s===!0?t.setAttribute(r,""):js(t,r,s)}}}function He(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",t),Ht("load",t);var s=!1,o=!1,f;for(f in r)if(r.hasOwnProperty(f)){var w=r[f];if(w!=null)switch(f){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Qt(t,n,f,w,r,null)}}o&&Qt(t,n,"srcSet",r.srcSet,r,null),s&&Qt(t,n,"src",r.src,r,null);return;case"input":Ht("invalid",t);var A=f=w=o=null,B=null,K=null;for(s in r)if(r.hasOwnProperty(s)){var P=r[s];if(P!=null)switch(s){case"name":o=P;break;case"type":w=P;break;case"checked":B=P;break;case"defaultChecked":K=P;break;case"value":f=P;break;case"defaultValue":A=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,n));break;default:Qt(t,n,s,P,r,null)}}a0(t,f,A,B,K,w,o,!1);return;case"select":Ht("invalid",t),s=w=f=null;for(o in r)if(r.hasOwnProperty(o)&&(A=r[o],A!=null))switch(o){case"value":f=A;break;case"defaultValue":w=A;break;case"multiple":s=A;default:Qt(t,n,o,A,r,null)}n=f,r=w,t.multiple=!!s,n!=null?oa(t,!!s,n,!1):r!=null&&oa(t,!!s,r,!0);return;case"textarea":Ht("invalid",t),f=o=s=null;for(w in r)if(r.hasOwnProperty(w)&&(A=r[w],A!=null))switch(w){case"value":s=A;break;case"defaultValue":o=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(91));break;default:Qt(t,n,w,A,r,null)}s0(t,s,o,f);return;case"option":for(B in r)r.hasOwnProperty(B)&&(s=r[B],s!=null)&&(B==="selected"?t.selected=s&&typeof s!="function"&&typeof s!="symbol":Qt(t,n,B,s,r,null));return;case"dialog":Ht("beforetoggle",t),Ht("toggle",t),Ht("cancel",t),Ht("close",t);break;case"iframe":case"object":Ht("load",t);break;case"video":case"audio":for(s=0;s<Zl.length;s++)Ht(Zl[s],t);break;case"image":Ht("error",t),Ht("load",t);break;case"details":Ht("toggle",t);break;case"embed":case"source":case"link":Ht("error",t),Ht("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(s=r[K],s!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Qt(t,n,K,s,r,null)}return;default:if(fc(n)){for(P in r)r.hasOwnProperty(P)&&(s=r[P],s!==void 0&&Wf(t,n,P,s,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(s=r[A],s!=null&&Qt(t,n,A,s,r,null))}function Lv(t,n,r,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,w=null,A=null,B=null,K=null,P=null;for(Y in r){var et=r[Y];if(r.hasOwnProperty(Y)&&et!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":B=et;default:s.hasOwnProperty(Y)||Qt(t,n,Y,null,s,et)}}for(var G in s){var Y=s[G];if(et=r[G],s.hasOwnProperty(G)&&(Y!=null||et!=null))switch(G){case"type":f=Y;break;case"name":o=Y;break;case"checked":K=Y;break;case"defaultChecked":P=Y;break;case"value":w=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(137,n));break;default:Y!==et&&Qt(t,n,G,Y,s,et)}}oc(t,w,A,B,K,P,f,o);return;case"select":Y=w=A=G=null;for(f in r)if(B=r[f],r.hasOwnProperty(f)&&B!=null)switch(f){case"value":break;case"multiple":Y=B;default:s.hasOwnProperty(f)||Qt(t,n,f,null,s,B)}for(o in s)if(f=s[o],B=r[o],s.hasOwnProperty(o)&&(f!=null||B!=null))switch(o){case"value":G=f;break;case"defaultValue":A=f;break;case"multiple":w=f;default:f!==B&&Qt(t,n,o,f,s,B)}n=A,r=w,s=Y,G!=null?oa(t,!!r,G,!1):!!s!=!!r&&(n!=null?oa(t,!!r,n,!0):oa(t,!!r,r?[]:"",!1));return;case"textarea":Y=G=null;for(A in r)if(o=r[A],r.hasOwnProperty(A)&&o!=null&&!s.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Qt(t,n,A,null,s,o)}for(w in s)if(o=s[w],f=r[w],s.hasOwnProperty(w)&&(o!=null||f!=null))switch(w){case"value":G=o;break;case"defaultValue":Y=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==f&&Qt(t,n,w,o,s,f)}l0(t,G,Y);return;case"option":for(var ht in r)G=r[ht],r.hasOwnProperty(ht)&&G!=null&&!s.hasOwnProperty(ht)&&(ht==="selected"?t.selected=!1:Qt(t,n,ht,null,s,G));for(B in s)G=s[B],Y=r[B],s.hasOwnProperty(B)&&G!==Y&&(G!=null||Y!=null)&&(B==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":Qt(t,n,B,G,s,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in r)G=r[wt],r.hasOwnProperty(wt)&&G!=null&&!s.hasOwnProperty(wt)&&Qt(t,n,wt,null,s,G);for(K in s)if(G=s[K],Y=r[K],s.hasOwnProperty(K)&&G!==Y&&(G!=null||Y!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,n));break;default:Qt(t,n,K,G,s,Y)}return;default:if(fc(n)){for(var Wt in r)G=r[Wt],r.hasOwnProperty(Wt)&&G!==void 0&&!s.hasOwnProperty(Wt)&&Wf(t,n,Wt,void 0,s,G);for(P in s)G=s[P],Y=r[P],!s.hasOwnProperty(P)||G===Y||G===void 0&&Y===void 0||Wf(t,n,P,G,s,Y);return}}for(var k in r)G=r[k],r.hasOwnProperty(k)&&G!=null&&!s.hasOwnProperty(k)&&Qt(t,n,k,null,s,G);for(et in s)G=s[et],Y=r[et],!s.hasOwnProperty(et)||G===Y||G==null&&Y==null||Qt(t,n,et,G,s,Y)}function cg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),s=0;s<r.length;s++){var o=r[s],f=o.transferSize,w=o.initiatorType,A=o.duration;if(f&&A&&cg(w)){for(w=0,A=o.responseEnd,s+=1;s<r.length;s++){var B=r[s],K=B.startTime;if(K>A)break;var P=B.transferSize,et=B.initiatorType;P&&cg(et)&&(B=B.responseEnd,w+=P*(B<A?1:(A-K)/(B-K)))}if(--s,n+=8*(f+w)/(o.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jf=null,th=null;function zu(t){return t.nodeType===9?t:t.ownerDocument}function fg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function eh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nh=null;function Kv(){var t=window.event;return t&&t.type==="popstate"?t===nh?!1:(nh=t,!0):(nh=null,!1)}var dg=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,Xv=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(t){return pg.resolve(null).then(t).catch(Vv)}:dg;function Vv(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function yg(t,n){var r=n,s=0;do{var o=r.nextSibling;if(t.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"||r==="/&"){if(s===0){t.removeChild(o),Ka(n);return}s--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")s++;else if(r==="html")Wl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Wl(r);for(var f=r.firstChild;f;){var w=f.nextSibling,A=f.nodeName;f[gl]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=w}}else r==="body"&&Wl(t.ownerDocument.body);r=o}while(r);Ka(n)}function gg(t,n){var r=t;t=0;do{var s=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=s}while(r)}function ih(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ih(r),sc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Yv(t,n,r,s){for(;t.nodeType===1;){var o=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[gl])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Sn(t.nextSibling),t===null)break}return null}function qv(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Sn(t.nextSibling),t===null))return null;return t}function mg(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Sn(t.nextSibling),t===null))return null;return t}function rh(t){return t.data==="$?"||t.data==="$~"}function ah(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Fv(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var s=function(){n(),r.removeEventListener("DOMContentLoaded",s)};r.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Sn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var lh=null;function Eg(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Sn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function bg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function wg(t,n,r){switch(n=zu(r),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);sc(t)}var _n=new Map,vg=new Set;function Lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xi=q.d;q.d={f:Pv,r:$v,D:Zv,C:Qv,L:Wv,m:Jv,X:eA,S:tA,M:nA};function Pv(){var t=xi.f(),n=Bu();return t||n}function $v(t){var n=la(t);n!==null&&n.tag===5&&n.type==="form"?zp(n):xi.r(t)}var za=typeof document>"u"?null:document;function Ag(t,n,r){var s=za;if(s&&typeof n=="string"&&n){var o=gn(n);o='link[rel="'+t+'"][href="'+o+'"]',typeof r=="string"&&(o+='[crossorigin="'+r+'"]'),vg.has(o)||(vg.add(o),t={rel:t,crossOrigin:r,href:n},s.querySelector(o)===null&&(n=s.createElement("link"),He(n,"link",t),Ne(n),s.head.appendChild(n)))}}function Zv(t){xi.D(t),Ag("dns-prefetch",t,null)}function Qv(t,n){xi.C(t,n),Ag("preconnect",t,n)}function Wv(t,n,r){xi.L(t,n,r);var s=za;if(s&&t&&n){var o='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(o+='[imagesrcset="'+gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(o+='[imagesizes="'+gn(r.imageSizes)+'"]')):o+='[href="'+gn(t)+'"]';var f=o;switch(n){case"style":f=La(t);break;case"script":f=ja(t)}_n.has(f)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),_n.set(f,t),s.querySelector(o)!==null||n==="style"&&s.querySelector(Jl(f))||n==="script"&&s.querySelector(ts(f))||(n=s.createElement("link"),He(n,"link",t),Ne(n),s.head.appendChild(n)))}}function Jv(t,n){xi.m(t,n);var r=za;if(r&&t){var s=n&&typeof n.as=="string"?n.as:"script",o='link[rel="modulepreload"][as="'+gn(s)+'"][href="'+gn(t)+'"]',f=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(t)}if(!_n.has(f)&&(t=E({rel:"modulepreload",href:t},n),_n.set(f,t),r.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ts(f)))return}s=r.createElement("link"),He(s,"link",t),Ne(s),r.head.appendChild(s)}}}function tA(t,n,r){xi.S(t,n,r);var s=za;if(s&&t){var o=sa(s).hoistableStyles,f=La(t);n=n||"default";var w=o.get(f);if(!w){var A={loading:0,preload:null};if(w=s.querySelector(Jl(f)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=_n.get(f))&&sh(t,r);var B=w=s.createElement("link");Ne(B),He(B,"link",t),B._p=new Promise(function(K,P){B.onload=K,B.onerror=P}),B.addEventListener("load",function(){A.loading|=1}),B.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ju(w,n,s)}w={type:"stylesheet",instance:w,count:1,state:A},o.set(f,w)}}}function eA(t,n){xi.X(t,n);var r=za;if(r&&t){var s=sa(r).hoistableScripts,o=ja(t),f=s.get(o);f||(f=r.querySelector(ts(o)),f||(t=E({src:t,async:!0},n),(n=_n.get(o))&&uh(t,n),f=r.createElement("script"),Ne(f),He(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(o,f))}}function nA(t,n){xi.M(t,n);var r=za;if(r&&t){var s=sa(r).hoistableScripts,o=ja(t),f=s.get(o);f||(f=r.querySelector(ts(o)),f||(t=E({src:t,async:!0,type:"module"},n),(n=_n.get(o))&&uh(t,n),f=r.createElement("script"),Ne(f),He(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(o,f))}}function Sg(t,n,r,s){var o=(o=dt.current)?Lu(o):null;if(!o)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=La(r.href),r=sa(o).hoistableStyles,s=r.get(n),s||(s={type:"style",instance:null,count:0,state:null},r.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=La(r.href);var f=sa(o).hoistableStyles,w=f.get(t);if(w||(o=o.ownerDocument||o,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,w),(f=o.querySelector(Jl(t)))&&!f._p&&(w.instance=f,w.state.loading=5),_n.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},_n.set(t,r),f||iA(o,t,r,w.state))),n&&s===null)throw Error(l(528,""));return w}if(n&&s!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(r),r=sa(o).hoistableScripts,s=r.get(n),s||(s={type:"script",instance:null,count:0,state:null},r.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function La(t){return'href="'+gn(t)+'"'}function Jl(t){return'link[rel="stylesheet"]['+t+"]"}function _g(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function iA(t,n,r,s){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=t.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),He(n,"link",r),Ne(n),t.head.appendChild(n))}function ja(t){return'[src="'+gn(t)+'"]'}function ts(t){return"script[async]"+t}function xg(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var s=t.querySelector('style[data-href~="'+gn(r.href)+'"]');if(s)return n.instance=s,Ne(s),s;var o=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),Ne(s),He(s,"style",o),ju(s,r.precedence,t),n.instance=s;case"stylesheet":o=La(r.href);var f=t.querySelector(Jl(o));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;s=_g(r),(o=_n.get(o))&&sh(s,o),f=(t.ownerDocument||t).createElement("link"),Ne(f);var w=f;return w._p=new Promise(function(A,B){w.onload=A,w.onerror=B}),He(f,"link",s),n.state.loading|=4,ju(f,r.precedence,t),n.instance=f;case"script":return f=ja(r.src),(o=t.querySelector(ts(f)))?(n.instance=o,Ne(o),o):(s=r,(o=_n.get(f))&&(s=E({},r),uh(s,o)),t=t.ownerDocument||t,o=t.createElement("script"),Ne(o),He(o,"link",s),t.head.appendChild(o),n.instance=o);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,ju(s,r.precedence,t));return n.instance}function ju(t,n,r){for(var s=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,f=o,w=0;w<s.length;w++){var A=s[w];if(A.dataset.precedence===n)f=A;else if(f!==o)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function sh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function uh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ku=null;function Tg(t,n,r){if(Ku===null){var s=new Map,o=Ku=new Map;o.set(r,s)}else o=Ku,s=o.get(r),s||(s=new Map,o.set(r,s));if(s.has(t))return s;for(s.set(t,null),r=r.getElementsByTagName(t),o=0;o<r.length;o++){var f=r[o];if(!(f[gl]||f[Oe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var w=f.getAttribute(n)||"";w=t+w;var A=s.get(w);A?A.push(f):s.set(w,[f])}}return s}function Ng(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function rA(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ug(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function aA(t,n,r,s){if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var o=La(s.href),f=n.querySelector(Jl(o));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Gu.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Ne(f);return}f=n.ownerDocument||n,s=_g(s),(o=_n.get(o))&&sh(s,o),f=f.createElement("link"),Ne(f);var w=f;w._p=new Promise(function(A,B){w.onload=A,w.onerror=B}),He(f,"link",s),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Gu.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var oh=0;function lA(t,n){return t.stylesheets&&t.count===0&&Vu(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var s=setTimeout(function(){if(t.stylesheets&&Vu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&oh===0&&(oh=62500*jv());var o=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>oh?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Gu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function Vu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,n.forEach(sA,t),Xu=null,Gu.call(t))}function sA(t,n){if(!(n.state.loading&4)){var r=Xu.get(t);if(r)var s=r.get(null);else{r=new Map,Xu.set(t,r);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var w=o[f];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),s=w)}s&&r.set(null,s)}o=n.instance,w=o.getAttribute("data-precedence"),f=r.get(w)||s,f===s&&r.set(null,o),r.set(w,o),this.count++,s=Gu.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),f?f.parentNode.insertBefore(o,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),n.state.loading|=4}}var es={$$typeof:M,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function uA(t,n,r,s,o,f,w,A,B){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.hiddenUpdates=ic(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function Og(t,n,r,s,o,f,w,A,B,K,P,et){return t=new uA(t,n,r,w,B,K,P,et,A),n=1,f===!0&&(n|=24),f=rn(3,null,null,n),t.current=f,f.stateNode=t,n=Kc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:s,isDehydrated:r,cache:n},Yc(f),t}function Bg(t){return t?(t=ma,t):ma}function Cg(t,n,r,s,o,f){o=Bg(o),s.context===null?s.context=o:s.pendingContext=o,s=Pi(n),s.payload={element:r},f=f===void 0?null:f,f!==null&&(s.callback=f),r=$i(t,s,n),r!==null&&(Qe(r,t,n),Hl(r,t,n))}function Rg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function ch(t,n){Rg(t,n),(t=t.alternate)&&Rg(t,n)}function Hg(t){if(t.tag===13||t.tag===31){var n=Cr(t,67108864);n!==null&&Qe(n,t,67108864),ch(t,67108864)}}function Ig(t){if(t.tag===13||t.tag===31){var n=on();n=rc(n);var r=Cr(t,n);r!==null&&Qe(r,t,n),ch(t,n)}}var Yu=!0;function oA(t,n,r,s){var o=H.T;H.T=null;var f=q.p;try{q.p=2,fh(t,n,r,s)}finally{q.p=f,H.T=o}}function cA(t,n,r,s){var o=H.T;H.T=null;var f=q.p;try{q.p=8,fh(t,n,r,s)}finally{q.p=f,H.T=o}}function fh(t,n,r,s){if(Yu){var o=hh(s);if(o===null)Qf(t,n,s,qu,r),kg(t,s);else if(hA(o,t,n,r,s))s.stopPropagation();else if(kg(t,s),n&4&&-1<fA.indexOf(t)){for(;o!==null;){var f=la(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var w=Tr(f.pendingLanes);if(w!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var B=1<<31-Ct(w);A.entanglements[1]|=B,w&=~B}$n(f),(Xt&6)===0&&(Uu=Ke()+500,$l(0))}}break;case 31:case 13:A=Cr(f,2),A!==null&&Qe(A,f,2),Bu(),ch(f,2)}if(f=hh(s),f===null&&Qf(t,n,s,qu,r),f===o)break;o=f}o!==null&&s.stopPropagation()}else Qf(t,n,s,null,r)}}function hh(t){return t=dc(t),dh(t)}var qu=null;function dh(t){if(qu=null,t=aa(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=h(n),t!==null)return t;t=null}else if(r===31){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qu=t,null}function Mg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case Ms:return 2;case S:return 8;case g:case b:return 32;case T:return 268435456;default:return 32}default:return 32}}var ph=!1,lr=null,sr=null,ur=null,ns=new Map,is=new Map,or=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kg(t,n){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":ns.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":is.delete(n.pointerId)}}function rs(t,n,r,s,o,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:s,nativeEvent:f,targetContainers:[o]},n!==null&&(n=la(n),n!==null&&Hg(n)),t):(t.eventSystemFlags|=s,n=t.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),t)}function hA(t,n,r,s,o){switch(n){case"focusin":return lr=rs(lr,t,n,r,s,o),!0;case"dragenter":return sr=rs(sr,t,n,r,s,o),!0;case"mouseover":return ur=rs(ur,t,n,r,s,o),!0;case"pointerover":var f=o.pointerId;return ns.set(f,rs(ns.get(f)||null,t,n,r,s,o)),!0;case"gotpointercapture":return f=o.pointerId,is.set(f,rs(is.get(f)||null,t,n,r,s,o)),!0}return!1}function Dg(t){var n=aa(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=h(r),n!==null){t.blockedOn=n,Qd(t.priority,function(){Ig(r)});return}}else if(n===31){if(n=d(r),n!==null){t.blockedOn=n,Qd(t.priority,function(){Ig(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=hh(t.nativeEvent);if(r===null){r=t.nativeEvent;var s=new r.constructor(r.type,r);hc=s,r.target.dispatchEvent(s),hc=null}else return n=la(r),n!==null&&Hg(n),t.blockedOn=r,!1;n.shift()}return!0}function zg(t,n,r){Fu(t)&&r.delete(n)}function dA(){ph=!1,lr!==null&&Fu(lr)&&(lr=null),sr!==null&&Fu(sr)&&(sr=null),ur!==null&&Fu(ur)&&(ur=null),ns.forEach(zg),is.forEach(zg)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,ph||(ph=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dA)))}var $u=null;function Lg(t){$u!==t&&($u=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$u===t&&($u=null);for(var n=0;n<t.length;n+=3){var r=t[n],s=t[n+1],o=t[n+2];if(typeof s!="function"){if(dh(s||r)===null)continue;break}var f=la(r);f!==null&&(t.splice(n,3),n-=3,hf(f,{pending:!0,data:o,method:r.method,action:s},s,o))}}))}function Ka(t){function n(B){return Pu(B,t)}lr!==null&&Pu(lr,t),sr!==null&&Pu(sr,t),ur!==null&&Pu(ur,t),ns.forEach(n),is.forEach(n);for(var r=0;r<or.length;r++){var s=or[r];s.blockedOn===t&&(s.blockedOn=null)}for(;0<or.length&&(r=or[0],r.blockedOn===null);)Dg(r),r.blockedOn===null&&or.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(s=0;s<r.length;s+=3){var o=r[s],f=r[s+1],w=o[Ye]||null;if(typeof f=="function")w||Lg(r);else if(w){var A=null;if(f&&f.hasAttribute("formAction")){if(o=f,w=f[Ye]||null)A=w.formAction;else if(dh(o)!==null)continue}else A=w.action;typeof A=="function"?r[s+1]=A:(r.splice(s,3),s-=3),Lg(r)}}}function jg(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(w){return o=w})},focusReset:"manual",scroll:"manual"})}function n(){o!==null&&(o(),o=null),s||setTimeout(r,20)}function r(){if(!s&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),o!==null&&(o(),o=null)}}}function yh(t){this._internalRoot=t}Zu.prototype.render=yh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,s=on();Cg(r,s,t,n,null,null)},Zu.prototype.unmount=yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Cg(t.current,2,null,t,null,null),Bu(),n[ra]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Zd();t={blockedOn:null,target:t,priority:n};for(var r=0;r<or.length&&n!==0&&n<or[r].priority;r++);or.splice(r,0,t),r===0&&Dg(t)}};var Kg=i.version;if(Kg!=="19.2.4")throw Error(l(527,Kg,"19.2.4"));q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=y(n),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var pA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{J=Qu.inject(pA),bt=Qu}catch{}}return ls.createRoot=function(t,n){if(!u(t))throw Error(l(299));var r=!1,s="",o=Pp,f=$p,w=Zp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError)),n=Og(t,1,!1,null,null,r,s,null,o,f,w,jg),t[ra]=n.current,Zf(t),new yh(n)},ls.hydrateRoot=function(t,n,r){if(!u(t))throw Error(l(299));var s=!1,o="",f=Pp,w=$p,A=Zp,B=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(B=r.formState)),n=Og(t,1,!0,n,r??null,s,o,B,f,w,A,jg),n.context=Bg(null),r=n.current,s=on(),s=rc(s),o=Pi(s),o.callback=null,$i(r,o,s),r=s,n.current.lanes=r,yl(n,r),$n(n),t[ra]=n.current,Zf(t),new Zu(n)},ls.version="19.2.4",ls}var Qg;function xA(){if(Qg)return Eh.exports;Qg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(i){console.error(i)}}return e(),Eh.exports=_A(),Eh.exports}var TA=xA();const Wg={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},Ss={testnet:{label:"Testnet",mempoolApi:"https://mempool.space/testnet4/api",bitcoinNetwork:Wg},signet:{label:"Signet",mempoolApi:"https://mempool.space/signet/api",bitcoinNetwork:Wg}},NA="testnet",_s="m/86'/1'",fd={noSpendBlocks:5,multisigAfterBlocks:5,userOnlyAfterBlocks:10,heirOnlyAfterBlocks:20},Hi={WALLET:"btc_wallet",ACCOUNTS:"btc_accounts",TRANSACTIONS:"btc_transactions",NETWORK:"btc_network"},ri={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};function UA(e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return!1;const i=e[3];if(i===0||5+i>=e.length||e[4+i]!==2)return!1;const a=e[5+i];return!(a===0||6+i+a!==e.length||e[4]&128||i>1&&e[4]===0&&!(e[5]&128)||e[i+6]&128||a>1&&e[i+6]===0&&!(e[i+7]&128))}function OA(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(e[0]!==48)throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(e[2]!==2)throw new Error("Expected DER integer");const i=e[3];if(i===0)throw new Error("R length is zero");if(5+i>=e.length)throw new Error("R length is too long");if(e[4+i]!==2)throw new Error("Expected DER integer (2)");const a=e[5+i];if(a===0)throw new Error("S length is zero");if(6+i+a!==e.length)throw new Error("S length is invalid");if(e[4]&128)throw new Error("R value is negative");if(i>1&&e[4]===0&&!(e[5]&128))throw new Error("R value excessively padded");if(e[i+6]&128)throw new Error("S value is negative");if(a>1&&e[i+6]===0&&!(e[i+7]&128))throw new Error("S value excessively padded");return{r:e.slice(4,4+i),s:e.slice(6+i)}}function BA(e,i){const a=e.length,l=i.length;if(a===0)throw new Error("R length is zero");if(l===0)throw new Error("S length is zero");if(a>33)throw new Error("R length is too long");if(l>33)throw new Error("S length is too long");if(e[0]&128)throw new Error("R value is negative");if(i[0]&128)throw new Error("S value is negative");if(a>1&&e[0]===0&&!(e[1]&128))throw new Error("R value excessively padded");if(l>1&&i[0]===0&&!(i[1]&128))throw new Error("S value excessively padded");const u=new Uint8Array(6+a+l);return u[0]=48,u[1]=u.length-2,u[2]=2,u[3]=e.length,u.set(e,4),u[4+a]=2,u[5+a]=i.length,u.set(i,6+a),u}var $t;(function(e){e[e.OP_FALSE=0]="OP_FALSE",e[e.OP_0=0]="OP_0",e[e.OP_PUSHDATA1=76]="OP_PUSHDATA1",e[e.OP_PUSHDATA2=77]="OP_PUSHDATA2",e[e.OP_PUSHDATA4=78]="OP_PUSHDATA4",e[e.OP_1NEGATE=79]="OP_1NEGATE",e[e.OP_RESERVED=80]="OP_RESERVED",e[e.OP_TRUE=81]="OP_TRUE",e[e.OP_1=81]="OP_1",e[e.OP_2=82]="OP_2",e[e.OP_3=83]="OP_3",e[e.OP_4=84]="OP_4",e[e.OP_5=85]="OP_5",e[e.OP_6=86]="OP_6",e[e.OP_7=87]="OP_7",e[e.OP_8=88]="OP_8",e[e.OP_9=89]="OP_9",e[e.OP_10=90]="OP_10",e[e.OP_11=91]="OP_11",e[e.OP_12=92]="OP_12",e[e.OP_13=93]="OP_13",e[e.OP_14=94]="OP_14",e[e.OP_15=95]="OP_15",e[e.OP_16=96]="OP_16",e[e.OP_NOP=97]="OP_NOP",e[e.OP_VER=98]="OP_VER",e[e.OP_IF=99]="OP_IF",e[e.OP_NOTIF=100]="OP_NOTIF",e[e.OP_VERIF=101]="OP_VERIF",e[e.OP_VERNOTIF=102]="OP_VERNOTIF",e[e.OP_ELSE=103]="OP_ELSE",e[e.OP_ENDIF=104]="OP_ENDIF",e[e.OP_VERIFY=105]="OP_VERIFY",e[e.OP_RETURN=106]="OP_RETURN",e[e.OP_TOALTSTACK=107]="OP_TOALTSTACK",e[e.OP_FROMALTSTACK=108]="OP_FROMALTSTACK",e[e.OP_2DROP=109]="OP_2DROP",e[e.OP_2DUP=110]="OP_2DUP",e[e.OP_3DUP=111]="OP_3DUP",e[e.OP_2OVER=112]="OP_2OVER",e[e.OP_2ROT=113]="OP_2ROT",e[e.OP_2SWAP=114]="OP_2SWAP",e[e.OP_IFDUP=115]="OP_IFDUP",e[e.OP_DEPTH=116]="OP_DEPTH",e[e.OP_DROP=117]="OP_DROP",e[e.OP_DUP=118]="OP_DUP",e[e.OP_NIP=119]="OP_NIP",e[e.OP_OVER=120]="OP_OVER",e[e.OP_PICK=121]="OP_PICK",e[e.OP_ROLL=122]="OP_ROLL",e[e.OP_ROT=123]="OP_ROT",e[e.OP_SWAP=124]="OP_SWAP",e[e.OP_TUCK=125]="OP_TUCK",e[e.OP_CAT=126]="OP_CAT",e[e.OP_SUBSTR=127]="OP_SUBSTR",e[e.OP_LEFT=128]="OP_LEFT",e[e.OP_RIGHT=129]="OP_RIGHT",e[e.OP_SIZE=130]="OP_SIZE",e[e.OP_INVERT=131]="OP_INVERT",e[e.OP_AND=132]="OP_AND",e[e.OP_OR=133]="OP_OR",e[e.OP_XOR=134]="OP_XOR",e[e.OP_EQUAL=135]="OP_EQUAL",e[e.OP_EQUALVERIFY=136]="OP_EQUALVERIFY",e[e.OP_RESERVED1=137]="OP_RESERVED1",e[e.OP_RESERVED2=138]="OP_RESERVED2",e[e.OP_1ADD=139]="OP_1ADD",e[e.OP_1SUB=140]="OP_1SUB",e[e.OP_2MUL=141]="OP_2MUL",e[e.OP_2DIV=142]="OP_2DIV",e[e.OP_NEGATE=143]="OP_NEGATE",e[e.OP_ABS=144]="OP_ABS",e[e.OP_NOT=145]="OP_NOT",e[e.OP_0NOTEQUAL=146]="OP_0NOTEQUAL",e[e.OP_ADD=147]="OP_ADD",e[e.OP_SUB=148]="OP_SUB",e[e.OP_MUL=149]="OP_MUL",e[e.OP_DIV=150]="OP_DIV",e[e.OP_MOD=151]="OP_MOD",e[e.OP_LSHIFT=152]="OP_LSHIFT",e[e.OP_RSHIFT=153]="OP_RSHIFT",e[e.OP_BOOLAND=154]="OP_BOOLAND",e[e.OP_BOOLOR=155]="OP_BOOLOR",e[e.OP_NUMEQUAL=156]="OP_NUMEQUAL",e[e.OP_NUMEQUALVERIFY=157]="OP_NUMEQUALVERIFY",e[e.OP_NUMNOTEQUAL=158]="OP_NUMNOTEQUAL",e[e.OP_LESSTHAN=159]="OP_LESSTHAN",e[e.OP_GREATERTHAN=160]="OP_GREATERTHAN",e[e.OP_LESSTHANOREQUAL=161]="OP_LESSTHANOREQUAL",e[e.OP_GREATERTHANOREQUAL=162]="OP_GREATERTHANOREQUAL",e[e.OP_MIN=163]="OP_MIN",e[e.OP_MAX=164]="OP_MAX",e[e.OP_WITHIN=165]="OP_WITHIN",e[e.OP_RIPEMD160=166]="OP_RIPEMD160",e[e.OP_SHA1=167]="OP_SHA1",e[e.OP_SHA256=168]="OP_SHA256",e[e.OP_HASH160=169]="OP_HASH160",e[e.OP_HASH256=170]="OP_HASH256",e[e.OP_CODESEPARATOR=171]="OP_CODESEPARATOR",e[e.OP_CHECKSIG=172]="OP_CHECKSIG",e[e.OP_CHECKSIGVERIFY=173]="OP_CHECKSIGVERIFY",e[e.OP_CHECKMULTISIG=174]="OP_CHECKMULTISIG",e[e.OP_CHECKMULTISIGVERIFY=175]="OP_CHECKMULTISIGVERIFY",e[e.OP_NOP1=176]="OP_NOP1",e[e.OP_CHECKLOCKTIMEVERIFY=177]="OP_CHECKLOCKTIMEVERIFY",e[e.OP_NOP2=177]="OP_NOP2",e[e.OP_CHECKSEQUENCEVERIFY=178]="OP_CHECKSEQUENCEVERIFY",e[e.OP_NOP3=178]="OP_NOP3",e[e.OP_NOP4=179]="OP_NOP4",e[e.OP_NOP5=180]="OP_NOP5",e[e.OP_NOP6=181]="OP_NOP6",e[e.OP_NOP7=182]="OP_NOP7",e[e.OP_NOP8=183]="OP_NOP8",e[e.OP_NOP9=184]="OP_NOP9",e[e.OP_NOP10=185]="OP_NOP10",e[e.OP_CHECKSIGADD=186]="OP_CHECKSIGADD",e[e.OP_PUBKEYHASH=253]="OP_PUBKEYHASH",e[e.OP_PUBKEY=254]="OP_PUBKEY",e[e.OP_INVALIDOPCODE=255]="OP_INVALIDOPCODE"})($t||($t={}));const bo="0123456789abcdefABCDEF",wo=bo.split("").map(e=>e.codePointAt(0)),vo=Array(256).fill(!0).map((e,i)=>{const a=String.fromCodePoint(i),l=bo.indexOf(a);return l<0?void 0:l<16?l:l-6}),b1=new TextEncoder,w1=new TextDecoder;function CA(e){return w1.decode(e)}function RA(e){return b1.encode(e)}function le(e){const i=e.reduce((u,c)=>u+c.length,0),a=new Uint8Array(i);let l=0;for(const u of e)a.set(u,l),l+=u.length;return a}function _t(e){const i=e||new Uint8Array;return i.length>512?IA(i):HA(i)}function HA(e){let i="";for(let a=0;a<e.length;++a)i+=bo[vo[wo[e[a]>>4]]],i+=bo[vo[wo[e[a]&15]]];return i}function IA(e){const i=new Uint8Array(e.length*2);for(let a=0;a<e.length;++a)i[a*2]=wo[e[a]>>4],i[a*2+1]=wo[e[a]&15];return w1.decode(i)}function zi(e){const i=b1.encode(e||""),a=new Uint8Array(Math.floor(i.length/2));let l;for(l=0;l<a.length;l++){const u=vo[i[l*2]],c=vo[i[l*2+1]];if(u===void 0||c===void 0)break;a[l]=u<<4|c}return l===a.length?a:a.slice(0,l)}function MA(e){return btoa(String.fromCharCode(...e))}function v1(e){const i=atob(e),a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}function ft(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;++l)if(e[l]!==i[l])return e[l]<i[l]?-1:1;return e.length===i.length?0:e.length>i.length?1:-1}function fn(e,i,a){if(i+1>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a>255)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 255. Received ${a}`);return e[i]=a,i+1}function kA(e,i,a,l){if(i+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(l=l.toUpperCase(),a>65535)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 65535. Received ${a}`);return l==="LE"?(e[i]=a&255,e[i+1]=a>>8&255):(e[i]=a>>8&255,e[i+1]=a&255),i+2}function xs(e,i,a,l){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(l=l.toUpperCase(),a>4294967295)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${4294967295}. Received ${a}`);return l==="LE"?(e[i]=a&255,e[i+1]=a>>8&255,e[i+2]=a>>16&255,e[i+3]=a>>24&255):(e[i]=a>>24&255,e[i+1]=a>>16&255,e[i+2]=a>>8&255,e[i+3]=a&255),i+4}function DA(e,i,a,l){if(i+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(l=l.toUpperCase(),a>0xffffffffffffffffn)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${0xffffffffffffffffn}. Received ${a}`);return l==="LE"?(e[i]=Number(a&0xffn),e[i+1]=Number(a>>8n&0xffn),e[i+2]=Number(a>>16n&0xffn),e[i+3]=Number(a>>24n&0xffn),e[i+4]=Number(a>>32n&0xffn),e[i+5]=Number(a>>40n&0xffn),e[i+6]=Number(a>>48n&0xffn),e[i+7]=Number(a>>56n&0xffn)):(e[i]=Number(a>>56n&0xffn),e[i+1]=Number(a>>48n&0xffn),e[i+2]=Number(a>>40n&0xffn),e[i+3]=Number(a>>32n&0xffn),e[i+4]=Number(a>>24n&0xffn),e[i+5]=Number(a>>16n&0xffn),e[i+6]=Number(a>>8n&0xffn),e[i+7]=Number(a&0xffn)),i+8}function ii(e,i){if(i+1>e.length)throw new Error("Offset is outside the bounds of Uint8Array");return e[i]}function zA(e,i,a){if(i+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){let l=0;return l=(l<<8)+e[i+1],l=(l<<8)+e[i],l}else{let l=0;return l=(l<<8)+e[i],l=(l<<8)+e[i+1],l}}function Jr(e,i,a){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){let l=0;return l=(l<<8)+e[i+3]>>>0,l=(l<<8)+e[i+2]>>>0,l=(l<<8)+e[i+1]>>>0,l=(l<<8)+e[i]>>>0,l}else{let l=0;return l=(l<<8)+e[i]>>>0,l=(l<<8)+e[i+1]>>>0,l=(l<<8)+e[i+2]>>>0,l=(l<<8)+e[i+3]>>>0,l}}function A1(e,i,a,l){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a>2147483647||a<-2147483648)throw new Error(`The value of "value" is out of range. It must be >= -2147483648 and <= 2147483647. Received ${a}`);return l=l.toUpperCase(),l==="LE"?(e[i]=a&255,e[i+1]=a>>8&255,e[i+2]=a>>16&255,e[i+3]=a>>24&255):(e[i]=a>>24&255,e[i+1]=a>>16&255,e[i+2]=a>>8&255,e[i+3]=a&255),i+4}function S1(e,i,a,l){if(i+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a>0x7fffffffffffffffn||a<-0x8000000000000000n)throw new Error(`The value of "value" is out of range. It must be >= ${-0x8000000000000000n} and <= ${0x7fffffffffffffffn}. Received ${a}`);return l=l.toUpperCase(),l==="LE"?(e[i]=Number(a&0xffn),e[i+1]=Number(a>>8n&0xffn),e[i+2]=Number(a>>16n&0xffn),e[i+3]=Number(a>>24n&0xffn),e[i+4]=Number(a>>32n&0xffn),e[i+5]=Number(a>>40n&0xffn),e[i+6]=Number(a>>48n&0xffn),e[i+7]=Number(a>>56n&0xffn)):(e[i]=Number(a>>56n&0xffn),e[i+1]=Number(a>>48n&0xffn),e[i+2]=Number(a>>40n&0xffn),e[i+3]=Number(a>>32n&0xffn),e[i+4]=Number(a>>24n&0xffn),e[i+5]=Number(a>>16n&0xffn),e[i+6]=Number(a>>8n&0xffn),e[i+7]=Number(a&0xffn)),i+8}function LA(e,i,a){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){const l=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+(e[i+3]<<24>>>0);return e[i+3]<=127?l:l-4294967296}else{const l=(e[i]<<24>>>0)+(e[i+1]<<16)+(e[i+2]<<8)+e[i+3];return e[i]<=127?l:l-4294967296}}function _1(e,i,a){if(i+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");a=a.toUpperCase();let l=0n;if(a==="LE")return l=(l<<8n)+BigInt(e[i+7]),l=(l<<8n)+BigInt(e[i+6]),l=(l<<8n)+BigInt(e[i+5]),l=(l<<8n)+BigInt(e[i+4]),l=(l<<8n)+BigInt(e[i+3]),l=(l<<8n)+BigInt(e[i+2]),l=(l<<8n)+BigInt(e[i+1]),l=(l<<8n)+BigInt(e[i]),e[i+7]<=127?l:l-0x10000000000000000n;{let u=0n;return u=(u<<8n)+BigInt(e[i]),u=(u<<8n)+BigInt(e[i+1]),u=(u<<8n)+BigInt(e[i+2]),u=(u<<8n)+BigInt(e[i+3]),u=(u<<8n)+BigInt(e[i+4]),u=(u<<8n)+BigInt(e[i+5]),u=(u<<8n)+BigInt(e[i+6]),u=(u<<8n)+BigInt(e[i+7]),e[i]<=127?u:u-0x10000000000000000n}}function x1(e){return e<$t.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}function jA(e,i,a){const l=x1(i);return l===1?fn(e,a,i):l===2?(fn(e,a,$t.OP_PUSHDATA1),fn(e,a+1,i)):l===3?(fn(e,a,$t.OP_PUSHDATA2),kA(e,a+1,i,"LE")):(fn(e,a,$t.OP_PUSHDATA4),xs(e,a+1,i,"LE")),l}function KA(e,i){const a=ii(e,i);let l,u;if(a<$t.OP_PUSHDATA1)l=a,u=1;else if(a===$t.OP_PUSHDATA1){if(i+2>e.length)return null;l=ii(e,i+1),u=2}else if(a===$t.OP_PUSHDATA2){if(i+3>e.length)return null;l=zA(e,i+1,"LE"),u=3}else{if(i+5>e.length)return null;if(a!==$t.OP_PUSHDATA4)throw new Error("Unexpected opcode");l=Jr(e,i+1,"LE"),u=5}return{opcode:a,number:l,size:u}}function T1(e,i,a){i=i||4,a=a===void 0?!0:a;const l=e.length;if(l===0)return 0;if(l>i)throw new TypeError("Script number overflow");if(a&&(e[l-1]&127)===0&&(l<=1||(e[l-2]&128)===0))throw new Error("Non-minimally encoded script number");if(l===5){const c=Jr(e,0,"LE"),h=ii(e,4);return h&128?-((h&-129)*4294967296+c):h*4294967296+c}let u=0;for(let c=0;c<l;++c)u|=e[c]<<8*c;return e[l-1]&128?-(u&~(128<<8*(l-1))):u}function GA(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}function N1(e){let i=Math.abs(e);const a=GA(i),l=new Uint8Array(a),u=e<0;for(let c=0;c<a;++c)fn(l,c,i&255),i>>=8;return l[a-1]&128?fn(l,a-1,u?128:0):u&&(l[a-1]|=128),l}let Ah;function U1(e){return{lang:e?.lang??Ah?.lang,message:e?.message,abortEarly:e?.abortEarly??Ah?.abortEarly,abortPipeEarly:e?.abortPipeEarly??Ah?.abortPipeEarly}}let XA;function VA(e){return XA?.get(e)}let YA;function qA(e){return YA?.get(e)}let FA;function PA(e,i){return FA?.get(e)?.get(i)}function ys(e){const i=typeof e;return i==="string"?`"${e}"`:i==="number"||i==="bigint"||i==="boolean"?`${e}`:i==="object"||i==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":i}function je(e,i,a,l,u){const c=u&&"input"in u?u.input:a.value,h=u?.expected??e.expects??null,d=u?.received??ys(c),p={kind:e.kind,type:e.type,input:c,expected:h,received:d,message:`Invalid ${i}: ${h?`Expected ${h} but r`:"R"}eceived ${d}`,requirement:e.requirement,path:u?.path,issues:u?.issues,lang:l.lang,abortEarly:l.abortEarly,abortPipeEarly:l.abortPipeEarly},y=e.kind==="schema",m=u?.message??e.message??PA(e.reference,p.lang)??(y?qA(p.lang):null)??l.message??VA(p.lang);m!==void 0&&(p.message=typeof m=="function"?m(p):m),y&&(a.typed=!1),a.issues?a.issues.push(p):a.issues=[p]}function Ve(e){return{version:1,vendor:"valibot",validate(i){return e["~run"]({value:i},U1())}}}function $A(e,i){const a=[...new Set(e)];return a.length>1?`(${a.join(` ${i} `)})`:a[0]??"never"}var ZA=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function O1(e,i){return{kind:"validation",type:"every_item",reference:O1,async:!1,expects:null,requirement:e,message:i,"~run"(a,l){return a.typed&&!a.value.every(this.requirement)&&je(this,"item",a,l),a}}}function hd(e){return{kind:"validation",type:"integer",reference:hd,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(i,a){return i.typed&&!this.requirement(i.value)&&je(this,"integer",i,a),i}}}function B1(e,i){return{kind:"validation",type:"length",reference:B1,async:!1,expects:`${e}`,requirement:e,message:i,"~run"(a,l){return a.typed&&a.value.length!==this.requirement&&je(this,"length",a,l,{received:`${a.value.length}`}),a}}}function Ko(e,i){return{kind:"validation",type:"max_value",reference:Ko,async:!1,expects:`<=${e instanceof Date?e.toJSON():ys(e)}`,requirement:e,message:i,"~run"(a,l){return a.typed&&!(a.value<=this.requirement)&&je(this,"value",a,l,{received:a.value instanceof Date?a.value.toJSON():ys(a.value)}),a}}}function Go(e,i){return{kind:"validation",type:"min_value",reference:Go,async:!1,expects:`>=${e instanceof Date?e.toJSON():ys(e)}`,requirement:e,message:i,"~run"(a,l){return a.typed&&!(a.value>=this.requirement)&&je(this,"value",a,l,{received:a.value instanceof Date?a.value.toJSON():ys(a.value)}),a}}}function QA(e,i,a){return typeof e.fallback=="function"?e.fallback(i,a):e.fallback}function Xo(e,i,a){return typeof e.default=="function"?e.default(i,a):e.default}function Vo(e,i){return!e["~run"]({value:i},{abortEarly:!0}).issues}function C1(){return{kind:"schema",type:"any",reference:C1,expects:"any",async:!1,get"~standard"(){return Ve(this)},"~run"(e){return e.typed=!0,e}}}function Je(e,i){return{kind:"schema",type:"array",reference:Je,expects:"Array",async:!1,item:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,l){const u=a.value;if(Array.isArray(u)){a.typed=!0,a.value=[];for(let c=0;c<u.length;c++){const h=u[c],d=this.item["~run"]({value:h},l);if(d.issues){const p={type:"array",origin:"value",input:u,key:c,value:h};for(const y of d.issues)y.path?y.path.unshift(p):y.path=[p],a.issues?.push(y);if(a.issues||(a.issues=d.issues),l.abortEarly){a.typed=!1;break}}d.typed||(a.typed=!1),a.value.push(d.value)}}else je(this,"type",a,l);return a}}}function R1(e){return{kind:"schema",type:"bigint",reference:R1,expects:"bigint",async:!1,message:e,get"~standard"(){return Ve(this)},"~run"(i,a){return typeof i.value=="bigint"?i.typed=!0:je(this,"type",i,a),i}}}function Vn(e,i){return{kind:"schema",type:"custom",reference:Vn,expects:"unknown",async:!1,check:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,l){return this.check(a.value)?a.typed=!0:je(this,"type",a,l),a}}}function Yo(e,i){return{kind:"schema",type:"instance",reference:Yo,expects:e.name,async:!1,class:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,l){return a.value instanceof this.class?a.typed=!0:je(this,"type",a,l),a}}}function Yh(e,i){return{kind:"schema",type:"nullable",reference:Yh,expects:`(${e.expects} | null)`,async:!1,wrapped:e,default:i,get"~standard"(){return Ve(this)},"~run"(a,l){return a.value===null&&(this.default!==void 0&&(a.value=Xo(this,a,l)),a.value===null)?(a.typed=!0,a):this.wrapped["~run"](a,l)}}}function H1(e,i){return{kind:"schema",type:"nullish",reference:H1,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:i,get"~standard"(){return Ve(this)},"~run"(a,l){return(a.value===null||a.value===void 0)&&(this.default!==void 0&&(a.value=Xo(this,a,l)),a.value===null||a.value===void 0)?(a.typed=!0,a):this.wrapped["~run"](a,l)}}}function Un(e){return{kind:"schema",type:"number",reference:Un,expects:"number",async:!1,message:e,get"~standard"(){return Ve(this)},"~run"(i,a){return typeof i.value=="number"&&!isNaN(i.value)?i.typed=!0:je(this,"type",i,a),i}}}function ve(e,i){return{kind:"schema",type:"object",reference:ve,expects:"Object",async:!1,entries:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,l){const u=a.value;if(u&&typeof u=="object"){a.typed=!0,a.value={};for(const c in this.entries){const h=this.entries[c];if(c in u||(h.type==="exact_optional"||h.type==="optional"||h.type==="nullish")&&h.default!==void 0){const d=c in u?u[c]:Xo(h),p=h["~run"]({value:d},l);if(p.issues){const y={type:"object",origin:"value",input:u,key:c,value:d};for(const m of p.issues)m.path?m.path.unshift(y):m.path=[y],a.issues?.push(m);if(a.issues||(a.issues=p.issues),l.abortEarly){a.typed=!1;break}}p.typed||(a.typed=!1),a.value[c]=p.value}else if(h.fallback!==void 0)a.value[c]=QA(h);else if(h.type!=="exact_optional"&&h.type!=="optional"&&h.type!=="nullish"&&(je(this,"key",a,l,{input:void 0,expected:`"${c}"`,path:[{type:"object",origin:"key",input:u,key:c,value:u[c]}]}),l.abortEarly))break}}else je(this,"type",a,l);return a}}}function Ao(e,i){return{kind:"schema",type:"optional",reference:Ao,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:i,get"~standard"(){return Ve(this)},"~run"(a,l){return a.value===void 0&&(this.default!==void 0&&(a.value=Xo(this,a,l)),a.value===void 0)?(a.typed=!0,a):this.wrapped["~run"](a,l)}}}function el(e){return{kind:"schema",type:"string",reference:el,expects:"string",async:!1,message:e,get"~standard"(){return Ve(this)},"~run"(i,a){return typeof i.value=="string"?i.typed=!0:je(this,"type",i,a),i}}}function ti(e,i){return{kind:"schema",type:"tuple",reference:ti,expects:"Array",async:!1,items:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,l){const u=a.value;if(Array.isArray(u)){a.typed=!0,a.value=[];for(let c=0;c<this.items.length;c++){const h=u[c],d=this.items[c]["~run"]({value:h},l);if(d.issues){const p={type:"array",origin:"value",input:u,key:c,value:h};for(const y of d.issues)y.path?y.path.unshift(p):y.path=[p],a.issues?.push(y);if(a.issues||(a.issues=d.issues),l.abortEarly){a.typed=!1;break}}d.typed||(a.typed=!1),a.value.push(d.value)}}else je(this,"type",a,l);return a}}}function Jg(e){let i;if(e)for(const a of e)i?i.push(...a.issues):i=a.issues;return i}function dd(e,i){return{kind:"schema",type:"union",reference:dd,expects:$A(e.map(a=>a.expects),"|"),async:!1,options:e,message:i,get"~standard"(){return Ve(this)},"~run"(a,l){let u,c,h;for(const d of this.options){const p=d["~run"]({value:a.value},l);if(p.typed)if(p.issues)c?c.push(p):c=[p];else{u=p;break}else h?h.push(p):h=[p]}if(u)return u;if(c){if(c.length===1)return c[0];je(this,"type",a,l,{issues:Jg(c)}),a.typed=!0}else{if(h?.length===1)return h[0];je(this,"type",a,l,{issues:Jg(h)})}return a}}}function ye(e,i,a){const l=e["~run"]({value:i},U1(a));if(l.issues)throw new ZA(l.issues);return l.value}function Ar(e,i){const a={};for(const l in e.entries)a[l]=Ao(e.entries[l]);return{...e,entries:a,get"~standard"(){return Ve(this)}}}function Ts(...e){return{...e[0],pipe:e,get"~standard"(){return Ve(this)},"~run"(i,a){for(const l of e)if(l.kind!=="metadata"){if(i.issues&&(l.kind==="schema"||l.kind==="transformation")){i.typed=!1;break}(!i.issues||!a.abortEarly&&!a.abortPipeEarly)&&(i=l["~run"](i,a))}return i}}}const tm=new Uint8Array(32),em=zi("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),xe=e=>Ts(Yo(Uint8Array),B1(e));function gs(e,i){return e.length!==i.length?!1:e.every((a,l)=>ft(a,i[l])===0)}function Xn(e){if(!(e instanceof Uint8Array)||e.length<33)return!1;const i=e[0],a=e.slice(1,33);if(ft(tm,a)===0||ft(a,em)>=0)return!1;if((i===2||i===3)&&e.length===33)return!0;const l=e.slice(33);return ft(tm,l)===0||ft(l,em)>=0?!1:i===4&&e.length===65}const go=254;function pd(e){return!e||!("output"in e)||!(e.output instanceof Uint8Array)?!1:e.version!==void 0?(e.version&go)===e.version:!0}function I1(e){return Array.isArray(e)?e.length!==2?!1:e.every(i=>I1(i)):pd(e)}const WA=xe(32),JA=xe(20),nm=xe(32),Pt=Yo(Uint8Array),tS=Ts(Un(),hd(),Go(0),Ko(255)),Oi=Ts(Un(),hd(),Go(0),Ko(4294967295)),Sh=Ts(R1(),Go(0n),Ko(0x7fffffffffffffffn)),im=e=>ve(Object.entries(e).reduce((i,a)=>({...i,[a[0]]:H1(a[1])}),{})),rm=new Uint8Array(1);function am(e){let i=0;for(;e[i]===0;)++i;return i===e.length?rm:(e=e.slice(i),e[0]&128?le([rm,e]):e)}function lm(e){e[0]===0&&(e=e.slice(1));const i=new Uint8Array(32),a=Math.max(0,32-e.length);return i.set(e,a),i}function eS(e){const i=ii(e,e.length-1);if(!gd(i))throw new Error("Invalid hashType "+i);const a=OA(e.subarray(0,-1)),l=lm(a.r),u=lm(a.s);return{signature:le([l,u]),hashType:i}}function nS(e,i){if(ye(ve({signature:xe(64),hashType:tS}),{signature:e,hashType:i}),!gd(i))throw new Error("Invalid hashType "+i);const a=new Uint8Array(1);fn(a,0,i);const l=am(e.slice(0,32)),u=am(e.slice(32,64));return le([BA(l,u),a])}const iS=Object.freeze(Object.defineProperty({__proto__:null,decode:eS,encode:nS},Symbol.toStringTag,{value:"Module"})),M1=$t.OP_RESERVED,k1=Je(dd([Yo(Uint8Array),Un()]));function rS(e){return Vo(Un(),e)&&(e===$t.OP_0||e>=$t.OP_1&&e<=$t.OP_16||e===$t.OP_1NEGATE)}function D1(e){return Vo(Pt,e)||rS(e)}function yd(e){return Vo(Ts(C1(),O1(D1)),e)}function z1(e){return e.length-e.filter(D1).length}function So(e){if(e.length===0)return $t.OP_0;if(e.length===1){if(e[0]>=1&&e[0]<=16)return M1+e[0];if(e[0]===129)return $t.OP_1NEGATE}}function L1(e){return e instanceof Uint8Array}function aS(e){return Vo(k1,e)}function _o(e){return e instanceof Uint8Array}function tn(e){if(L1(e))return e;ye(k1,e);const i=e.reduce((u,c)=>_o(c)?c.length===1&&So(c)!==void 0?u+1:u+x1(c.length)+c.length:u+1,0),a=new Uint8Array(i);let l=0;if(e.forEach(u=>{if(_o(u)){const c=So(u);if(c!==void 0){fn(a,l,c),l+=1;return}l+=jA(a,u.length,l),a.set(u,l),l+=u.length}else fn(a,l,u),l+=1}),l!==a.length)throw new Error("Could not decode chunks");return a}function ce(e){if(aS(e))return e;ye(Pt,e);const i=[];let a=0;for(;a<e.length;){const l=e[a];if(l>$t.OP_0&&l<=$t.OP_PUSHDATA4){const u=KA(e,a);if(u===null||(a+=u.size,a+u.number>e.length))return null;const c=e.slice(a,a+u.number);a+=u.number;const h=So(c);h!==void 0?i.push(h):i.push(c)}else i.push(l),a+=1}return i}function lS(e){if(L1(e)&&(e=ce(e)),!e)throw new Error("Could not convert invalid chunks to ASM");return e.map(i=>{if(_o(i)){const a=So(i);if(a===void 0)return _t(i);i=a}return $t[i]}).join(" ")}function sS(e){return e=ce(e),ye(Vn(yd),e),e.map(i=>_o(i)?i:i===$t.OP_0?new Uint8Array(0):N1(i-M1))}function uS(e){return Xn(e)}function gd(e){const i=e&-129;return i>0&&i<4}function Mi(e){return!(e instanceof Uint8Array)||!gd(e[e.length-1])?!1:UA(e.slice(0,-1))}const ds=iS;function vt(e,i,a){Object.defineProperty(e,i,{configurable:!0,enumerable:!0,get(){const l=a.call(this);return this[i]=l,l},set(l){Object.defineProperty(this,i,{configurable:!0,enumerable:!0,value:l,writable:!0})}})}function On(e){let i;return()=>(i!==void 0||(i=e()),i)}const Ya=$t,xo=Ya.OP_RESERVED;function sm(e){return e<=16?xo+e:N1(e)}function um(e){if(typeof e=="number"){const i=e-xo;if(i<1||i>16)throw new TypeError(`Invalid opcode: expected OP_1OP_16, got ${e}`);return i}else return T1(e)}function om(e){return typeof e=="number"?e-xo>=1&&e-xo<=16:Number.isInteger(T1(e))}function Ns(e,i){if(!e.input&&!e.output&&!(e.pubkeys&&e.m!==void 0)&&!e.signatures)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{});function a(p){return Mi(p)||(i.allowIncomplete&&p===Ya.OP_0)!==void 0}ye(Ar(ve({network:ve({}),m:Un(),n:Un(),output:Pt,pubkeys:Je(Vn(Xn),"Received invalid pubkey"),signatures:Je(Vn(a),"Expected signature to be of type isAcceptableSignature"),input:Pt})),e);const u={network:e.network||ri};let c=[],h=!1;function d(p){if(!h){if(h=!0,c=ce(p),c.length<3)throw new TypeError("Output is invalid");u.m=um(c[0]),u.n=um(c[c.length-2]),u.pubkeys=c.slice(1,-2)}}if(vt(u,"output",()=>{if(e.m&&u.n&&e.pubkeys)return tn([].concat(sm(e.m),e.pubkeys,sm(u.n),Ya.OP_CHECKMULTISIG))}),vt(u,"m",()=>{if(u.output)return d(u.output),u.m}),vt(u,"n",()=>{if(u.pubkeys)return u.pubkeys.length}),vt(u,"pubkeys",()=>{if(e.output)return d(e.output),u.pubkeys}),vt(u,"signatures",()=>{if(e.input)return ce(e.input).slice(1)}),vt(u,"input",()=>{if(e.signatures)return tn([Ya.OP_0].concat(e.signatures))}),vt(u,"witness",()=>{if(u.input)return[]}),vt(u,"name",()=>{if(!(!u.m||!u.n))return`p2ms(${u.m} of ${u.n})`}),i.validate){if(e.output){if(d(e.output),!om(c[0]))throw new TypeError("Output is invalid");if(!om(c[c.length-2]))throw new TypeError("Output is invalid");if(c[c.length-1]!==Ya.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(u.m<=0||u.n>20||u.m>u.n||u.n!==c.length-3)throw new TypeError("Output is invalid");if(!u.pubkeys.every(p=>Xn(p)))throw new TypeError("Output is invalid");if(e.m!==void 0&&e.m!==u.m)throw new TypeError("m mismatch");if(e.n!==void 0&&e.n!==u.n)throw new TypeError("n mismatch");if(e.pubkeys&&!gs(e.pubkeys,u.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(e.n!==void 0&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(u.n=e.pubkeys.length,u.n<u.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<u.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>u.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==Ya.OP_0)throw new TypeError("Input is invalid");if(u.signatures.length===0||!u.signatures.every(a))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!gs(e.signatures,u.signatures))throw new TypeError("Signature mismatch");if(e.m!==void 0&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(u,e)}const cm=$t;function j1(e,i){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ye(Ar(ve({network:ve({}),output:Pt,pubkey:Vn(Xn,"invalid pubkey"),signature:Vn(Mi,"Expected signature to be of type isCanonicalScriptSignature"),input:Pt})),e);const a=On(()=>ce(e.input)),u={name:"p2pk",network:e.network||ri};if(vt(u,"output",()=>{if(e.pubkey)return tn([e.pubkey,cm.OP_CHECKSIG])}),vt(u,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),vt(u,"signature",()=>{if(e.input)return a()[0]}),vt(u,"input",()=>{if(e.signature)return tn([e.signature])}),vt(u,"witness",()=>{if(u.input)return[]}),i.validate){if(e.output){if(e.output[e.output.length-1]!==cm.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!Xn(u.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&ft(e.pubkey,u.pubkey)!==0)throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&ft(e.input,u.input)!==0)throw new TypeError("Signature mismatch");if(e.input){if(a().length!==1)throw new TypeError("Input is invalid");if(!Mi(u.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(u,e)}function oS(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function md(e,...i){if(!oS(e))throw new Error("Uint8Array expected");if(i.length>0&&!i.includes(e.length))throw new Error("Uint8Array expected of length "+i+", got length="+e.length)}function fm(e,i=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(i&&e.finished)throw new Error("Hash#digest() has already been called")}function cS(e,i){md(e);const a=i.outputLen;if(e.length<a)throw new Error("digestInto() expects output buffer of length at least "+a)}function ms(...e){for(let i=0;i<e.length;i++)e[i].fill(0)}function _h(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Zn(e,i){return e<<32-i|e>>>i}function Wu(e,i){return e<<i|e>>>32-i>>>0}function fS(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function K1(e){return typeof e=="string"&&(e=fS(e)),md(e),e}let hS=class{};function G1(e){const i=l=>e().update(K1(l)).digest(),a=e();return i.outputLen=a.outputLen,i.blockLen=a.blockLen,i.create=()=>e(),i}function dS(e,i,a,l){if(typeof e.setBigUint64=="function")return e.setBigUint64(i,a,l);const u=BigInt(32),c=BigInt(4294967295),h=Number(a>>u&c),d=Number(a&c),p=l?4:0,y=l?0:4;e.setUint32(i+p,h,l),e.setUint32(i+y,d,l)}function pS(e,i,a){return e&i^~e&a}function yS(e,i,a){return e&i^e&a^i&a}let X1=class extends hS{constructor(i,a,l,u){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=i,this.outputLen=a,this.padOffset=l,this.isLE=u,this.buffer=new Uint8Array(i),this.view=_h(this.buffer)}update(i){fm(this),i=K1(i),md(i);const{view:a,buffer:l,blockLen:u}=this,c=i.length;for(let h=0;h<c;){const d=Math.min(u-this.pos,c-h);if(d===u){const p=_h(i);for(;u<=c-h;h+=u)this.process(p,h);continue}l.set(i.subarray(h,h+d),this.pos),this.pos+=d,h+=d,this.pos===u&&(this.process(a,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){fm(this),cS(i,this),this.finished=!0;const{buffer:a,view:l,blockLen:u,isLE:c}=this;let{pos:h}=this;a[h++]=128,ms(this.buffer.subarray(h)),this.padOffset>u-h&&(this.process(l,0),h=0);for(let E=h;E<u;E++)a[E]=0;dS(l,u-8,BigInt(this.length*8),c),this.process(l,0);const d=_h(i),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=p/4,m=this.get();if(y>m.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<y;E++)d.setUint32(4*E,m[E],c)}digest(){const{buffer:i,outputLen:a}=this;this.digestInto(i);const l=i.slice(0,a);return this.destroy(),l}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:a,buffer:l,length:u,finished:c,destroyed:h,pos:d}=this;return i.destroyed=h,i.finished=c,i.length=u,i.pos=d,u%a&&i.buffer.set(l),i}clone(){return this._cloneInto()}};const fr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gS=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),V1=Uint8Array.from(new Array(16).fill(0).map((e,i)=>i)),mS=V1.map(e=>(9*e+5)%16),Y1=(()=>{const a=[[V1],[mS]];for(let l=0;l<4;l++)for(let u of a)u.push(u[l].map(c=>gS[c]));return a})(),q1=Y1[0],F1=Y1[1],P1=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),ES=q1.map((e,i)=>e.map(a=>P1[i][a])),bS=F1.map((e,i)=>e.map(a=>P1[i][a])),wS=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),vS=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function hm(e,i,a,l){return e===0?i^a^l:e===1?i&a|~i&l:e===2?(i|~a)^l:e===3?i&l|a&~l:i^(a|~l)}const Ju=new Uint32Array(16);class AS extends X1{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:i,h1:a,h2:l,h3:u,h4:c}=this;return[i,a,l,u,c]}set(i,a,l,u,c){this.h0=i|0,this.h1=a|0,this.h2=l|0,this.h3=u|0,this.h4=c|0}process(i,a){for(let _=0;_<16;_++,a+=4)Ju[_]=i.getUint32(a,!0);let l=this.h0|0,u=l,c=this.h1|0,h=c,d=this.h2|0,p=d,y=this.h3|0,m=y,E=this.h4|0,v=E;for(let _=0;_<5;_++){const x=4-_,U=wS[_],C=vS[_],z=q1[_],X=F1[_],M=ES[_],L=bS[_];for(let F=0;F<16;F++){const nt=Wu(l+hm(_,c,d,y)+Ju[z[F]]+U,M[F])+E|0;l=E,E=y,y=Wu(d,10)|0,d=c,c=nt}for(let F=0;F<16;F++){const nt=Wu(u+hm(x,h,p,m)+Ju[X[F]]+C,L[F])+v|0;u=v,v=m,m=Wu(p,10)|0,p=h,h=nt}}this.set(this.h1+d+m|0,this.h2+y+v|0,this.h3+E+u|0,this.h4+l+h|0,this.h0+c+p|0)}roundClean(){ms(Ju)}destroy(){this.destroyed=!0,ms(this.buffer),this.set(0,0,0,0,0)}}const SS=G1(()=>new AS),_S=SS,xS=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hr=new Uint32Array(64);let TS=class extends X1{constructor(i=32){super(64,i,8,!1),this.A=fr[0]|0,this.B=fr[1]|0,this.C=fr[2]|0,this.D=fr[3]|0,this.E=fr[4]|0,this.F=fr[5]|0,this.G=fr[6]|0,this.H=fr[7]|0}get(){const{A:i,B:a,C:l,D:u,E:c,F:h,G:d,H:p}=this;return[i,a,l,u,c,h,d,p]}set(i,a,l,u,c,h,d,p){this.A=i|0,this.B=a|0,this.C=l|0,this.D=u|0,this.E=c|0,this.F=h|0,this.G=d|0,this.H=p|0}process(i,a){for(let E=0;E<16;E++,a+=4)hr[E]=i.getUint32(a,!1);for(let E=16;E<64;E++){const v=hr[E-15],_=hr[E-2],x=Zn(v,7)^Zn(v,18)^v>>>3,U=Zn(_,17)^Zn(_,19)^_>>>10;hr[E]=U+hr[E-7]+x+hr[E-16]|0}let{A:l,B:u,C:c,D:h,E:d,F:p,G:y,H:m}=this;for(let E=0;E<64;E++){const v=Zn(d,6)^Zn(d,11)^Zn(d,25),_=m+v+pS(d,p,y)+xS[E]+hr[E]|0,U=(Zn(l,2)^Zn(l,13)^Zn(l,22))+yS(l,u,c)|0;m=y,y=p,p=d,d=h+_|0,h=c,c=u,u=l,l=_+U|0}l=l+this.A|0,u=u+this.B|0,c=c+this.C|0,h=h+this.D|0,d=d+this.E|0,p=p+this.F|0,y=y+this.G|0,m=m+this.H|0,this.set(l,u,c,h,d,p,y,m)}roundClean(){ms(hr)}destroy(){this.set(0,0,0,0,0,0,0,0),ms(this.buffer)}};const NS=G1(()=>new TS),cn=NS;function Ii(e){return _S(cn(e))}function Vr(e){return cn(cn(e))}const US={"BIP0340/challenge":Uint8Array.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Uint8Array.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Uint8Array.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Uint8Array.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Uint8Array.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Uint8Array.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Uint8Array.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Uint8Array.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Uint8Array.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function Us(e,i){return cn(le([US[e],i]))}function OS(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ed(e,...i){if(!OS(e))throw new Error("Uint8Array expected");if(i.length>0&&!i.includes(e.length))throw new Error("Uint8Array expected of length "+i+", got length="+e.length)}function dm(e,i=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(i&&e.finished)throw new Error("Hash#digest() has already been called")}function BS(e,i){Ed(e);const a=i.outputLen;if(e.length<a)throw new Error("digestInto() expects output buffer of length at least "+a)}function qh(...e){for(let i=0;i<e.length;i++)e[i].fill(0)}function xh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Qn(e,i){return e<<32-i|e>>>i}function CS(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function $1(e){return typeof e=="string"&&(e=CS(e)),Ed(e),e}class RS{}function HS(e){const i=l=>e().update($1(l)).digest(),a=e();return i.outputLen=a.outputLen,i.blockLen=a.blockLen,i.create=()=>e(),i}function IS(e,i,a,l){if(typeof e.setBigUint64=="function")return e.setBigUint64(i,a,l);const u=BigInt(32),c=BigInt(4294967295),h=Number(a>>u&c),d=Number(a&c),p=l?4:0,y=l?0:4;e.setUint32(i+p,h,l),e.setUint32(i+y,d,l)}function MS(e,i,a){return e&i^~e&a}function kS(e,i,a){return e&i^e&a^i&a}let DS=class extends RS{constructor(i,a,l,u){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=i,this.outputLen=a,this.padOffset=l,this.isLE=u,this.buffer=new Uint8Array(i),this.view=xh(this.buffer)}update(i){dm(this),i=$1(i),Ed(i);const{view:a,buffer:l,blockLen:u}=this,c=i.length;for(let h=0;h<c;){const d=Math.min(u-this.pos,c-h);if(d===u){const p=xh(i);for(;u<=c-h;h+=u)this.process(p,h);continue}l.set(i.subarray(h,h+d),this.pos),this.pos+=d,h+=d,this.pos===u&&(this.process(a,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){dm(this),BS(i,this),this.finished=!0;const{buffer:a,view:l,blockLen:u,isLE:c}=this;let{pos:h}=this;a[h++]=128,qh(this.buffer.subarray(h)),this.padOffset>u-h&&(this.process(l,0),h=0);for(let E=h;E<u;E++)a[E]=0;IS(l,u-8,BigInt(this.length*8),c),this.process(l,0);const d=xh(i),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=p/4,m=this.get();if(y>m.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<y;E++)d.setUint32(4*E,m[E],c)}digest(){const{buffer:i,outputLen:a}=this;this.digestInto(i);const l=i.slice(0,a);return this.destroy(),l}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:a,buffer:l,length:u,finished:c,destroyed:h,pos:d}=this;return i.destroyed=h,i.finished=c,i.length=u,i.pos=d,u%a&&i.buffer.set(l),i}clone(){return this._cloneInto()}};const dr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zS=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pr=new Uint32Array(64);class LS extends DS{constructor(i=32){super(64,i,8,!1),this.A=dr[0]|0,this.B=dr[1]|0,this.C=dr[2]|0,this.D=dr[3]|0,this.E=dr[4]|0,this.F=dr[5]|0,this.G=dr[6]|0,this.H=dr[7]|0}get(){const{A:i,B:a,C:l,D:u,E:c,F:h,G:d,H:p}=this;return[i,a,l,u,c,h,d,p]}set(i,a,l,u,c,h,d,p){this.A=i|0,this.B=a|0,this.C=l|0,this.D=u|0,this.E=c|0,this.F=h|0,this.G=d|0,this.H=p|0}process(i,a){for(let E=0;E<16;E++,a+=4)pr[E]=i.getUint32(a,!1);for(let E=16;E<64;E++){const v=pr[E-15],_=pr[E-2],x=Qn(v,7)^Qn(v,18)^v>>>3,U=Qn(_,17)^Qn(_,19)^_>>>10;pr[E]=U+pr[E-7]+x+pr[E-16]|0}let{A:l,B:u,C:c,D:h,E:d,F:p,G:y,H:m}=this;for(let E=0;E<64;E++){const v=Qn(d,6)^Qn(d,11)^Qn(d,25),_=m+v+MS(d,p,y)+zS[E]+pr[E]|0,U=(Qn(l,2)^Qn(l,13)^Qn(l,22))+kS(l,u,c)|0;m=y,y=p,p=d,d=h+_|0,h=c,c=u,u=l,l=_+U|0}l=l+this.A|0,u=u+this.B|0,c=c+this.C|0,h=h+this.D|0,d=d+this.E|0,p=p+this.F|0,y=y+this.G|0,m=m+this.H|0,this.set(l,u,c,h,d,p,y,m)}roundClean(){qh(pr)}destroy(){this.set(0,0,0,0,0,0,0,0),qh(this.buffer)}}const jS=HS(()=>new LS),pm=jS;function KS(e){if(e.length>=255)throw new TypeError("Alphabet too long");const i=new Uint8Array(256);for(let y=0;y<i.length;y++)i[y]=255;for(let y=0;y<e.length;y++){const m=e.charAt(y),E=m.charCodeAt(0);if(i[E]!==255)throw new TypeError(m+" is ambiguous");i[E]=y}const a=e.length,l=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";let m=0,E=0,v=0;const _=y.length;for(;v!==_&&y[v]===0;)v++,m++;const x=(_-v)*c+1>>>0,U=new Uint8Array(x);for(;v!==_;){let X=y[v],M=0;for(let L=x-1;(X!==0||M<E)&&L!==-1;L--,M++)X+=256*U[L]>>>0,U[L]=X%a>>>0,X=X/a>>>0;if(X!==0)throw new Error("Non-zero carry");E=M,v++}let C=x-E;for(;C!==x&&U[C]===0;)C++;let z=l.repeat(m);for(;C<x;++C)z+=e.charAt(U[C]);return z}function d(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;let m=0,E=0,v=0;for(;y[m]===l;)E++,m++;const _=(y.length-m)*u+1>>>0,x=new Uint8Array(_);for(;m<y.length;){const X=y.charCodeAt(m);if(X>255)return;let M=i[X];if(M===255)return;let L=0;for(let F=_-1;(M!==0||L<v)&&F!==-1;F--,L++)M+=a*x[F]>>>0,x[F]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");v=L,m++}let U=_-v;for(;U!==_&&x[U]===0;)U++;const C=new Uint8Array(E+(_-U));let z=E;for(;U!==_;)C[z++]=x[U++];return C}function p(y){const m=d(y);if(m)return m;throw new Error("Non-base"+a+" character")}return{encode:h,decodeUnsafe:d,decode:p}}var GS="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Th=KS(GS);function XS(e){function i(c){var h=Uint8Array.from(c),d=e(h),p=h.length+4,y=new Uint8Array(p);return y.set(h,0),y.set(d.subarray(0,4),h.length),Th.encode(y)}function a(c){var h=c.slice(0,-4),d=c.slice(-4),p=e(h);if(!(d[0]^p[0]|d[1]^p[1]|d[2]^p[2]|d[3]^p[3]))return h}function l(c){var h=Th.decodeUnsafe(c);if(h!=null)return a(h)}function u(c){var h=Th.decode(c),d=a(h);if(d==null)throw new Error("Invalid checksum");return d}return{encode:i,decode:u,decodeUnsafe:l}}function VS(e){return pm(pm(e))}const Es=XS(VS),yr=$t;function Os(e,i){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ye(Ar(ve({network:ve({}),address:el(),hash:JA,output:xe(25),pubkey:Vn(Xn),signature:Vn(Mi),input:Pt})),e);const a=On(()=>{const h=Es.decode(e.address),d=ii(h,0),p=h.slice(1);return{version:d,hash:p}}),l=On(()=>ce(e.input)),u=e.network||ri,c={name:"p2pkh",network:u};if(vt(c,"address",()=>{if(!c.hash)return;const h=new Uint8Array(21);return fn(h,0,u.pubKeyHash),h.set(c.hash,1),Es.encode(h)}),vt(c,"hash",()=>{if(e.output)return e.output.slice(3,23);if(e.address)return a().hash;if(e.pubkey||c.pubkey)return Ii(e.pubkey||c.pubkey)}),vt(c,"output",()=>{if(c.hash)return tn([yr.OP_DUP,yr.OP_HASH160,c.hash,yr.OP_EQUALVERIFY,yr.OP_CHECKSIG])}),vt(c,"pubkey",()=>{if(e.input)return l()[1]}),vt(c,"signature",()=>{if(e.input)return l()[0]}),vt(c,"input",()=>{if(e.pubkey&&e.signature)return tn([e.signature,e.pubkey])}),vt(c,"witness",()=>{if(c.input)return[]}),i.validate){let h=Uint8Array.from([]);if(e.address){if(a().version!==u.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(a().hash.length!==20)throw new TypeError("Invalid address");h=a().hash}if(e.hash){if(h.length>0&&ft(h,e.hash)!==0)throw new TypeError("Hash mismatch");h=e.hash}if(e.output){if(e.output.length!==25||e.output[0]!==yr.OP_DUP||e.output[1]!==yr.OP_HASH160||e.output[2]!==20||e.output[23]!==yr.OP_EQUALVERIFY||e.output[24]!==yr.OP_CHECKSIG)throw new TypeError("Output is invalid");const d=e.output.slice(3,23);if(h.length>0&&ft(h,d)!==0)throw new TypeError("Hash mismatch");h=d}if(e.pubkey){const d=Ii(e.pubkey);if(h.length>0&&ft(h,d)!==0)throw new TypeError("Hash mismatch");h=d}if(e.input){const d=l();if(d.length!==2)throw new TypeError("Input is invalid");if(!Mi(d[0]))throw new TypeError("Input has invalid signature");if(!Xn(d[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&ft(e.signature,d[0])!==0)throw new TypeError("Signature mismatch");if(e.pubkey&&ft(e.pubkey,d[1])!==0)throw new TypeError("Pubkey mismatch");const p=Ii(d[1]);if(h.length>0&&ft(h,p)!==0)throw new TypeError("Hash mismatch")}}return Object.assign(c,e)}const ss=$t;function Bs(e,i){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ye(Ar(ve({network:ve({}),address:el(),hash:xe(20),output:xe(23),redeem:Ar(ve({network:ve({}),output:Pt,input:Pt,witness:Je(Pt)})),input:Pt,witness:Je(Pt)})),e);let a=e.network;a||(a=e.redeem&&e.redeem.network||ri);const l={network:a},u=On(()=>{const d=Es.decode(e.address),p=ii(d,0),y=d.slice(1);return{version:p,hash:y}}),c=On(()=>ce(e.input)),h=On(()=>{const d=c(),p=d[d.length-1];return{network:a,output:p===ss.OP_FALSE?Uint8Array.from([]):p,input:tn(d.slice(0,-1)),witness:e.witness||[]}});if(vt(l,"address",()=>{if(!l.hash)return;const d=new Uint8Array(21);return fn(d,0,l.network.scriptHash),d.set(l.hash,1),Es.encode(d)}),vt(l,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return u().hash;if(l.redeem&&l.redeem.output)return Ii(l.redeem.output)}),vt(l,"output",()=>{if(l.hash)return tn([ss.OP_HASH160,l.hash,ss.OP_EQUAL])}),vt(l,"redeem",()=>{if(e.input)return h()}),vt(l,"input",()=>{if(!(!e.redeem||!e.redeem.input||!e.redeem.output))return tn([].concat(ce(e.redeem.input),e.redeem.output))}),vt(l,"witness",()=>{if(l.redeem&&l.redeem.witness)return l.redeem.witness;if(l.input)return[]}),vt(l,"name",()=>{const d=["p2sh"];return l.redeem!==void 0&&l.redeem.name!==void 0&&d.push(l.redeem.name),d.join("-")}),i.validate){let d=Uint8Array.from([]);if(e.address){if(u().version!==a.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(u().hash.length!==20)throw new TypeError("Invalid address");d=u().hash}if(e.hash){if(d.length>0&&ft(d,e.hash)!==0)throw new TypeError("Hash mismatch");d=e.hash}if(e.output){if(e.output.length!==23||e.output[0]!==ss.OP_HASH160||e.output[1]!==20||e.output[22]!==ss.OP_EQUAL)throw new TypeError("Output is invalid");const y=e.output.slice(2,22);if(d.length>0&&ft(d,y)!==0)throw new TypeError("Hash mismatch");d=y}const p=y=>{if(y.output){const m=ce(y.output);if(!m||m.length<1)throw new TypeError("Redeem.output too short");if(y.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(z1(m)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const E=Ii(y.output);if(d.length>0&&ft(d,E)!==0)throw new TypeError("Hash mismatch");d=E}if(y.input){const m=y.input.length>0,E=y.witness&&y.witness.length>0;if(!m&&!E)throw new TypeError("Empty input");if(m&&E)throw new TypeError("Input and witness provided");if(m){const v=ce(y.input);if(!yd(v))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const y=c();if(!y||y.length<1)throw new TypeError("Input too short");if(!(h().output instanceof Uint8Array))throw new TypeError("Input is invalid");p(h())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==a)throw new TypeError("Network mismatch");if(e.input){const y=h();if(e.redeem.output&&ft(e.redeem.output,y.output)!==0)throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&ft(e.redeem.input,y.input)!==0)throw new TypeError("Redeem.input mismatch")}p(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!gs(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(l,e)}var Yr={},ym;function YS(){if(ym)return Yr;ym=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.bech32m=Yr.bech32=void 0;const e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={};for(let y=0;y<e.length;y++){const m=e.charAt(y);i[m]=y}function a(y){const m=y>>25;return(y&33554431)<<5^-(m>>0&1)&996825010^-(m>>1&1)&642813549^-(m>>2&1)&513874426^-(m>>3&1)&1027748829^-(m>>4&1)&705979059}function l(y){let m=1;for(let E=0;E<y.length;++E){const v=y.charCodeAt(E);if(v<33||v>126)return"Invalid prefix ("+y+")";m=a(m)^v>>5}m=a(m);for(let E=0;E<y.length;++E){const v=y.charCodeAt(E);m=a(m)^v&31}return m}function u(y,m,E,v){let _=0,x=0;const U=(1<<E)-1,C=[];for(let z=0;z<y.length;++z)for(_=_<<m|y[z],x+=m;x>=E;)x-=E,C.push(_>>x&U);if(v)x>0&&C.push(_<<E-x&U);else{if(x>=m)return"Excess padding";if(_<<E-x&U)return"Non-zero padding"}return C}function c(y){return u(y,8,5,!0)}function h(y){const m=u(y,5,8,!1);if(Array.isArray(m))return m}function d(y){const m=u(y,5,8,!1);if(Array.isArray(m))return m;throw new Error(m)}function p(y){let m;y==="bech32"?m=1:m=734539939;function E(U,C,z){if(z=z||90,U.length+7+C.length>z)throw new TypeError("Exceeds length limit");U=U.toLowerCase();let X=l(U);if(typeof X=="string")throw new Error(X);let M=U+"1";for(let L=0;L<C.length;++L){const F=C[L];if(F>>5!==0)throw new Error("Non 5-bit word");X=a(X)^F,M+=e.charAt(F)}for(let L=0;L<6;++L)X=a(X);X^=m;for(let L=0;L<6;++L){const F=X>>(5-L)*5&31;M+=e.charAt(F)}return M}function v(U,C){if(C=C||90,U.length<8)return U+" too short";if(U.length>C)return"Exceeds length limit";const z=U.toLowerCase(),X=U.toUpperCase();if(U!==z&&U!==X)return"Mixed-case string "+U;U=z;const M=U.lastIndexOf("1");if(M===-1)return"No separator character for "+U;if(M===0)return"Missing prefix for "+U;const L=U.slice(0,M),F=U.slice(M+1);if(F.length<6)return"Data too short";let nt=l(L);if(typeof nt=="string")return nt;const W=[];for(let ct=0;ct<F.length;++ct){const ut=F.charAt(ct),Tt=i[ut];if(Tt===void 0)return"Unknown character "+ut;nt=a(nt)^Tt,!(ct+6>=F.length)&&W.push(Tt)}return nt!==m?"Invalid checksum for "+U:{prefix:L,words:W}}function _(U,C){const z=v(U,C);if(typeof z=="object")return z}function x(U,C){const z=v(U,C);if(typeof z=="object")return z;throw new Error(z)}return{decodeUnsafe:_,decode:x,encode:E,toWords:c,fromWordsUnsafe:h,fromWords:d}}return Yr.bech32=p("bech32"),Yr.bech32m=p("bech32m"),Yr}var Le=YS();const gm=$t,qS=new Uint8Array(0);function qo(e,i){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ye(Ar(ve({address:el(),hash:xe(20),input:xe(0),network:ve({}),output:xe(22),pubkey:Vn(Xn,"Not a valid pubkey"),signature:Vn(Mi),witness:Je(Pt)})),e);const a=On(()=>{const c=Le.bech32.decode(e.address),h=c.words.shift(),d=Le.bech32.fromWords(c.words);return{version:h,prefix:c.prefix,data:Uint8Array.from(d)}}),l=e.network||ri,u={name:"p2wpkh",network:l};if(vt(u,"address",()=>{if(!u.hash)return;const c=Le.bech32.toWords(u.hash);return c.unshift(0),Le.bech32.encode(l.bech32,c)}),vt(u,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return a().data;if(e.pubkey||u.pubkey)return Ii(e.pubkey||u.pubkey)}),vt(u,"output",()=>{if(u.hash)return tn([gm.OP_0,u.hash])}),vt(u,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.witness)return e.witness[1]}),vt(u,"signature",()=>{if(e.witness)return e.witness[0]}),vt(u,"input",()=>{if(u.witness)return qS}),vt(u,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),i.validate){let c=Uint8Array.from([]);if(e.address){if(l&&l.bech32!==a().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(a().version!==0)throw new TypeError("Invalid address version");if(a().data.length!==20)throw new TypeError("Invalid address data");c=a().data}if(e.hash){if(c.length>0&&ft(c,e.hash)!==0)throw new TypeError("Hash mismatch");c=e.hash}if(e.output){if(e.output.length!==22||e.output[0]!==gm.OP_0||e.output[1]!==20)throw new TypeError("Output is invalid");if(c.length>0&&ft(c,e.output.slice(2))!==0)throw new TypeError("Hash mismatch");c=e.output.slice(2)}if(e.pubkey){const h=Ii(e.pubkey);if(c.length>0&&ft(c,h)!==0)throw new TypeError("Hash mismatch");if(c=h,!Xn(e.pubkey)||e.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(e.witness.length!==2)throw new TypeError("Witness is invalid");if(!Mi(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!Xn(e.witness[1])||e.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(e.signature&&ft(e.signature,e.witness[0])!==0)throw new TypeError("Signature mismatch");if(e.pubkey&&ft(e.pubkey,e.witness[1])!==0)throw new TypeError("Pubkey mismatch");const h=Ii(e.witness[1]);if(c.length>0&&ft(c,h)!==0)throw new TypeError("Hash mismatch")}}return Object.assign(u,e)}const mm=$t,Nh=new Uint8Array(0);function to(e){return!!(e instanceof Uint8Array&&e.length===65&&e[0]===4&&Xn(e))}function nl(e,i){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ye(im({network:ve({}),address:el(),hash:WA,output:xe(34),redeem:im({input:Pt,network:ve({}),output:Pt,witness:Je(Pt)}),input:xe(0),witness:Je(Pt)}),e);const a=On(()=>{const h=Le.bech32.decode(e.address),d=h.words.shift(),p=Le.bech32.fromWords(h.words);return{version:d,prefix:h.prefix,data:Uint8Array.from(p)}}),l=On(()=>ce(e.redeem.input));let u=e.network;u||(u=e.redeem&&e.redeem.network||ri);const c={network:u};if(vt(c,"address",()=>{if(!c.hash)return;const h=Le.bech32.toWords(c.hash);return h.unshift(0),Le.bech32.encode(u.bech32,h)}),vt(c,"hash",()=>{if(e.output)return e.output.slice(2);if(e.address)return a().data;if(c.redeem&&c.redeem.output)return cn(c.redeem.output)}),vt(c,"output",()=>{if(c.hash)return tn([mm.OP_0,c.hash])}),vt(c,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:Nh,witness:e.witness.slice(0,-1)}}),vt(c,"input",()=>{if(c.witness)return Nh}),vt(c,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const h=sS(l());return c.redeem=Object.assign({witness:h},e.redeem),c.redeem.input=Nh,[].concat(h,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),vt(c,"name",()=>{const h=["p2wsh"];return c.redeem!==void 0&&c.redeem.name!==void 0&&h.push(c.redeem.name),h.join("-")}),i.validate){let h=Uint8Array.from([]);if(e.address){if(a().prefix!==u.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(a().version!==0)throw new TypeError("Invalid address version");if(a().data.length!==32)throw new TypeError("Invalid address data");h=a().data}if(e.hash){if(h.length>0&&ft(h,e.hash)!==0)throw new TypeError("Hash mismatch");h=e.hash}if(e.output){if(e.output.length!==34||e.output[0]!==mm.OP_0||e.output[1]!==32)throw new TypeError("Output is invalid");const d=e.output.slice(2);if(h.length>0&&ft(h,d)!==0)throw new TypeError("Hash mismatch");h=d}if(e.redeem){if(e.redeem.network&&e.redeem.network!==u)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){const d=ce(e.redeem.output);if(!d||d.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(z1(d)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const p=cn(e.redeem.output);if(h.length>0&&ft(h,p)!==0)throw new TypeError("Hash mismatch");h=p}if(e.redeem.input&&!yd(l()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!gs(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&l().some(to)||e.redeem.output&&(ce(e.redeem.output)||[]).some(to))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const d=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&ft(e.redeem.output,d)!==0)throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(to)||(ce(d)||[]).some(to))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(c,e)}const ps={};function Z1(e,i){e?e!==ps.eccLib&&(FS(e),ps.eccLib=e):ps.eccLib=e}function Fh(){if(!ps.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return ps.eccLib}const Ti=e=>zi(e);function FS(e){xn(typeof e.isXOnlyPoint=="function"),xn(e.isXOnlyPoint(Ti("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),xn(e.isXOnlyPoint(Ti("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),xn(e.isXOnlyPoint(Ti("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),xn(e.isXOnlyPoint(Ti("0000000000000000000000000000000000000000000000000000000000000001"))),xn(!e.isXOnlyPoint(Ti("0000000000000000000000000000000000000000000000000000000000000000"))),xn(!e.isXOnlyPoint(Ti("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),xn(typeof e.xOnlyPointAddTweak=="function"),PS.forEach(i=>{const a=e.xOnlyPointAddTweak(Ti(i.pubkey),Ti(i.tweak));i.result===null?xn(a===null):(xn(a!==null),xn(a.parity===i.parity),xn(ft(a.xOnlyPubkey,Ti(i.result))===0))})}function xn(e){if(!e)throw new Error("ecc library invalid")}const PS=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}],Q1="0123456789abcdefABCDEF";Q1.split("").map(e=>e.codePointAt(0));Array(256).fill(!0).map((e,i)=>{const a=String.fromCodePoint(i),l=Q1.indexOf(a);return l<0?void 0:l<16?l:l-6});new TextEncoder;new TextDecoder;function $S(e,i,a,l){if(i+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(l=l.toUpperCase(),a>65535)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 65535. Received ${a}`);l==="LE"?(e[i]=a&255,e[i+1]=a>>8&255):(e[i]=a>>8&255,e[i+1]=a&255)}function ZS(e,i,a,l){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(l=l.toUpperCase(),a>4294967295)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${4294967295}. Received ${a}`);l==="LE"?(e[i]=a&255,e[i+1]=a>>8&255,e[i+2]=a>>16&255,e[i+3]=a>>24&255):(e[i]=a>>24&255,e[i+1]=a>>16&255,e[i+2]=a>>8&255,e[i+3]=a&255)}function QS(e,i,a,l){if(i+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(l=l.toUpperCase(),a>0xffffffffffffffffn)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${0xffffffffffffffffn}. Received ${a}`);l==="LE"?(e[i]=Number(a&0xffn),e[i+1]=Number(a>>8n&0xffn),e[i+2]=Number(a>>16n&0xffn),e[i+3]=Number(a>>24n&0xffn),e[i+4]=Number(a>>32n&0xffn),e[i+5]=Number(a>>40n&0xffn),e[i+6]=Number(a>>48n&0xffn),e[i+7]=Number(a>>56n&0xffn)):(e[i]=Number(a>>56n&0xffn),e[i+1]=Number(a>>48n&0xffn),e[i+2]=Number(a>>40n&0xffn),e[i+3]=Number(a>>32n&0xffn),e[i+4]=Number(a>>24n&0xffn),e[i+5]=Number(a>>16n&0xffn),e[i+6]=Number(a>>8n&0xffn),e[i+7]=Number(a&0xffn))}function WS(e,i,a){if(i+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){let l=0;return l=(l<<8)+e[i+1],l=(l<<8)+e[i],l}else{let l=0;return l=(l<<8)+e[i],l=(l<<8)+e[i+1],l}}function JS(e,i,a){if(i+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){let l=0;return l=(l<<8)+e[i+3]>>>0,l=(l<<8)+e[i+2]>>>0,l=(l<<8)+e[i+1]>>>0,l=(l<<8)+e[i]>>>0,l}else{let l=0;return l=(l<<8)+e[i]>>>0,l=(l<<8)+e[i+1]>>>0,l=(l<<8)+e[i+2]>>>0,l=(l<<8)+e[i+3]>>>0,l}}function t_(e,i,a){if(i+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(a=a.toUpperCase(),a==="LE"){let l=0n;return l=(l<<8n)+BigInt(e[i+7]),l=(l<<8n)+BigInt(e[i+6]),l=(l<<8n)+BigInt(e[i+5]),l=(l<<8n)+BigInt(e[i+4]),l=(l<<8n)+BigInt(e[i+3]),l=(l<<8n)+BigInt(e[i+2]),l=(l<<8n)+BigInt(e[i+1]),l=(l<<8n)+BigInt(e[i]),l}else{let l=0n;return l=(l<<8n)+BigInt(e[i]),l=(l<<8n)+BigInt(e[i+1]),l=(l<<8n)+BigInt(e[i+2]),l=(l<<8n)+BigInt(e[i+3]),l=(l<<8n)+BigInt(e[i+4]),l=(l<<8n)+BigInt(e[i+5]),l=(l<<8n)+BigInt(e[i+6]),l=(l<<8n)+BigInt(e[i+7]),l}}const e_=e=>{if(e<0||e>0xffffffffffffffffn)throw new RangeError("value out of range")};function n_(e){if(e<0||e>Number.MAX_SAFE_INTEGER||e%1!==0)throw new RangeError("value out of range")}function W1(e){typeof e=="number"?n_(e):e_(e)}function Sr(e,i,a){W1(e),a===void 0&&(a=0),i===void 0&&(i=new Uint8Array(Cn(e)));let l=0;return e<253?(i.set([Number(e)],a),l=1):e<=65535?(i.set([253],a),$S(i,a+1,Number(e),"LE"),l=3):e<=4294967295?(i.set([254],a),ZS(i,a+1,Number(e),"LE"),l=5):(i.set([255],a),QS(i,a+1,BigInt(e),"LE"),l=9),{buffer:i,bytes:l}}function il(e,i){i===void 0&&(i=0);const a=e.at(i);if(a===void 0)throw new Error("buffer too small");if(a<253)return{numberValue:a,bigintValue:BigInt(a),bytes:1};if(a===253){const l=WS(e,i+1,"LE");return{numberValue:l,bigintValue:BigInt(l),bytes:3}}else if(a===254){const l=JS(e,i+1,"LE");return{numberValue:l,bigintValue:BigInt(l),bytes:5}}else{const l=t_(e,i+1,"LE");return{numberValue:l<=Number.MAX_SAFE_INTEGER?Number(l):null,bigintValue:l,bytes:9}}}function Cn(e){return W1(e),e<253?1:e<=65535?3:e<=4294967295?5:9}const i_=9007199254740991;function r_(e,i){if(typeof e!="number"&&typeof e!="bigint")throw new Error("cannot write a non-number as a number");if(e<0&&e<BigInt(0))throw new Error("specified a negative value for writing an unsigned value");if(e>i&&e>BigInt(i))throw new Error("RangeError: value out of range");if(Math.floor(Number(e))!==Number(e))throw new Error("value has a fractional component")}function bd(e){if(e.length<1)return e;let i=e.length-1,a=0;for(let l=0;l<e.length/2;l++)a=e[l],e[l]=e[i],e[i]=a,i--;return e}function Em(e){const i=new Uint8Array(e.length);return i.set(e),i}class ze{buffer;offset;static withCapacity(i){return new ze(new Uint8Array(i))}constructor(i,a=0){this.buffer=i,this.offset=a,ye(ti([Pt,Oi]),[i,a])}writeUInt8(i){this.offset=fn(this.buffer,this.offset,i)}writeInt32(i){this.offset=A1(this.buffer,this.offset,i,"LE")}writeInt64(i){this.offset=S1(this.buffer,this.offset,BigInt(i),"LE")}writeUInt32(i){this.offset=xs(this.buffer,this.offset,i,"LE")}writeUInt64(i){this.offset=DA(this.buffer,this.offset,BigInt(i),"LE")}writeVarInt(i){const{bytes:a}=Sr(i,this.buffer,this.offset);this.offset+=a}writeSlice(i){if(this.buffer.length<this.offset+i.length)throw new Error("Cannot write slice out of bounds");this.buffer.set(i,this.offset),this.offset+=i.length}writeVarSlice(i){this.writeVarInt(i.length),this.writeSlice(i)}writeVector(i){this.writeVarInt(i.length),i.forEach(a=>this.writeVarSlice(a))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}class a_{buffer;offset;constructor(i,a=0){this.buffer=i,this.offset=a,ye(ti([Pt,Oi]),[i,a])}readUInt8(){const i=ii(this.buffer,this.offset);return this.offset++,i}readInt32(){const i=LA(this.buffer,this.offset,"LE");return this.offset+=4,i}readUInt32(){const i=Jr(this.buffer,this.offset,"LE");return this.offset+=4,i}readInt64(){const i=_1(this.buffer,this.offset,"LE");return this.offset+=8,i}readVarInt(){const{bigintValue:i,bytes:a}=il(this.buffer,this.offset);return this.offset+=a,i}readSlice(i){r_(i,i_);const a=Number(i);if(this.buffer.length<this.offset+a)throw new Error("Cannot read slice out of bounds");const l=this.buffer.slice(this.offset,this.offset+a);return this.offset+=a,l}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const i=this.readVarInt(),a=[];for(let l=0;l<i;l++)a.push(this.readVarSlice());return a}}const J1=192,l_=128,s_=e=>"left"in e&&"right"in e;function Ph(e,i){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const a=(e.length-33)/32;let l=i;for(let u=0;u<a;u++){const c=e.slice(33+32*u,65+32*u);ft(l,c)<0?l=Zh(l,c):l=Zh(c,l)}return l}function $h(e){if(pd(e))return{hash:Ci(e)};const i=[$h(e[0]),$h(e[1])];i.sort((u,c)=>ft(u.hash,c.hash));const[a,l]=i;return{hash:Zh(a.hash,l.hash),left:a,right:l}}function To(e,i){if(s_(e)){const a=To(e.left,i);if(a!==void 0)return[...a,e.right.hash];const l=To(e.right,i);if(l!==void 0)return[...l,e.left.hash]}else if(ft(e.hash,i)===0)return[]}function Ci(e){const i=e.version||J1;return Us("TapLeaf",le([Uint8Array.from([i]),o_(e.output)]))}function u_(e,i){return Us("TapTweak",le(i?[e,i]:[e]))}function eo(e,i){if(!(e instanceof Uint8Array)||e.length!==32||i&&i.length!==32)return null;const a=u_(e,i),l=Fh().xOnlyPointAddTweak(e,a);return!l||l.xOnlyPubkey===null?null:{parity:l.parity,x:Uint8Array.from(l.xOnlyPubkey)}}function Zh(e,i){return Us("TapBranch",le([e,i]))}function o_(e){const i=Cn(e.length),a=new Uint8Array(i);return Sr(e.length,a),le([a,e])}const bm=$t,wm=1,c_=80;function ta(e,i){if(!e.address&&!e.output&&!e.pubkey&&!e.internalPubkey&&!(e.witness&&e.witness.length>1))throw new TypeError("Not enough data");i=Object.assign({validate:!0},i||{}),ye(Ar(ve({address:el(),input:xe(0),network:ve({}),output:xe(34),internalPubkey:xe(32),hash:xe(32),pubkey:xe(32),signature:dd([xe(64),xe(65)]),witness:Je(Pt),scriptTree:Vn(I1,"Taptree is not of type isTaptree"),redeem:Ar(ve({output:Pt,redeemVersion:Un(),witness:Je(Pt)})),redeemVersion:Un()})),e);const a=On(()=>lE(e.address)),l=On(()=>{if(!(!e.witness||!e.witness.length))return e.witness.length>=2&&e.witness[e.witness.length-1][0]===c_?e.witness.slice(0,-1):e.witness.slice()}),u=On(()=>{if(e.scriptTree)return $h(e.scriptTree);if(e.hash)return{hash:e.hash}}),c=e.network||ri,h={name:"p2tr",network:c};if(vt(h,"address",()=>{if(!h.pubkey)return;const d=Le.bech32m.toWords(h.pubkey);return d.unshift(wm),Le.bech32m.encode(c.bech32,d)}),vt(h,"hash",()=>{const d=u();if(d)return d.hash;const p=l();if(p&&p.length>1){const y=p[p.length-1],m=y[0]&go,E=p[p.length-2],v=Ci({output:E,version:m});return Ph(y,v)}return null}),vt(h,"output",()=>{if(h.pubkey)return tn([bm.OP_1,h.pubkey])}),vt(h,"redeemVersion",()=>e.redeemVersion?e.redeemVersion:e.redeem&&e.redeem.redeemVersion!==void 0&&e.redeem.redeemVersion!==null?e.redeem.redeemVersion:J1),vt(h,"redeem",()=>{const d=l();if(!(!d||d.length<2))return{output:d[d.length-2],witness:d.slice(0,-2),redeemVersion:d[d.length-1][0]&go}}),vt(h,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return a().data;if(h.internalPubkey){const d=eo(h.internalPubkey,h.hash);if(d)return d.x}}),vt(h,"internalPubkey",()=>{if(e.internalPubkey)return e.internalPubkey;const d=l();if(d&&d.length>1)return d[d.length-1].slice(1,33)}),vt(h,"signature",()=>{if(e.signature)return e.signature;const d=l();if(!(!d||d.length!==1))return d[0]}),vt(h,"witness",()=>{if(e.witness)return e.witness;const d=u();if(d&&e.redeem&&e.redeem.output&&e.internalPubkey){const p=Ci({output:e.redeem.output,version:h.redeemVersion}),y=To(d,p);if(!y)return;const m=eo(e.internalPubkey,d.hash);if(!m)return;const E=le([Uint8Array.from([h.redeemVersion|m.parity]),e.internalPubkey].concat(y));return[e.redeem.output,E]}if(e.signature)return[e.signature]}),i.validate){let d=Uint8Array.from([]);if(e.address){if(c&&c.bech32!==a().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(a().version!==wm)throw new TypeError("Invalid address version");if(a().data.length!==32)throw new TypeError("Invalid address data");d=a().data}if(e.pubkey){if(d.length>0&&ft(d,e.pubkey)!==0)throw new TypeError("Pubkey mismatch");d=e.pubkey}if(e.output){if(e.output.length!==34||e.output[0]!==bm.OP_1||e.output[1]!==32)throw new TypeError("Output is invalid");if(d.length>0&&ft(d,e.output.slice(2))!==0)throw new TypeError("Pubkey mismatch");d=e.output.slice(2)}if(e.internalPubkey){const m=eo(e.internalPubkey,h.hash);if(d.length>0&&ft(d,m.x)!==0)throw new TypeError("Pubkey mismatch");d=m.x}if(d&&d.length&&!Fh().isXOnlyPoint(d))throw new TypeError("Invalid pubkey for p2tr");const p=u();if(e.hash&&p&&ft(e.hash,p.hash)!==0)throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&p){const m=Ci({output:e.redeem.output,version:h.redeemVersion});if(!To(p,m))throw new TypeError("Redeem script not in tree")}const y=l();if(e.redeem&&h.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==h.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(ce(e.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(h.redeem.output&&ft(e.redeem.output,h.redeem.output)!==0)throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&h.redeem.witness&&!gs(e.redeem.witness,h.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(y&&y.length)if(y.length===1){if(e.signature&&ft(e.signature,y[0])!==0)throw new TypeError("Signature mismatch")}else{const m=y[y.length-1];if(m.length<33)throw new TypeError(`The control-block length is too small. Got ${m.length}, expected min 33.`);if((m.length-33)%32!==0)throw new TypeError(`The control-block length of ${m.length} is incorrect!`);const E=(m.length-33)/32;if(E>128)throw new TypeError(`The script path is too long. Got ${E}, expected max 128.`);const v=m.slice(1,33);if(e.internalPubkey&&ft(e.internalPubkey,v)!==0)throw new TypeError("Internal pubkey mismatch");if(!Fh().isXOnlyPoint(v))throw new TypeError("Invalid internalPubkey for p2tr witness");const _=m[0]&go,x=y[y.length-2],U=Ci({output:x,version:_}),C=Ph(m,U),z=eo(v,C);if(!z)throw new TypeError("Invalid outputKey for p2tr witness");if(d.length&&ft(d,z.x)!==0)throw new TypeError("Pubkey mismatch for p2tr witness");if(z.parity!==(m[0]&1))throw new Error("Incorrect parity")}}return Object.assign(h,e)}const tE=40,eE=2,nE=16,iE=2,rE=80,aE="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.",No=[!1,!1];function f_(e,i){const a=e.slice(2);if(a.length<eE||a.length>tE)throw new TypeError("Invalid program length for segwit address");const l=e[0]-rE;if(l<iE||l>nE)throw new TypeError("Invalid version for segwit address");if(e[1]!==a.length)throw new TypeError("Invalid script for segwit address");return No[0]===!1&&(console.warn(aE),No[0]=!0),d_(a,l,i.bech32)}function h_(e){const i=Es.decode(e);if(i.length<21)throw new TypeError(e+" is too short");if(i.length>21)throw new TypeError(e+" is too long");const a=ii(i,0),l=i.slice(1);return{version:a,hash:l}}function lE(e){let i,a;try{i=Le.bech32.decode(e)}catch{}if(i){if(a=i.words[0],a!==0)throw new TypeError(e+" uses wrong encoding")}else if(i=Le.bech32m.decode(e),a=i.words[0],a===0)throw new TypeError(e+" uses wrong encoding");const l=Le.bech32.fromWords(i.words.slice(1));return{version:a,prefix:i.prefix,data:Uint8Array.from(l)}}function d_(e,i,a){const l=Le.bech32.toWords(e);return l.unshift(i),i===0?Le.bech32.encode(a,l):Le.bech32m.encode(a,l)}function p_(e,i){i=i||ri;try{return Os({output:e,network:i}).address}catch{}try{return Bs({output:e,network:i}).address}catch{}try{return qo({output:e,network:i}).address}catch{}try{return nl({output:e,network:i}).address}catch{}try{return ta({output:e,network:i}).address}catch{}try{return f_(e,i)}catch{}throw new Error(lS(e)+" has no matching Address")}function wd(e,i){i=i||ri;let a,l;try{a=h_(e)}catch{}if(a){if(a.version===i.pubKeyHash)return Os({hash:a.hash}).output;if(a.version===i.scriptHash)return Bs({hash:a.hash}).output}else{try{l=lE(e)}catch{}if(l){if(l.prefix!==i.bech32)throw new Error(e+" has an invalid prefix");if(l.version===0){if(l.data.length===20)return qo({hash:l.data}).output;if(l.data.length===32)return nl({hash:l.data}).output}else if(l.version===1){if(l.data.length===32)return ta({pubkey:l.data}).output}else if(l.version>=iE&&l.version<=nE&&l.data.length>=eE&&l.data.length<=tE)return No[1]===!1&&(console.warn(aE),No[1]=!0),tn([l.version+rE,l.data])}}throw new Error(e+" has no matching Script")}function Jn(e){const i=e.length;return Cn(i)+i}function y_(e){const i=e.length;return Cn(i)+e.reduce((a,l)=>a+Jn(l),0)}const wr=new Uint8Array(0),Uh=[],Oh=zi("0000000000000000000000000000000000000000000000000000000000000000"),vm=zi("0000000000000000000000000000000000000000000000000000000000000001"),g_=zi("ffffffffffffffff"),m_={script:wr,valueBuffer:g_};function E_(e){return e.value!==void 0}class At{static DEFAULT_SEQUENCE=4294967295;static SIGHASH_DEFAULT=0;static SIGHASH_ALL=1;static SIGHASH_NONE=2;static SIGHASH_SINGLE=3;static SIGHASH_ANYONECANPAY=128;static SIGHASH_OUTPUT_MASK=3;static SIGHASH_INPUT_MASK=128;static ADVANCED_TRANSACTION_MARKER=0;static ADVANCED_TRANSACTION_FLAG=1;static fromBuffer(i,a){const l=new a_(i),u=new At;u.version=l.readUInt32();const c=l.readUInt8(),h=l.readUInt8();let d=!1;c===At.ADVANCED_TRANSACTION_MARKER&&h===At.ADVANCED_TRANSACTION_FLAG?d=!0:l.offset-=2;const p=l.readVarInt();for(let m=0;m<p;++m)u.ins.push({hash:l.readSlice(32),index:l.readUInt32(),script:l.readVarSlice(),sequence:l.readUInt32(),witness:Uh});const y=l.readVarInt();for(let m=0;m<y;++m)u.outs.push({value:l.readInt64(),script:l.readVarSlice()});if(d){for(let m=0;m<p;++m)u.ins[m].witness=l.readVector();if(!u.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(u.locktime=l.readUInt32(),a)return u;if(l.offset!==i.length)throw new Error("Transaction has unexpected data");return u}static fromHex(i){return At.fromBuffer(zi(i),!1)}static isCoinbaseHash(i){ye(nm,i);for(let a=0;a<32;++a)if(i[a]!==0)return!1;return!0}version=1;locktime=0;ins=[];outs=[];isCoinbase(){return this.ins.length===1&&At.isCoinbaseHash(this.ins[0].hash)}addInput(i,a,l,u){return ye(ti([nm,Oi,Yh(Ao(Oi)),Yh(Ao(Pt))]),[i,a,l,u]),l==null&&(l=At.DEFAULT_SEQUENCE),this.ins.push({hash:i,index:a,script:u||wr,sequence:l,witness:Uh})-1}addOutput(i,a){return ye(ti([Pt,Sh]),[i,a]),this.outs.push({script:i,value:a})-1}hasWitnesses(){return this.ins.some(i=>i.witness.length!==0)}stripWitnesses(){this.ins.forEach(i=>{i.witness=Uh})}weight(){const i=this.byteLength(!1),a=this.byteLength(!0);return i*3+a}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(i=!0){const a=i&&this.hasWitnesses();return(a?10:8)+Cn(this.ins.length)+Cn(this.outs.length)+this.ins.reduce((l,u)=>l+40+Jn(u.script),0)+this.outs.reduce((l,u)=>l+8+Jn(u.script),0)+(a?this.ins.reduce((l,u)=>l+y_(u.witness),0):0)}clone(){const i=new At;return i.version=this.version,i.locktime=this.locktime,i.ins=this.ins.map(a=>({hash:a.hash,index:a.index,script:a.script,sequence:a.sequence,witness:a.witness})),i.outs=this.outs.map(a=>({script:a.script,value:a.value})),i}hashForSignature(i,a,l){if(ye(ti([Oi,Pt,Un()]),[i,a,l]),i>=this.ins.length)return vm;const u=tn(ce(a).filter(d=>d!==$t.OP_CODESEPARATOR)),c=this.clone();if((l&31)===At.SIGHASH_NONE)c.outs=[],c.ins.forEach((d,p)=>{p!==i&&(d.sequence=0)});else if((l&31)===At.SIGHASH_SINGLE){if(i>=this.outs.length)return vm;c.outs.length=i+1;for(let d=0;d<i;d++)c.outs[d]=m_;c.ins.forEach((d,p)=>{p!==i&&(d.sequence=0)})}l&At.SIGHASH_ANYONECANPAY?(c.ins=[c.ins[i]],c.ins[0].script=u):(c.ins.forEach(d=>{d.script=wr}),c.ins[i].script=u);const h=new Uint8Array(c.byteLength(!1)+4);return A1(h,h.length-4,l,"LE"),c.__toBuffer(h,0,!1),Vr(h)}hashForWitnessV1(i,a,l,u,c,h){if(ye(ti([Oi,Je(Pt),Je(Sh),Oi]),[i,a,l,u]),l.length!==this.ins.length||a.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const d=u===At.SIGHASH_DEFAULT?At.SIGHASH_ALL:u&At.SIGHASH_OUTPUT_MASK,y=(u&At.SIGHASH_INPUT_MASK)===At.SIGHASH_ANYONECANPAY,m=d===At.SIGHASH_NONE,E=d===At.SIGHASH_SINGLE;let v=wr,_=wr,x=wr,U=wr,C=wr;if(!y){let L=ze.withCapacity(36*this.ins.length);this.ins.forEach(F=>{L.writeSlice(F.hash),L.writeUInt32(F.index)}),v=cn(L.end()),L=ze.withCapacity(8*this.ins.length),l.forEach(F=>L.writeInt64(F)),_=cn(L.end()),L=ze.withCapacity(a.map(Jn).reduce((F,nt)=>F+nt)),a.forEach(F=>L.writeVarSlice(F)),x=cn(L.end()),L=ze.withCapacity(4*this.ins.length),this.ins.forEach(F=>L.writeUInt32(F.sequence)),U=cn(L.end())}if(m||E){if(E&&i<this.outs.length){const L=this.outs[i],F=ze.withCapacity(8+Jn(L.script));F.writeInt64(L.value),F.writeVarSlice(L.script),C=cn(F.end())}}else{if(!this.outs.length)throw new Error("Add outputs to the transaction before signing.");const L=this.outs.map(nt=>8+Jn(nt.script)).reduce((nt,W)=>nt+W),F=ze.withCapacity(L);this.outs.forEach(nt=>{F.writeInt64(nt.value),F.writeVarSlice(nt.script)}),C=cn(F.end())}const z=(c?2:0)+(h?1:0),X=174-(y?49:0)-(m?32:0)+(h?32:0)+(c?37:0),M=ze.withCapacity(X);if(M.writeUInt8(u),M.writeUInt32(this.version),M.writeUInt32(this.locktime),M.writeSlice(v),M.writeSlice(_),M.writeSlice(x),M.writeSlice(U),m||E||M.writeSlice(C),M.writeUInt8(z),y){const L=this.ins[i];M.writeSlice(L.hash),M.writeUInt32(L.index),M.writeInt64(l[i]),M.writeVarSlice(a[i]),M.writeUInt32(L.sequence)}else M.writeUInt32(i);if(h){const L=ze.withCapacity(Jn(h));L.writeVarSlice(h),M.writeSlice(cn(L.end()))}return E&&M.writeSlice(C),c&&(M.writeSlice(c),M.writeUInt8(0),M.writeUInt32(4294967295)),Us("TapSighash",le([Uint8Array.from([0]),M.end()]))}hashForWitnessV0(i,a,l,u){ye(ti([Oi,Pt,Sh,Oi]),[i,a,l,u]);let c=Uint8Array.from([]),h,d=Oh,p=Oh,y=Oh;if(u&At.SIGHASH_ANYONECANPAY||(c=new Uint8Array(36*this.ins.length),h=new ze(c,0),this.ins.forEach(E=>{h.writeSlice(E.hash),h.writeUInt32(E.index)}),p=Vr(c)),!(u&At.SIGHASH_ANYONECANPAY)&&(u&31)!==At.SIGHASH_SINGLE&&(u&31)!==At.SIGHASH_NONE&&(c=new Uint8Array(4*this.ins.length),h=new ze(c,0),this.ins.forEach(E=>{h.writeUInt32(E.sequence)}),y=Vr(c)),(u&31)!==At.SIGHASH_SINGLE&&(u&31)!==At.SIGHASH_NONE){const E=this.outs.reduce((v,_)=>v+8+Jn(_.script),0);c=new Uint8Array(E),h=new ze(c,0),this.outs.forEach(v=>{h.writeInt64(v.value),h.writeVarSlice(v.script)}),d=Vr(c)}else if((u&31)===At.SIGHASH_SINGLE&&i<this.outs.length){const E=this.outs[i];c=new Uint8Array(8+Jn(E.script)),h=new ze(c,0),h.writeInt64(E.value),h.writeVarSlice(E.script),d=Vr(c)}c=new Uint8Array(156+Jn(a)),h=new ze(c,0);const m=this.ins[i];return h.writeUInt32(this.version),h.writeSlice(p),h.writeSlice(y),h.writeSlice(m.hash),h.writeUInt32(m.index),h.writeVarSlice(a),h.writeInt64(l),h.writeUInt32(m.sequence),h.writeSlice(d),h.writeUInt32(this.locktime),h.writeUInt32(u),Vr(c)}getHash(i){return i&&this.isCoinbase()?new Uint8Array(32):Vr(this.__toBuffer(void 0,void 0,i))}getId(){return _t(bd(this.getHash(!1)))}toBuffer(i,a){return this.__toBuffer(i,a,!0)}toHex(){return _t(this.toBuffer(void 0,void 0))}setInputScript(i,a){ye(ti([Un(),Pt]),[i,a]),this.ins[i].script=a}setWitness(i,a){ye(ti([Un(),Je(Pt)]),[i,a]),this.ins[i].witness=a}__toBuffer(i,a,l=!1){i||(i=new Uint8Array(this.byteLength(l)));const u=new ze(i,a||0);u.writeUInt32(this.version);const c=l&&this.hasWitnesses();return c&&(u.writeUInt8(At.ADVANCED_TRANSACTION_MARKER),u.writeUInt8(At.ADVANCED_TRANSACTION_FLAG)),u.writeVarInt(this.ins.length),this.ins.forEach(h=>{u.writeSlice(h.hash),u.writeUInt32(h.index),u.writeVarSlice(h.script),u.writeUInt32(h.sequence)}),u.writeVarInt(this.outs.length),this.outs.forEach(h=>{E_(h)?u.writeInt64(h.value):u.writeSlice(h.valueBuffer),u.writeVarSlice(h.script)}),c&&this.ins.forEach(h=>{u.writeVector(h.witness)}),u.writeUInt32(this.locktime),a!==void 0?i.slice(a,u.offset):i}}var ei;(function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(ei||(ei={}));var yt;(function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(yt||(yt={}));var pe;(function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(pe||(pe={}));const b_=e=>[...Array(e).keys()];function w_(e){if(e.key[0]!==ei.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+_t(e.key));if(e.key.length!==79||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+_t(e.key));if(e.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const i=e.key.slice(1),a={masterFingerprint:e.value.slice(0,4),extendedPubkey:i,path:"m"};for(const l of b_(e.value.length/4-1)){const u=Jr(e.value,l*4+4,"LE"),c=!!(u&2147483648),h=u&2147483647;a.path+="/"+h.toString(10)+(c?"'":"")}return a}function v_(e){const i=new Uint8Array([ei.GLOBAL_XPUB]),a=le([i,e.extendedPubkey]),l=e.path.split("/"),u=new Uint8Array(l.length*4);u.set(e.masterFingerprint,0);let c=4;return l.slice(1).forEach(h=>{const d=h.slice(-1)==="'";let p=2147483647&parseInt(d?h.slice(0,-1):h,10);d&&(p+=2147483648),xs(u,c,p,"LE"),c+=4}),{key:a,value:u}}const A_="{ masterFingerprint: Uint8Array; extendedPubkey: Uint8Array; path: string; }";function S_(e){const i=e.extendedPubkey,a=e.masterFingerprint,l=e.path;return i instanceof Uint8Array&&i.length===78&&[2,3].indexOf(i[45])>-1&&a instanceof Uint8Array&&a.length===4&&typeof l=="string"&&!!l.match(/^m(\/\d+'?)*$/)}function __(e,i,a){const l=_t(i.extendedPubkey);return a.has(l)?!1:(a.add(l),e.filter(u=>ft(u.extendedPubkey,i.extendedPubkey)).length===0)}const x_=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:__,check:S_,decode:w_,encode:v_,expected:A_},Symbol.toStringTag,{value:"Module"}));function T_(e){return{key:new Uint8Array([ei.UNSIGNED_TX]),value:e.toBuffer()}}const N_=Object.freeze(Object.defineProperty({__proto__:null,encode:T_},Symbol.toStringTag,{value:"Module"}));function U_(e){if(e.key[0]!==yt.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+_t(e.key));return e.value}function O_(e){return{key:new Uint8Array([yt.FINAL_SCRIPTSIG]),value:e}}const B_="Uint8Array";function C_(e){return e instanceof Uint8Array}function R_(e,i){return!!e&&!!i&&e.finalScriptSig===void 0}const H_=Object.freeze(Object.defineProperty({__proto__:null,canAdd:R_,check:C_,decode:U_,encode:O_,expected:B_},Symbol.toStringTag,{value:"Module"}));function I_(e){if(e.key[0]!==yt.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+_t(e.key));return e.value}function M_(e){return{key:new Uint8Array([yt.FINAL_SCRIPTWITNESS]),value:e}}const k_="Uint8Array";function D_(e){return e instanceof Uint8Array}function z_(e,i){return!!e&&!!i&&e.finalScriptWitness===void 0}const L_=Object.freeze(Object.defineProperty({__proto__:null,canAdd:z_,check:D_,decode:I_,encode:M_,expected:k_},Symbol.toStringTag,{value:"Module"}));function j_(e){if(e.key[0]!==yt.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+_t(e.key));return e.value}function K_(e){return{key:new Uint8Array([yt.NON_WITNESS_UTXO]),value:e}}const G_="Uint8Array";function X_(e){return e instanceof Uint8Array}function V_(e,i){return!!e&&!!i&&e.nonWitnessUtxo===void 0}const Y_=Object.freeze(Object.defineProperty({__proto__:null,canAdd:V_,check:X_,decode:j_,encode:K_,expected:G_},Symbol.toStringTag,{value:"Module"}));function q_(e){if(e.key[0]!==yt.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+_t(e.key));if(!(e.key.length===34||e.key.length===66)||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+_t(e.key));return{pubkey:e.key.slice(1),signature:e.value}}function F_(e){const i=new Uint8Array([yt.PARTIAL_SIG]);return{key:le([i,e.pubkey]),value:e.signature}}const P_="{ pubkey: Uint8Array; signature: Uint8Array; }";function $_(e){return e.pubkey instanceof Uint8Array&&e.signature instanceof Uint8Array&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&Z_(e.signature)}function Z_(e){if(!(e instanceof Uint8Array)||e.length<9||e[0]!==48||e.length!==e[1]+3||e[2]!==2)return!1;const i=e[3];if(i>33||i<1||e[3+i+1]!==2)return!1;const a=e[3+i+2];return!(a>33||a<1||e.length!==3+i+2+a+2)}function Q_(e,i,a){const l=_t(i.pubkey);return a.has(l)?!1:(a.add(l),e.filter(u=>ft(u.pubkey,i.pubkey)===0).length===0)}const W_=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:Q_,check:$_,decode:q_,encode:F_,expected:P_},Symbol.toStringTag,{value:"Module"}));function J_(e){if(e.key[0]!==yt.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+_t(e.key));return CA(e.value)}function t3(e){return{key:new Uint8Array([yt.POR_COMMITMENT]),value:RA(e)}}const e3="string";function n3(e){return typeof e=="string"}function i3(e,i){return!!e&&!!i&&e.porCommitment===void 0}const r3=Object.freeze(Object.defineProperty({__proto__:null,canAdd:i3,check:n3,decode:J_,encode:t3,expected:e3},Symbol.toStringTag,{value:"Module"}));function a3(e){if(e.key[0]!==yt.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+_t(e.key));return Number(Jr(e.value,0,"LE"))}function l3(e){const i=Uint8Array.from([yt.SIGHASH_TYPE]),a=new Uint8Array(4);return xs(a,0,e,"LE"),{key:i,value:a}}const s3="number";function u3(e){return typeof e=="number"}function o3(e,i){return!!e&&!!i&&e.sighashType===void 0}const c3=Object.freeze(Object.defineProperty({__proto__:null,canAdd:o3,check:u3,decode:a3,encode:l3,expected:s3},Symbol.toStringTag,{value:"Module"}));function f3(e){if(e.key[0]!==yt.TAP_KEY_SIG||e.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+_t(e.key));if(!sE(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value}function h3(e){return{key:Uint8Array.from([yt.TAP_KEY_SIG]),value:e}}const d3="Uint8Array";function sE(e){return e instanceof Uint8Array&&(e.length===64||e.length===65)}function p3(e,i){return!!e&&!!i&&e.tapKeySig===void 0}const y3=Object.freeze(Object.defineProperty({__proto__:null,canAdd:p3,check:sE,decode:f3,encode:h3,expected:d3},Symbol.toStringTag,{value:"Module"}));function g3(e){if(e.key[0]!==yt.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+_t(e.key));if((e.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+_t(e.key));const i=e.value[e.value.length-1];if((e.key[1]&254)!==i)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+_t(e.key));const a=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:a,leafVersion:i}}function m3(e){const i=Uint8Array.from([yt.TAP_LEAF_SCRIPT]),a=Uint8Array.from([e.leafVersion]);return{key:le([i,e.controlBlock]),value:le([e.script,a])}}const E3="{ controlBlock: Uint8Array; leafVersion: number, script: Uint8Array; }";function b3(e){return e.controlBlock instanceof Uint8Array&&(e.controlBlock.length-1)%32===0&&(e.controlBlock[0]&254)===e.leafVersion&&e.script instanceof Uint8Array}function w3(e,i,a){const l=_t(i.controlBlock);return a.has(l)?!1:(a.add(l),e.filter(u=>ft(u.controlBlock,i.controlBlock)===0).length===0)}const v3=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:w3,check:b3,decode:g3,encode:m3,expected:E3},Symbol.toStringTag,{value:"Module"}));function A3(e){if(e.key[0]!==yt.TAP_MERKLE_ROOT||e.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+_t(e.key));if(!uE(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value}function S3(e){return{key:Uint8Array.from([yt.TAP_MERKLE_ROOT]),value:e}}const _3="Uint8Array";function uE(e){return e instanceof Uint8Array&&e.length===32}function x3(e,i){return!!e&&!!i&&e.tapMerkleRoot===void 0}const T3=Object.freeze(Object.defineProperty({__proto__:null,canAdd:x3,check:uE,decode:A3,encode:S3,expected:_3},Symbol.toStringTag,{value:"Module"}));function N3(e){if(e.key[0]!==yt.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+_t(e.key));if(e.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+_t(e.key));if(e.value.length!==64&&e.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+_t(e.key));const i=e.key.slice(1,33),a=e.key.slice(33);return{pubkey:i,leafHash:a,signature:e.value}}function U3(e){const i=Uint8Array.from([yt.TAP_SCRIPT_SIG]);return{key:le([i,e.pubkey,e.leafHash]),value:e.signature}}const O3="{ pubkey: Uint8Array; leafHash: Uint8Array; signature: Uint8Array; }";function B3(e){return e.pubkey instanceof Uint8Array&&e.leafHash instanceof Uint8Array&&e.signature instanceof Uint8Array&&e.pubkey.length===32&&e.leafHash.length===32&&(e.signature.length===64||e.signature.length===65)}function C3(e,i,a){const l=_t(i.pubkey)+_t(i.leafHash);return a.has(l)?!1:(a.add(l),e.filter(u=>ft(u.pubkey,i.pubkey)===0&&ft(u.leafHash,i.leafHash)===0).length===0)}const R3=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:C3,check:B3,decode:N3,encode:U3,expected:O3},Symbol.toStringTag,{value:"Module"}));function H3(e){if(e.key[0]!==yt.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+_t(e.key));const i=_1(e.value,0,"LE");let a=8;const{numberValue:l,bytes:u}=il(e.value,a);a+=u;const c=e.value.slice(a);if(c.length!==l)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:c,value:i}}function I3(e){const{script:i,value:a}=e,l=Cn(i.length),u=new Uint8Array(8+l+i.length);return S1(u,0,BigInt(a),"LE"),Sr(i.length,u,8),u.set(i,8+l),{key:Uint8Array.from([yt.WITNESS_UTXO]),value:u}}const M3="{ script: Uint8Array; value: bigint; }";function k3(e){return e.script instanceof Uint8Array&&typeof e.value=="bigint"}function D3(e,i){return!!e&&!!i&&e.witnessUtxo===void 0}const z3=Object.freeze(Object.defineProperty({__proto__:null,canAdd:D3,check:k3,decode:H3,encode:I3,expected:M3},Symbol.toStringTag,{value:"Module"}));function L3(e){if(e.key[0]!==pe.TAP_TREE||e.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+_t(e.key));let i=0;const a=[];for(;i<e.value.length;){const l=e.value[i++],u=e.value[i++],{numberValue:c,bytes:h}=il(e.value,i);i+=h,a.push({depth:l,leafVersion:u,script:e.value.slice(i,i+c)}),i+=c}return{leaves:a}}function j3(e){const i=Uint8Array.from([pe.TAP_TREE]),a=[].concat(...e.leaves.map(l=>[Uint8Array.of(l.depth,l.leafVersion),Sr(BigInt(l.script.length)).buffer,l.script]));return{key:i,value:le(a)}}const K3="{ leaves: [{ depth: number; leafVersion: number, script: Uint8Array; }] }";function G3(e){return Array.isArray(e.leaves)&&e.leaves.every(i=>i.depth>=0&&i.depth<=128&&(i.leafVersion&254)===i.leafVersion&&i.script instanceof Uint8Array)}function X3(e,i){return!!e&&!!i&&e.tapTree===void 0}const V3=Object.freeze(Object.defineProperty({__proto__:null,canAdd:X3,check:G3,decode:L3,encode:j3,expected:K3},Symbol.toStringTag,{value:"Module"})),Y3=e=>[...Array(e).keys()],q3=e=>e.length===33&&[2,3].includes(e[0])||e.length===65&&e[0]===4;function vd(e,i=q3){function a(d){if(d.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+_t(d.key));const p=d.key.slice(1);if(!i(p))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+_t(d.key));if(d.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const y={masterFingerprint:d.value.slice(0,4),pubkey:p,path:"m"};for(const m of Y3(d.value.length/4-1)){const E=Jr(d.value,m*4+4,"LE"),v=!!(E&2147483648),_=E&2147483647;y.path+="/"+_.toString(10)+(v?"'":"")}return y}function l(d){const p=Uint8Array.from([e]),y=le([p,d.pubkey]),m=d.path.split("/"),E=new Uint8Array(m.length*4);E.set(d.masterFingerprint,0);let v=4;return m.slice(1).forEach(_=>{const x=_.slice(-1)==="'";let U=2147483647&parseInt(x?_.slice(0,-1):_,10);x&&(U+=2147483648),xs(E,v,U,"LE"),v+=4}),{key:y,value:E}}const u="{ masterFingerprint: Uint8Array; pubkey: Uint8Array; path: string; }";function c(d){return d.pubkey instanceof Uint8Array&&d.masterFingerprint instanceof Uint8Array&&typeof d.path=="string"&&i(d.pubkey)&&d.masterFingerprint.length===4}function h(d,p,y){const m=_t(p.pubkey);return y.has(m)?!1:(y.add(m),d.filter(E=>ft(E.pubkey,p.pubkey)===0).length===0)}return{decode:a,encode:l,check:c,expected:u,canAddToArray:h}}function Ad(e){return i;function i(a){let l;if(e.includes(a.key[0])&&(l=a.key.slice(1),!(l.length===33||l.length===65)||![2,3,4].includes(l[0])))throw new Error("Format Error: invalid pubkey in key 0x"+_t(a.key));return l}}function oE(e){function i(h){if(h.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+_t(h.key));return h.value}function a(h){return{key:Uint8Array.from([e]),value:h}}const l="Uint8Array";function u(h){return h instanceof Uint8Array}function c(h,d){return!!h&&!!d&&h.redeemScript===void 0}return{decode:i,encode:a,check:u,expected:l,canAdd:c}}const F3=e=>e.length===32;function cE(e){const i=vd(e,F3);function a(h){const{numberValue:d,bytes:p}=il(h.value),y=i.decode({key:h.key,value:h.value.slice(p+Number(d)*32)}),m=new Array(Number(d));for(let E=0,v=p;E<d;E++,v+=32)m[E]=h.value.slice(v,v+32);return{...y,leafHashes:m}}function l(h){const d=i.encode(h),p=Cn(h.leafHashes.length),y=new Uint8Array(p);Sr(h.leafHashes.length,y);const m=le([y,...h.leafHashes,d.value]);return{...d,value:m}}const u="{ masterFingerprint: Uint8Array; pubkey: Uint8Array; path: string; leafHashes: Uint8Array[]; }";function c(h){return Array.isArray(h.leafHashes)&&h.leafHashes.every(d=>d instanceof Uint8Array&&d.length===32)&&i.check(h)}return{decode:a,encode:l,check:c,expected:u,canAddToArray:i.canAddToArray}}function fE(e){function i(h){if(h.key[0]!==e||h.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+_t(h.key));if(h.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return h.value}function a(h){return{key:Uint8Array.from([e]),value:h}}const l="Uint8Array";function u(h){return h instanceof Uint8Array&&h.length===32}function c(h,d){return!!h&&!!d&&h.tapInternalKey===void 0}return{decode:i,encode:a,check:u,expected:l,canAdd:c}}function hE(e){function i(h){if(h.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+_t(h.key));return h.value}function a(h){return{key:Uint8Array.from([e]),value:h}}const l="Uint8Array";function u(h){return h instanceof Uint8Array}function c(h,d){return!!h&&!!d&&h.witnessScript===void 0}return{decode:i,encode:a,check:u,expected:l,canAdd:c}}const Sd={unsignedTx:N_,globalXpub:x_,checkPubkey:Ad([])},Se={nonWitnessUtxo:Y_,partialSig:W_,sighashType:c3,finalScriptSig:H_,finalScriptWitness:L_,porCommitment:r3,witnessUtxo:z3,bip32Derivation:vd(yt.BIP32_DERIVATION),redeemScript:oE(yt.REDEEM_SCRIPT),witnessScript:hE(yt.WITNESS_SCRIPT),checkPubkey:Ad([yt.PARTIAL_SIG,yt.BIP32_DERIVATION]),tapKeySig:y3,tapScriptSig:R3,tapLeafScript:v3,tapBip32Derivation:cE(yt.TAP_BIP32_DERIVATION),tapInternalKey:fE(yt.TAP_INTERNAL_KEY),tapMerkleRoot:T3},Bi={bip32Derivation:vd(pe.BIP32_DERIVATION),redeemScript:oE(pe.REDEEM_SCRIPT),witnessScript:hE(pe.WITNESS_SCRIPT),checkPubkey:Ad([pe.BIP32_DERIVATION]),tapBip32Derivation:cE(pe.TAP_BIP32_DERIVATION),tapTree:V3,tapInternalKey:fE(pe.TAP_INTERNAL_KEY)},P3=Object.freeze(Object.defineProperty({__proto__:null,globals:Sd,inputs:Se,outputs:Bi},Symbol.toStringTag,{value:"Module"})),Uo=e=>[...Array(e).keys()];function Am(e){const i=e.map($3);return i.push(Uint8Array.from([0])),le(i)}function $3(e){const i=e.key.length,a=e.value.length,l=Cn(i),u=Cn(a),c=new Uint8Array(l+i+u+a);return Sr(i,c,0),c.set(e.key,l),Sr(a,c,l+i),c.set(e.value,l+i+u),c}function Z3(e,i){let a=0;function l(){const{numberValue:C,bytes:z}=il(e,a);a+=z;const X=e.slice(a,a+Number(C));return a+=Number(C),X}function u(){const C=Jr(e,a,"BE");return a+=4,C}function c(){const C=ii(e,a);return a+=1,C}function h(){const C=l(),z=l();return{key:C,value:z}}function d(){if(a>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const C=ii(e,a)===0;return C&&a++,C}if(u()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(c()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");const p=[],y={};for(;!d();){const C=h(),z=_t(C.key);if(y[z])throw new Error("Format Error: Keys must be unique for global keymap: key "+z);y[z]=1,p.push(C)}const m=p.filter(C=>C.key[0]===ei.UNSIGNED_TX);if(m.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const E=i(m[0].value),{inputCount:v,outputCount:_}=E.getInputOutputCounts(),x=[],U=[];for(const C of Uo(v)){const z={},X=[];for(;!d();){const M=h(),L=_t(M.key);if(z[L])throw new Error("Format Error: Keys must be unique for each input: input index "+C+" key "+L);z[L]=1,X.push(M)}x.push(X)}for(const C of Uo(_)){const z={},X=[];for(;!d();){const M=h(),L=_t(M.key);if(z[L])throw new Error("Format Error: Keys must be unique for each output: output index "+C+" key "+L);z[L]=1,X.push(M)}U.push(X)}return dE(E,{globalMapKeyVals:p,inputKeyVals:x,outputKeyVals:U})}function ke(e,i,a){if(ft(i,Uint8Array.from([a])))throw new Error(`Format Error: Invalid ${e} key: ${_t(i)}`)}function dE(e,{globalMapKeyVals:i,inputKeyVals:a,outputKeyVals:l}){const u={unsignedTx:e};let c=0;for(const m of i)switch(m.key[0]){case ei.UNSIGNED_TX:if(ke("global",m.key,ei.UNSIGNED_TX),c>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");c++;break;case ei.GLOBAL_XPUB:u.globalXpub===void 0&&(u.globalXpub=[]),u.globalXpub.push(Sd.globalXpub.decode(m));break;default:u.unknownKeyVals||(u.unknownKeyVals=[]),u.unknownKeyVals.push(m)}const h=a.length,d=l.length,p=[],y=[];for(const m of Uo(h)){const E={};for(const v of a[m])switch(Se.checkPubkey(v),v.key[0]){case yt.NON_WITNESS_UTXO:if(ke("input",v.key,yt.NON_WITNESS_UTXO),E.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");E.nonWitnessUtxo=Se.nonWitnessUtxo.decode(v);break;case yt.WITNESS_UTXO:if(ke("input",v.key,yt.WITNESS_UTXO),E.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");E.witnessUtxo=Se.witnessUtxo.decode(v);break;case yt.PARTIAL_SIG:E.partialSig===void 0&&(E.partialSig=[]),E.partialSig.push(Se.partialSig.decode(v));break;case yt.SIGHASH_TYPE:if(ke("input",v.key,yt.SIGHASH_TYPE),E.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");E.sighashType=Se.sighashType.decode(v);break;case yt.REDEEM_SCRIPT:if(ke("input",v.key,yt.REDEEM_SCRIPT),E.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");E.redeemScript=Se.redeemScript.decode(v);break;case yt.WITNESS_SCRIPT:if(ke("input",v.key,yt.WITNESS_SCRIPT),E.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");E.witnessScript=Se.witnessScript.decode(v);break;case yt.BIP32_DERIVATION:E.bip32Derivation===void 0&&(E.bip32Derivation=[]),E.bip32Derivation.push(Se.bip32Derivation.decode(v));break;case yt.FINAL_SCRIPTSIG:ke("input",v.key,yt.FINAL_SCRIPTSIG),E.finalScriptSig=Se.finalScriptSig.decode(v);break;case yt.FINAL_SCRIPTWITNESS:ke("input",v.key,yt.FINAL_SCRIPTWITNESS),E.finalScriptWitness=Se.finalScriptWitness.decode(v);break;case yt.POR_COMMITMENT:ke("input",v.key,yt.POR_COMMITMENT),E.porCommitment=Se.porCommitment.decode(v);break;case yt.TAP_KEY_SIG:ke("input",v.key,yt.TAP_KEY_SIG),E.tapKeySig=Se.tapKeySig.decode(v);break;case yt.TAP_SCRIPT_SIG:E.tapScriptSig===void 0&&(E.tapScriptSig=[]),E.tapScriptSig.push(Se.tapScriptSig.decode(v));break;case yt.TAP_LEAF_SCRIPT:E.tapLeafScript===void 0&&(E.tapLeafScript=[]),E.tapLeafScript.push(Se.tapLeafScript.decode(v));break;case yt.TAP_BIP32_DERIVATION:E.tapBip32Derivation===void 0&&(E.tapBip32Derivation=[]),E.tapBip32Derivation.push(Se.tapBip32Derivation.decode(v));break;case yt.TAP_INTERNAL_KEY:ke("input",v.key,yt.TAP_INTERNAL_KEY),E.tapInternalKey=Se.tapInternalKey.decode(v);break;case yt.TAP_MERKLE_ROOT:ke("input",v.key,yt.TAP_MERKLE_ROOT),E.tapMerkleRoot=Se.tapMerkleRoot.decode(v);break;default:E.unknownKeyVals||(E.unknownKeyVals=[]),E.unknownKeyVals.push(v)}p.push(E)}for(const m of Uo(d)){const E={};for(const v of l[m])switch(Bi.checkPubkey(v),v.key[0]){case pe.REDEEM_SCRIPT:if(ke("output",v.key,pe.REDEEM_SCRIPT),E.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");E.redeemScript=Bi.redeemScript.decode(v);break;case pe.WITNESS_SCRIPT:if(ke("output",v.key,pe.WITNESS_SCRIPT),E.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");E.witnessScript=Bi.witnessScript.decode(v);break;case pe.BIP32_DERIVATION:E.bip32Derivation===void 0&&(E.bip32Derivation=[]),E.bip32Derivation.push(Bi.bip32Derivation.decode(v));break;case pe.TAP_INTERNAL_KEY:ke("output",v.key,pe.TAP_INTERNAL_KEY),E.tapInternalKey=Bi.tapInternalKey.decode(v);break;case pe.TAP_TREE:ke("output",v.key,pe.TAP_TREE),E.tapTree=Bi.tapTree.decode(v);break;case pe.TAP_BIP32_DERIVATION:E.tapBip32Derivation===void 0&&(E.tapBip32Derivation=[]),E.tapBip32Derivation.push(Bi.tapBip32Derivation.decode(v));break;default:E.unknownKeyVals||(E.unknownKeyVals=[]),E.unknownKeyVals.push(v)}y.push(E)}return{globalMap:u,inputs:p,outputs:y}}function Q3({globalMap:e,inputs:i,outputs:a}){const{globalKeyVals:l,inputKeyVals:u,outputKeyVals:c}=Qh({globalMap:e,inputs:i,outputs:a}),h=Am(l),d=E=>E.length===0?[Uint8Array.from([0])]:E.map(Am),p=d(u),y=d(c),m=new Uint8Array(5);return m.set([112,115,98,116,255],0),le([m,h].concat(p,y))}const W3=(e,i)=>ft(e.key,i.key);function Bh(e,i){const a=new Set,l=Object.entries(e).reduce((c,[h,d])=>{if(h==="unknownKeyVals")return c;const p=i[h];if(p===void 0)return c;const y=(Array.isArray(d)?d:[d]).map(p.encode);return y.map(E=>_t(E.key)).forEach(E=>{if(a.has(E))throw new Error("Serialize Error: Duplicate key: "+E);a.add(E)}),c.concat(y)},[]),u=e.unknownKeyVals?e.unknownKeyVals.filter(c=>!a.has(_t(c.key))):[];return l.concat(u).sort(W3)}function Qh({globalMap:e,inputs:i,outputs:a}){return{globalKeyVals:Bh(e,Sd),inputKeyVals:i.map(l=>Bh(l,Se)),outputKeyVals:a.map(l=>Bh(l,Bi))}}function J3(e){const i=e[0],a=Qh(i),l=e.slice(1);if(l.length===0)throw new Error("Combine: Nothing to combine");const u=Sm(i);if(u===void 0)throw new Error("Combine: Self missing transaction");const c=Ga(a.globalKeyVals),h=a.inputKeyVals.map(Ga),d=a.outputKeyVals.map(Ga);for(const p of l){const y=Sm(p);if(y===void 0||ft(y.toBuffer(),u.toBuffer())!==0)throw new Error("Combine: One of the Psbts does not have the same transaction.");const m=Qh(p);Ga(m.globalKeyVals).forEach(Ch(c,a.globalKeyVals,m.globalKeyVals)),m.inputKeyVals.map(Ga).forEach((x,U)=>x.forEach(Ch(h[U],a.inputKeyVals[U],m.inputKeyVals[U]))),m.outputKeyVals.map(Ga).forEach((x,U)=>x.forEach(Ch(d[U],a.outputKeyVals[U],m.outputKeyVals[U])))}return dE(u,{globalMapKeyVals:a.globalKeyVals,inputKeyVals:a.inputKeyVals,outputKeyVals:a.outputKeyVals})}function Ch(e,i,a){return l=>{if(e.has(l))return;const u=a.filter(c=>_t(c.key)===l)[0];i.push(u),e.add(l)}}function Sm(e){return e.globalMap.unsignedTx}function Ga(e){const i=new Set;return e.forEach(a=>{const l=_t(a.key);if(i.has(l))throw new Error("Combine: KeyValue Map keys should be unique");i.add(l)}),i}function Ie(e,i){const a=e[i];if(a===void 0)throw new Error(`No input #${i}`);return a}function bs(e,i){const a=e[i];if(a===void 0)throw new Error(`No output #${i}`);return a}function Rh(e,i,a){if(e.key[0]<a)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(i&&i.filter(l=>ft(l.key,e.key)===0).length!==0)throw new Error(`Duplicate Key: ${_t(e.key)}`)}function Hh(e){let i=0;return Object.keys(e).forEach(a=>{Number(isNaN(Number(a)))&&i++}),i}function tx(e,i){let a=!1;if(i.nonWitnessUtxo||i.witnessUtxo){const l=!!i.redeemScript,u=!!i.witnessScript,c=!l||!!i.finalScriptSig,h=!u||!!i.finalScriptWitness,d=!!i.finalScriptSig||!!i.finalScriptWitness;a=c&&h&&d}if(a===!1)throw new Error(`Input #${e} has too much or too little data to clean`)}function _m(e,i,a,l){throw new Error(`Data for ${e} key ${i} is incorrect: Expected ${a} and got ${JSON.stringify(l)}`)}function _d(e){return(i,a)=>{for(const l of Object.keys(i)){const u=i[l],{canAdd:c,canAddToArray:h,check:d,expected:p}=P3[e+"s"][l]||{},y=!!h;if(d)if(y){if(!Array.isArray(u)||a[l]&&!Array.isArray(a[l]))throw new Error(`Key type ${l} must be an array`);u.every(d)||_m(e,l,p,u);const m=a[l]||[],E=new Set;if(!u.every(v=>h(m,v,E)))throw new Error("Can not add duplicate data to array");a[l]=m.concat(u)}else{if(d(u)||_m(e,l,p,u),!c(a,u))throw new Error(`Can not add duplicate data to ${e}`);a[l]=u}}}}const ex=_d("global"),pE=_d("input"),yE=_d("output");function nx(e,i){const a=e.length-1,l=Ie(e,a);pE(i,l)}function ix(e,i){const a=e.length-1,l=bs(e,a);yE(i,l)}let xm=class{constructor(i){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:i}}static fromBase64(i,a){const l=v1(i);return this.fromBuffer(l,a)}static fromHex(i,a){const l=zi(i);return this.fromBuffer(l,a)}static fromBuffer(i,a){const l=Z3(i,a),u=new this(l.globalMap.unsignedTx);return Object.assign(u,l),u}toBase64(){const i=this.toBuffer();return MA(i)}toHex(){const i=this.toBuffer();return _t(i)}toBuffer(){return Q3(this)}updateGlobal(i){return ex(i,this.globalMap),this}updateInput(i,a){const l=Ie(this.inputs,i);return pE(a,l),this}updateOutput(i,a){const l=bs(this.outputs,i);return yE(a,l),this}addUnknownKeyValToGlobal(i){return Rh(i,this.globalMap.unknownKeyVals,Hh(ei)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(i),this}addUnknownKeyValToInput(i,a){const l=Ie(this.inputs,i);return Rh(a,l.unknownKeyVals,Hh(yt)),l.unknownKeyVals||(l.unknownKeyVals=[]),l.unknownKeyVals.push(a),this}addUnknownKeyValToOutput(i,a){const l=bs(this.outputs,i);return Rh(a,l.unknownKeyVals,Hh(pe)),l.unknownKeyVals||(l.unknownKeyVals=[]),l.unknownKeyVals.push(a),this}addInput(i){this.globalMap.unsignedTx.addInput(i),this.inputs.push({unknownKeyVals:[]});const a=i.unknownKeyVals||[],l=this.inputs.length-1;if(!Array.isArray(a))throw new Error("unknownKeyVals must be an Array");return a.forEach(u=>this.addUnknownKeyValToInput(l,u)),nx(this.inputs,i),this}addOutput(i){this.globalMap.unsignedTx.addOutput(i),this.outputs.push({unknownKeyVals:[]});const a=i.unknownKeyVals||[],l=this.outputs.length-1;if(!Array.isArray(a))throw new Error("unknownKeyVals must be an Array");return a.forEach(u=>this.addUnknownKeyValToOutput(l,u)),ix(this.outputs,i),this}clearFinalizedInput(i){const a=Ie(this.inputs,i);tx(i,a);for(const l of Object.keys(a))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(l)||delete a[l];return this}combine(...i){const a=J3([this].concat(i));return Object.assign(this,a),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};function ea(e){return i=>{try{return e({output:i}),!0}catch{return!1}}}const rx=ea(Ns),ax=ea(j1),lx=ea(Os),Fo=ea(qo),Tm=ea(nl),gE=ea(Bs),mE=ea(ta);function Oo(e){let i=new Uint8Array(0);function a(h){i=le([i,h])}function l(h){const d=i.length,p=Cn(h);i=le([i,new Uint8Array(p)]),Sr(h,i,d)}function u(h){l(h.length),a(h)}function c(h){l(h.length),h.forEach(u)}return c(e),i}function EE(e,i){const a=Ii(e),l=e.slice(1,33),u=ce(i);if(u===null)throw new Error("Unknown script error");return u.findIndex(c=>typeof c=="number"?!1:ft(e,c)===0||ft(a,c)===0||ft(l,c)===0)}function Po(e,i){return EE(e,i)!==-1}function sx(e,i){return ux(e).some(l=>bE(l,ds.decode,i))}function bE(e,i,a){const{hashType:l}=i(e),u=[];switch(l&At.SIGHASH_ANYONECANPAY&&u.push("addInput"),l&31){case At.SIGHASH_ALL:break;case At.SIGHASH_SINGLE:case At.SIGHASH_NONE:u.push("addOutput"),u.push("setInputSequence");break}return u.indexOf(a)===-1}function ux(e){let i=[];if((e.partialSig||[]).length===0){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];i=ox(e)}else i=e.partialSig;return i.map(a=>a.signature)}function ox(e){const i=e.finalScriptSig?ce(e.finalScriptSig)||[]:[],a=e.finalScriptWitness?ce(e.finalScriptWitness)||[]:[];return i.concat(a).filter(l=>l instanceof Uint8Array&&Mi(l)).map(l=>({signature:l}))}const mo=e=>e.length===32?e:e.slice(1,33);function Nm(e,i,a){const l=Sx(i,e,a);try{const c=vx(i,l).concat(l.script).concat(l.controlBlock);return{finalScriptWitness:Oo(c)}}catch(u){throw new Error(`Can not finalize taproot input #${e}: ${u}`)}}function no(e,i){const a=Uint8Array.from(i?[i]:[]);return le([e,a])}function Kn(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&mE(e.witnessUtxo.script))}function Ih(e,i){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||i)}function Um(e,i,a){Ex(e,i,a),wx(e,i,a)}function Om(e,i,a){bx(e,i,a),cx(e,i)}function cx(e,i){if(!i.tapTree&&!i.tapInternalKey)return;const a=i.tapInternalKey||e.tapInternalKey,l=i.tapTree||e.tapTree;if(a){const{script:u}=e,c=fx(a,l);if(u&&ft(c,u)!==0)throw new Error("Error adding output. Script or address mismatch.")}}function fx(e,i){const a=i&&hx(i.leaves),{output:l}=ta({internalPubkey:e,scriptTree:a});return l}function hx(e=[]){return e.length===1&&e[0].depth===0?{output:e[0].script,version:e[0].leafVersion}:mx(e)}function dx(e,i){return yx(e).some(l=>bE(l,px,i))}function px(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||At.SIGHASH_DEFAULT}}function yx(e){const i=[];if(e.tapKeySig&&i.push(e.tapKeySig),e.tapScriptSig&&i.push(...e.tapScriptSig.map(a=>a.signature)),!i.length){const a=gx(e.finalScriptWitness);a&&i.push(a)}return i}function gx(e){if(!e)return;const i=e.slice(2);if(i.length===64||i.length===65)return i}function mx(e){let i;for(const a of e)if(i=Wh(a,i),!i)throw new Error("No room left to insert tapleaf in tree");return i}function Wh(e,i,a=0){if(a>l_)throw new Error("Max taptree depth exceeded.");if(e.depth===a)return i?void 0:{output:e.script,version:e.leafVersion};if(pd(i))return;const l=Wh(e,i&&i[0],a+1);if(l)return[l,i&&i[1]];const u=Wh(e,i&&i[1],a+1);if(u)return[i&&i[0],u]}function Ex(e,i,a){const l=Kn(e)&&Pa(i),u=Pa(e)&&Kn(i),c=e===i&&Kn(i)&&Pa(i);if(l||u||c)throw new Error(`Invalid arguments for Psbt.${a}. Cannot use both taproot and non-taproot fields.`)}function bx(e,i,a){const l=Ih(e)&&Pa(i),u=Pa(e)&&Ih(i),c=e===i&&Ih(i)&&Pa(i);if(l||u||c)throw new Error(`Invalid arguments for Psbt.${a}. Cannot use both taproot and non-taproot fields.`)}function wx(e,i,a){if(i.tapMerkleRoot){const l=(i.tapLeafScript||[]).every(c=>Mh(c,i.tapMerkleRoot)),u=(e.tapLeafScript||[]).every(c=>Mh(c,i.tapMerkleRoot));if(!l||!u)throw new Error(`Invalid arguments for Psbt.${a}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot&&!(i.tapLeafScript||[]).every(u=>Mh(u,e.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${a}. Tapleaf not part of taptree.`)}function Mh(e,i){if(!i)return!0;const a=Ci({output:e.script,version:e.leafVersion}),l=Ph(e.controlBlock,a);return ft(l,i)===0}function vx(e,i){const a=Ci({output:i.script,version:i.leafVersion});return(e.tapScriptSig||[]).filter(l=>ft(l.leafHash,a)===0).map(l=>Ax(i.script,l)).sort((l,u)=>u.positionInScript-l.positionInScript).map(l=>l.signature)}function Ax(e,i){return Object.assign({positionInScript:EE(i.pubkey,e)},i)}function Sx(e,i,a){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${i}. No tapleaf script signature provided.`);const l=(e.tapLeafScript||[]).sort((u,c)=>u.controlBlock.length-c.controlBlock.length).find(u=>_x(u,e.tapScriptSig,a));if(!l)throw new Error(`Can not finalize taproot input #${i}. Signature for tapleaf script not found.`);return l}function _x(e,i,a){const l=Ci({output:e.script,version:e.leafVersion});return(!a||ft(l,a)===0)&&i.find(c=>ft(c.leafHash,l)===0)!==void 0}function Pa(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}const xx={network:ri,maximumFeeRate:5e3};class Za{data;static fromBase64(i,a={}){const l=v1(i);return this.fromBuffer(l,a)}static fromHex(i,a={}){const l=zi(i);return this.fromBuffer(l,a)}static fromBuffer(i,a={}){const l=xm.fromBuffer(i,Tx),u=new Za(a,l);return Cx(u.__CACHE.__TX,u.__CACHE),u}__CACHE;opts;constructor(i={},a=new xm(new wE)){this.data=a,this.opts=Object.assign({},xx,i),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);const l=(u,c,h,d)=>Object.defineProperty(u,c,{enumerable:h,writable:d});l(this,"__CACHE",!1,!0),l(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(i){this.setVersion(i)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(i){this.setLocktime(i)}get txInputs(){return this.__CACHE.__TX.ins.map(i=>({hash:Em(i.hash),index:i.index,sequence:i.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(i=>{let a;try{a=p_(i.script,this.opts.network)}catch{}return{script:Em(i.script),value:i.value,address:a}})}combine(...i){return this.data.combine(...i.map(a=>a.data)),this}clone(){const i=Za.fromBuffer(this.data.toBuffer());return i.opts=JSON.parse(JSON.stringify(this.opts)),i}setMaximumFeeRate(i){io(i),this.opts.maximumFeeRate=i}setVersion(i){io(i),us(this.data.inputs,"setVersion");const a=this.__CACHE;return a.__TX.version=i,a.__EXTRACTED_TX=void 0,this}setLocktime(i){io(i),us(this.data.inputs,"setLocktime");const a=this.__CACHE;return a.__TX.locktime=i,a.__EXTRACTED_TX=void 0,this}setInputSequence(i,a){io(a),us(this.data.inputs,"setInputSequence");const l=this.__CACHE;if(l.__TX.ins.length<=i)throw new Error("Input index too high");return l.__TX.ins[i].sequence=a,l.__EXTRACTED_TX=void 0,this}addInputs(i){return i.forEach(a=>this.addInput(a)),this}addInput(i){if(arguments.length>1||!i||i.hash===void 0||i.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");Um(i,i,"addInput"),us(this.data.inputs,"addInput"),i.witnessScript&&Bo(i.witnessScript);const a=this.__CACHE;this.data.addInput(i);const l=a.__TX.ins[a.__TX.ins.length-1];SE(a,l);const u=this.data.inputs.length-1,c=this.data.inputs[u];return c.nonWitnessUtxo&&Jh(this.__CACHE,c,u),a.__FEE=void 0,a.__FEE_RATE=void 0,a.__EXTRACTED_TX=void 0,this}addOutputs(i){return i.forEach(a=>this.addOutput(a)),this}addOutput(i){if(arguments.length>1||!i||i.value===void 0||i.address===void 0&&i.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");us(this.data.inputs,"addOutput");const{address:a}=i;if(typeof a=="string"){const{network:u}=this.opts,c=wd(a,u);i=Object.assign({},i,{script:c})}Om(i,i,"addOutput");const l=this.__CACHE;return this.data.addOutput(i),l.__FEE=void 0,l.__FEE_RATE=void 0,l.__EXTRACTED_TX=void 0,this}extractTransaction(i){if(!this.data.inputs.every(vE))throw new Error("Not finalized");const a=this.__CACHE;if(i||Ux(this,a,this.opts),a.__EXTRACTED_TX)return a.__EXTRACTED_TX;const l=a.__TX.clone();return CE(this.data.inputs,l,a,!0),l}getFeeRate(){return Im("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return Im("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return Ie(this.data.inputs,0),os(this.data.inputs.length).forEach(i=>this.finalizeInput(i)),this}finalizeInput(i,a){const l=Ie(this.data.inputs,i);return Kn(l)?this._finalizeTaprootInput(i,l,void 0,a):this._finalizeInput(i,l,a)}finalizeTaprootInput(i,a,l=Nm){const u=Ie(this.data.inputs,i);if(Kn(u))return this._finalizeTaprootInput(i,u,a,l);throw new Error(`Cannot finalize input #${i}. Not Taproot.`)}_finalizeInput(i,a,l=Rx){const{script:u,isP2SH:c,isP2WSH:h,isSegwit:d}=Dx(i,a,this.__CACHE);if(!u)throw new Error(`No script found for input #${i}`);Ox(a);const{finalScriptSig:p,finalScriptWitness:y}=l(i,a,u,d,c,h);if(p&&this.data.updateInput(i,{finalScriptSig:p}),y&&this.data.updateInput(i,{finalScriptWitness:y}),!p&&!y)throw new Error(`Unknown error finalizing input #${i}`);return this.data.clearFinalizedInput(i),this}_finalizeTaprootInput(i,a,l,u=Nm){if(!a.witnessUtxo)throw new Error(`Cannot finalize input #${i}. Missing withness utxo.`);if(a.tapKeySig){const c=ta({output:a.witnessUtxo.script,signature:a.tapKeySig}),h=Oo(c.witness);this.data.updateInput(i,{finalScriptWitness:h})}else{const{finalScriptWitness:c}=u(i,a,l);this.data.updateInput(i,{finalScriptWitness:c})}return this.data.clearFinalizedInput(i),this}getInputType(i){const a=Ie(this.data.inputs,i),l=RE(i,a,this.__CACHE),u=Zo(l,i,"input",a.redeemScript||Gx(a.finalScriptSig),a.witnessScript||Xx(a.finalScriptWitness)),c=u.type==="raw"?"":u.type+"-",h=IE(u.meaningfulScript);return c+h}inputHasPubkey(i,a){const l=Ie(this.data.inputs,i);return jx(a,l,i,this.__CACHE)}inputHasHDKey(i,a){const l=Ie(this.data.inputs,i),u=Cm(a);return!!l.bip32Derivation&&l.bip32Derivation.some(u)}outputHasPubkey(i,a){const l=bs(this.data.outputs,i);return Kx(a,l,i,this.__CACHE)}outputHasHDKey(i,a){const l=bs(this.data.outputs,i),u=Cm(a);return!!l.bip32Derivation&&l.bip32Derivation.some(u)}validateSignaturesOfAllInputs(i){return Ie(this.data.inputs,0),os(this.data.inputs.length).map(l=>this.validateSignaturesOfInput(l,i)).reduce((l,u)=>u===!0&&l,!0)}validateSignaturesOfInput(i,a,l){const u=this.data.inputs[i];return Kn(u)?this.validateSignaturesOfTaprootInput(i,a,l):this._validateSignaturesOfInput(i,a,l)}_validateSignaturesOfInput(i,a,l){const u=this.data.inputs[i],c=(u||{}).partialSig;if(!u||!c||c.length<1)throw new Error("No signatures to validate");if(typeof a!="function")throw new Error("Need validator function to validate signatures");const h=l?c.filter(E=>ft(E.pubkey,l)===0):c;if(h.length<1)throw new Error("No signatures for this pubkey");const d=[];let p,y,m;for(const E of h){const v=ds.decode(E.signature),{hash:_,script:x}=m!==v.hashType?xE(i,Object.assign({},u,{sighashType:v.hashType}),this.__CACHE,!0):{hash:p,script:y};m=v.hashType,p=_,y=x,AE(E.pubkey,x,"verify"),d.push(a(E.pubkey,_,v.signature))}return d.every(E=>E===!0)}validateSignaturesOfTaprootInput(i,a,l){const u=this.data.inputs[i],c=(u||{}).tapKeySig,h=(u||{}).tapScriptSig;if(!u&&!c&&!(h&&!h.length))throw new Error("No signatures to validate");if(typeof a!="function")throw new Error("Need validator function to validate signatures");l=l&&mo(l);const d=l?NE(i,u,this.data.inputs,l,this.__CACHE):Ix(i,u,this.data.inputs,this.__CACHE);if(!d.length)throw new Error("No signatures for this pubkey");const p=d.find(m=>!m.leafHash);let y=0;if(c&&p){if(!a(p.pubkey,p.hash,km(c)))return!1;y++}if(h)for(const m of h){const E=d.find(v=>ft(v.pubkey,m.pubkey)===0);if(E){if(!a(m.pubkey,E.hash,km(m.signature)))return!1;y++}}return y>0}signAllInputsHD(i,a=[At.SIGHASH_ALL]){if(!i||!i.publicKey||!i.fingerprint)throw new Error("Need HDSigner to sign input");const l=[];for(const u of os(this.data.inputs.length))try{this.signInputHD(u,i,a),l.push(!0)}catch{l.push(!1)}if(l.every(u=>u===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(i,a=[At.SIGHASH_ALL]){return new Promise((l,u)=>{if(!i||!i.publicKey||!i.fingerprint)return u(new Error("Need HDSigner to sign input"));const c=[],h=[];for(const d of os(this.data.inputs.length))h.push(this.signInputHDAsync(d,i,a).then(()=>{c.push(!0)},()=>{c.push(!1)}));return Promise.all(h).then(()=>{if(c.every(d=>d===!1))return u(new Error("No inputs were signed"));l()})})}signInputHD(i,a,l=[At.SIGHASH_ALL]){if(!a||!a.publicKey||!a.fingerprint)throw new Error("Need HDSigner to sign input");return Dm(i,this.data.inputs,a).forEach(c=>this.signInput(i,c,l)),this}signInputHDAsync(i,a,l=[At.SIGHASH_ALL]){return new Promise((u,c)=>{if(!a||!a.publicKey||!a.fingerprint)return c(new Error("Need HDSigner to sign input"));const d=Dm(i,this.data.inputs,a).map(p=>this.signInputAsync(i,p,l));return Promise.all(d).then(()=>{u()}).catch(c)})}signAllInputs(i,a){if(!i||!i.publicKey)throw new Error("Need Signer to sign input");const l=[];for(const u of os(this.data.inputs.length))try{this.signInput(u,i,a),l.push(!0)}catch{l.push(!1)}if(l.every(u=>u===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(i,a){return new Promise((l,u)=>{if(!i||!i.publicKey)return u(new Error("Need Signer to sign input"));const c=[],h=[];for(const[d]of this.data.inputs.entries())h.push(this.signInputAsync(d,i,a).then(()=>{c.push(!0)},()=>{c.push(!1)}));return Promise.all(h).then(()=>{if(c.every(d=>d===!1))return u(new Error("No inputs were signed"));l()})})}signInput(i,a,l){if(!a||!a.publicKey)throw new Error("Need Signer to sign input");const u=Ie(this.data.inputs,i);return Kn(u)?this._signTaprootInput(i,u,a,void 0,l):this._signInput(i,a,l)}signTaprootInput(i,a,l,u){if(!a||!a.publicKey)throw new Error("Need Signer to sign input");const c=Ie(this.data.inputs,i);if(Kn(c))return this._signTaprootInput(i,c,a,l,u);throw new Error(`Input #${i} is not of type Taproot.`)}_signInput(i,a,l=[At.SIGHASH_ALL]){const{hash:u,sighashType:c}=Mm(this.data.inputs,i,a.publicKey,this.__CACHE,l),h=[{pubkey:a.publicKey,signature:ds.encode(a.sign(u),c)}];return this.data.updateInput(i,{partialSig:h}),this}_signTaprootInput(i,a,l,u,c=[At.SIGHASH_DEFAULT]){const h=this.checkTaprootHashesForSig(i,a,l,u,c),d=h.filter(y=>!y.leafHash).map(y=>no(l.signSchnorr(y.hash),a.sighashType))[0],p=h.filter(y=>!!y.leafHash).map(y=>({pubkey:mo(l.publicKey),signature:no(l.signSchnorr(y.hash),a.sighashType),leafHash:y.leafHash}));return d&&this.data.updateInput(i,{tapKeySig:d}),p.length&&this.data.updateInput(i,{tapScriptSig:p}),this}signInputAsync(i,a,l){return Promise.resolve().then(()=>{if(!a||!a.publicKey)throw new Error("Need Signer to sign input");const u=Ie(this.data.inputs,i);return Kn(u)?this._signTaprootInputAsync(i,u,a,void 0,l):this._signInputAsync(i,a,l)})}signTaprootInputAsync(i,a,l,u){return Promise.resolve().then(()=>{if(!a||!a.publicKey)throw new Error("Need Signer to sign input");const c=Ie(this.data.inputs,i);if(Kn(c))return this._signTaprootInputAsync(i,c,a,l,u);throw new Error(`Input #${i} is not of type Taproot.`)})}_signInputAsync(i,a,l=[At.SIGHASH_ALL]){const{hash:u,sighashType:c}=Mm(this.data.inputs,i,a.publicKey,this.__CACHE,l);return Promise.resolve(a.sign(u)).then(h=>{const d=[{pubkey:a.publicKey,signature:ds.encode(h,c)}];this.data.updateInput(i,{partialSig:d})})}async _signTaprootInputAsync(i,a,l,u,c=[At.SIGHASH_DEFAULT]){const h=this.checkTaprootHashesForSig(i,a,l,u,c),d=[],p=h.filter(m=>!m.leafHash)[0];if(p){const m=Promise.resolve(l.signSchnorr(p.hash)).then(E=>({tapKeySig:no(E,a.sighashType)}));d.push(m)}const y=h.filter(m=>!!m.leafHash);if(y.length){const m=y.map(E=>Promise.resolve(l.signSchnorr(E.hash)).then(v=>({tapScriptSig:[{pubkey:mo(l.publicKey),signature:no(v,a.sighashType),leafHash:E.leafHash}]})));d.push(...m)}return Promise.all(d).then(m=>{m.forEach(E=>this.data.updateInput(i,E))})}checkTaprootHashesForSig(i,a,l,u,c){if(typeof l.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${i}.`);const h=Mx(i,a,this.data.inputs,l.publicKey,this.__CACHE,u,c);if(!h||!h.length)throw new Error(`Can not sign for input #${i} with the key ${_t(l.publicKey)}`);return h}toBuffer(){return kh(this.__CACHE),this.data.toBuffer()}toHex(){return kh(this.__CACHE),this.data.toHex()}toBase64(){return kh(this.__CACHE),this.data.toBase64()}updateGlobal(i){return this.data.updateGlobal(i),this}updateInput(i,a){return a.witnessScript&&Bo(a.witnessScript),Um(this.data.inputs[i],a,"updateInput"),this.data.updateInput(i,a),a.nonWitnessUtxo&&Jh(this.__CACHE,this.data.inputs[i],i),this}updateOutput(i,a){const l=this.data.outputs[i];return Om(l,a,"updateOutput"),this.data.updateOutput(i,a),this}addUnknownKeyValToGlobal(i){return this.data.addUnknownKeyValToGlobal(i),this}addUnknownKeyValToInput(i,a){return this.data.addUnknownKeyValToInput(i,a),this}addUnknownKeyValToOutput(i,a){return this.data.addUnknownKeyValToOutput(i,a),this}clearFinalizedInput(i){return this.data.clearFinalizedInput(i),this}}const Tx=e=>new wE(e);class wE{tx;constructor(i=Uint8Array.from([2,0,0,0,0,0,0,0,0,0])){this.tx=At.fromBuffer(i),Bx(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(i){if(i.hash===void 0||i.index===void 0||!(i.hash instanceof Uint8Array)&&typeof i.hash!="string"||typeof i.index!="number")throw new Error("Error adding input.");const a=typeof i.hash=="string"?bd(zi(i.hash)):i.hash;this.tx.addInput(a,i.index,i.sequence)}addOutput(i){if(i.script===void 0||i.value===void 0||!(i.script instanceof Uint8Array)||typeof i.value!="bigint")throw new Error("Error adding output.");this.tx.addOutput(i.script,i.value)}toBuffer(){return this.tx.toBuffer()}}function Nx(e,i,a){switch(a){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return Bm(1,e.partialSig);case"multisig":const l=Ns({output:i});return Bm(l.m,e.partialSig,l.pubkeys);default:return!1}}function kh(e){if(e.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function Bm(e,i,a){if(!i)return!1;let l;if(a?l=a.map(u=>{const c=Vx(u);return i.find(h=>ft(h.pubkey,c)===0)}).filter(u=>!!u):l=i,l.length>e)throw new Error("Too many signatures");return l.length===e}function vE(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function Cm(e){return i=>!(ft(e.fingerprint,i.masterFingerprint)||ft(e.derivePath(i.path).publicKey,i.pubkey))}function io(e){if(typeof e!="number"||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function Ux(e,i,a){const l=i.__FEE_RATE||e.getFeeRate(),u=i.__EXTRACTED_TX.virtualSize(),c=l*u;if(l>=a.maximumFeeRate)throw new Error(`Warning: You are paying around ${(c/1e8).toFixed(8)} in fees, which is ${l} satoshi per byte for a transaction with a VSize of ${u} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function us(e,i){e.forEach(a=>{if(Kn(a)?dx(a,i):sx(a,i))throw new Error("Can not modify transaction, signatures exist.")})}function Ox(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:i,sighashType:a}=e;i.forEach(l=>{const{hashType:u}=ds.decode(l.signature);if(a!==u)throw new Error("Signature sighash does not match input sighash type")})}function AE(e,i,a){if(!Po(e,i))throw new Error(`Can not ${a} for this input with the key ${_t(e)}`)}function Bx(e){if(!e.ins.every(a=>a.script&&a.script.length===0&&a.witness&&a.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function Cx(e,i){e.ins.forEach(a=>{SE(i,a)})}function SE(e,i){const a=_t(bd(Uint8Array.from(i.hash)))+":"+i.index;if(e.__TX_IN_CACHE[a])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[a]=1}function _E(e,i){return(a,l,u,c)=>{const h=e({redeem:{output:u}}).output;if(ft(l,h))throw new Error(`${i} for ${c} #${a} doesn't match the scriptPubKey in the prevout`)}}const Rm=_E(Bs,"Redeem script"),Hm=_E(nl,"Witness script");function Im(e,i,a,l){if(!a.every(vE))throw new Error(`PSBT must be finalized to calculate ${i}`);if(e==="__FEE_RATE"&&l.__FEE_RATE)return l.__FEE_RATE;if(e==="__FEE"&&l.__FEE)return l.__FEE;let u,c=!0;if(l.__EXTRACTED_TX?(u=l.__EXTRACTED_TX,c=!1):u=l.__TX.clone(),CE(a,u,l,c),e==="__FEE_RATE")return l.__FEE_RATE;if(e==="__FEE")return l.__FEE}function Rx(e,i,a,l,u,c){const h=IE(a);if(!Nx(i,a,h))throw new Error(`Can not finalize input #${e}`);return Hx(a,h,i.partialSig,l,u,c)}function Hx(e,i,a,l,u,c){let h,d;const p=kx(e,i,a),y=c?nl({redeem:p}):null,m=u?Bs({redeem:y||p}):null;return l?(y?d=Oo(y.witness):d=Oo(p.witness),m&&(h=m.input)):m?h=m.input:h=p.input,{finalScriptSig:h,finalScriptWitness:d}}function Mm(e,i,a,l,u){const c=Ie(e,i),{hash:h,sighashType:d,script:p}=xE(i,c,l,!1,u);return AE(a,p,"sign"),{hash:h,sighashType:d}}function xE(e,i,a,l,u){const c=a.__TX,h=i.sighashType||At.SIGHASH_ALL;OE(h,u);let d,p;if(i.nonWitnessUtxo){const E=$o(a,i,e),v=c.ins[e].hash,_=E.getHash();if(ft(v,_)!==0)throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const x=c.ins[e].index;p=E.outs[x]}else if(i.witnessUtxo)p=i.witnessUtxo;else throw new Error("Need a Utxo input item for signing");const{meaningfulScript:y,type:m}=Zo(p.script,e,"input",i.redeemScript,i.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(m)>=0)d=c.hashForWitnessV0(e,y,p.value,h);else if(Fo(y)){const E=Os({hash:y.slice(2)}).output;d=c.hashForWitnessV0(e,E,p.value,h)}else{if(i.nonWitnessUtxo===void 0&&a.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${_t(y)}`);!l&&a.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),d=c.hashForSignature(e,y,h)}return{script:y,sighashType:h,hash:d}}function Ix(e,i,a,l){const u=[];if(i.tapInternalKey){const h=TE(e,i,l);h&&u.push(h)}if(i.tapScriptSig){const h=i.tapScriptSig.map(d=>d.pubkey);u.push(...h)}return u.map(h=>NE(e,i,a,h,l)).flat()}function TE(e,i,a){const{script:l}=xd(e,i,a);return mE(l)?l.subarray(2,34):null}function km(e){return e.length===64?e:e.subarray(0,64)}function Mx(e,i,a,l,u,c,h){const d=i.sighashType||At.SIGHASH_DEFAULT;OE(d,h);const p=!!(i.tapInternalKey&&!c);return UE(e,i,a,l,u,p,d,c)}function NE(e,i,a,l,u){const c=i.sighashType||At.SIGHASH_DEFAULT,h=!!i.tapKeySig;return UE(e,i,a,l,u,h,c)}function UE(e,i,a,l,u,c,h,d){const p=u.__TX,y=a.map((x,U)=>xd(U,x,u)),m=y.map(x=>x.script),E=y.map(x=>x.value),v=[];if(c){const x=TE(e,i,u)||Uint8Array.from([]);if(ft(mo(l),x)===0){const U=p.hashForWitnessV1(e,m,E,h);v.push({pubkey:l,hash:U})}}const _=(i.tapLeafScript||[]).filter(x=>Po(l,x.script)).map(x=>{const U=Ci({output:x.script,version:x.leafVersion});return Object.assign({hash:U},x)}).filter(x=>!d||ft(d,x.hash)===0).map(x=>{const U=p.hashForWitnessV1(e,m,E,h,x.hash);return{pubkey:l,hash:U,leafHash:x.hash}});return v.concat(_)}function OE(e,i){if(i&&i.indexOf(e)<0){const a=Lx(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${a}`)}}function kx(e,i,a){let l;switch(i){case"multisig":const u=zx(e,a);l=Ns({output:e,signatures:u});break;case"pubkey":l=j1({output:e,signature:a[0].signature});break;case"pubkeyhash":l=Os({output:e,pubkey:a[0].pubkey,signature:a[0].signature});break;case"witnesspubkeyhash":l=qo({output:e,pubkey:a[0].pubkey,signature:a[0].signature});break}return l}function Dx(e,i,a){const l=a.__TX,u={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(u.isP2SH=!!i.redeemScript,u.isP2WSH=!!i.witnessScript,i.witnessScript)u.script=i.witnessScript;else if(i.redeemScript)u.script=i.redeemScript;else if(i.nonWitnessUtxo){const c=$o(a,i,e),h=l.ins[e].index;u.script=c.outs[h].script}else i.witnessUtxo&&(u.script=i.witnessUtxo.script);return(i.witnessScript||Fo(u.script))&&(u.isSegwit=!0),u}function Dm(e,i,a){const l=Ie(i,e);if(!l.bip32Derivation||l.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");const u=l.bip32Derivation.map(h=>{if(ft(h.masterFingerprint,a.fingerprint)===0)return h}).filter(h=>!!h);if(u.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return u.map(h=>{const d=a.derivePath(h.path);if(ft(h.pubkey,d.publicKey)!==0)throw new Error("pubkey did not match bip32Derivation");return d})}function zx(e,i){return Ns({output:e}).pubkeys.map(l=>(i.filter(u=>ft(u.pubkey,l)===0)[0]||{}).signature).filter(l=>!!l)}function BE(e){let i=0;function a(h){return i+=h,e.slice(i-h,i)}function l(){const h=il(e,i);return i+=Cn(h.bigintValue),h.numberValue}function u(){return a(l())}function c(){const h=l(),d=[];for(let p=0;p<h;p++)d.push(u());return d}return c()}function Lx(e){let i=e&At.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(e&31){case At.SIGHASH_ALL:i+="SIGHASH_ALL";break;case At.SIGHASH_SINGLE:i+="SIGHASH_SINGLE";break;case At.SIGHASH_NONE:i+="SIGHASH_NONE";break}return i}function Jh(e,i,a){e.__NON_WITNESS_UTXO_BUF_CACHE[a]=i.nonWitnessUtxo;const l=At.fromBuffer(i.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[a]=l;const u=e,c=a;delete i.nonWitnessUtxo,Object.defineProperty(i,"nonWitnessUtxo",{enumerable:!0,get(){const h=u.__NON_WITNESS_UTXO_BUF_CACHE[c],d=u.__NON_WITNESS_UTXO_TX_CACHE[c];if(h!==void 0)return h;{const p=d.toBuffer();return u.__NON_WITNESS_UTXO_BUF_CACHE[c]=p,p}},set(h){u.__NON_WITNESS_UTXO_BUF_CACHE[c]=h}})}function CE(e,i,a,l){let u=0n;e.forEach((p,y)=>{if(l&&p.finalScriptSig&&(i.ins[y].script=p.finalScriptSig),l&&p.finalScriptWitness&&(i.ins[y].witness=BE(p.finalScriptWitness)),p.witnessUtxo)u+=p.witnessUtxo.value;else if(p.nonWitnessUtxo){const m=$o(a,p,y),E=i.ins[y].index,v=m.outs[E];u+=v.value}});const c=i.outs.reduce((p,y)=>p+y.value,0n),h=u-c;if(h<0)throw new Error("Outputs are spending more than Inputs");const d=i.virtualSize();a.__FEE=h,a.__EXTRACTED_TX=i,a.__FEE_RATE=Math.floor(Number(h/BigInt(d)))}function $o(e,i,a){const l=e.__NON_WITNESS_UTXO_TX_CACHE;return l[a]||Jh(e,i,a),l[a]}function RE(e,i,a){const{script:l}=xd(e,i,a);return l}function xd(e,i,a){if(i.witnessUtxo!==void 0)return{script:i.witnessUtxo.script,value:i.witnessUtxo.value};if(i.nonWitnessUtxo!==void 0){const u=$o(a,i,e).outs[a.__TX.ins[e].index];return{script:u.script,value:u.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function jx(e,i,a,l){const u=RE(a,i,l),{meaningfulScript:c}=Zo(u,a,"input",i.redeemScript,i.witnessScript);return Po(e,c)}function Kx(e,i,a,l){const u=l.__TX.outs[a].script,{meaningfulScript:c}=Zo(u,a,"output",i.redeemScript,i.witnessScript);return Po(e,c)}function Gx(e){if(!e)return;const i=ce(e);if(!i)return;const a=i[i.length-1];if(!(!(a instanceof Uint8Array)||HE(a)||Yx(a)||!ce(a)))return a}function Xx(e){if(!e)return;const i=BE(e),a=i[i.length-1];if(!(HE(a)||!ce(a)))return a}function Vx(e){if(e.length===65){const i=e[64]&1,a=e.slice(0,33);return a[0]=2|i,a}return e.slice()}function HE(e){return e.length===33&&uS(e)}function Yx(e){return Mi(e)}function Zo(e,i,a,l,u){const c=gE(e),h=c&&l&&Tm(l),d=Tm(e);if(c&&l===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((d||h)&&u===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let p;return h?(p=u,Rm(i,e,l,a),Hm(i,l,u,a),Bo(p)):d?(p=u,Hm(i,e,u,a),Bo(p)):c?(p=l,Rm(i,e,l,a)):p=e,{meaningfulScript:p,type:h?"p2sh-p2wsh":c?"p2sh":d?"p2wsh":"raw"}}function Bo(e){if(Fo(e)||gE(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function IE(e){return Fo(e)?"witnesspubkeyhash":lx(e)?"pubkeyhash":rx(e)?"multisig":ax(e)?"pubkey":"nonstandard"}function os(e){return[...Array(e).keys()]}var Dh={},cs={},zm;function qx(){if(zm)return cs;zm=1,cs.byteLength=d,cs.toByteArray=y,cs.fromByteArray=v;for(var e=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=l.length;u<c;++u)e[u]=l[u],i[l.charCodeAt(u)]=u;i[45]=62,i[95]=63;function h(_){var x=_.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=_.indexOf("=");U===-1&&(U=x);var C=U===x?0:4-U%4;return[U,C]}function d(_){var x=h(_),U=x[0],C=x[1];return(U+C)*3/4-C}function p(_,x,U){return(x+U)*3/4-U}function y(_){var x,U=h(_),C=U[0],z=U[1],X=new a(p(_,C,z)),M=0,L=z>0?C-4:C,F;for(F=0;F<L;F+=4)x=i[_.charCodeAt(F)]<<18|i[_.charCodeAt(F+1)]<<12|i[_.charCodeAt(F+2)]<<6|i[_.charCodeAt(F+3)],X[M++]=x>>16&255,X[M++]=x>>8&255,X[M++]=x&255;return z===2&&(x=i[_.charCodeAt(F)]<<2|i[_.charCodeAt(F+1)]>>4,X[M++]=x&255),z===1&&(x=i[_.charCodeAt(F)]<<10|i[_.charCodeAt(F+1)]<<4|i[_.charCodeAt(F+2)]>>2,X[M++]=x>>8&255,X[M++]=x&255),X}function m(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function E(_,x,U){for(var C,z=[],X=x;X<U;X+=3)C=(_[X]<<16&16711680)+(_[X+1]<<8&65280)+(_[X+2]&255),z.push(m(C));return z.join("")}function v(_){for(var x,U=_.length,C=U%3,z=[],X=16383,M=0,L=U-C;M<L;M+=X)z.push(E(_,M,M+X>L?L:M+X));return C===1?(x=_[U-1],z.push(e[x>>2]+e[x<<4&63]+"==")):C===2&&(x=(_[U-2]<<8)+_[U-1],z.push(e[x>>10]+e[x>>4&63]+e[x<<2&63]+"=")),z.join("")}return cs}var ro={};var Lm;function Fx(){return Lm||(Lm=1,ro.read=function(e,i,a,l,u){var c,h,d=u*8-l-1,p=(1<<d)-1,y=p>>1,m=-7,E=a?u-1:0,v=a?-1:1,_=e[i+E];for(E+=v,c=_&(1<<-m)-1,_>>=-m,m+=d;m>0;c=c*256+e[i+E],E+=v,m-=8);for(h=c&(1<<-m)-1,c>>=-m,m+=l;m>0;h=h*256+e[i+E],E+=v,m-=8);if(c===0)c=1-y;else{if(c===p)return h?NaN:(_?-1:1)*(1/0);h=h+Math.pow(2,l),c=c-y}return(_?-1:1)*h*Math.pow(2,c-l)},ro.write=function(e,i,a,l,u,c){var h,d,p,y=c*8-u-1,m=(1<<y)-1,E=m>>1,v=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=l?0:c-1,x=l?1:-1,U=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(d=isNaN(i)?1:0,h=m):(h=Math.floor(Math.log(i)/Math.LN2),i*(p=Math.pow(2,-h))<1&&(h--,p*=2),h+E>=1?i+=v/p:i+=v*Math.pow(2,1-E),i*p>=2&&(h++,p/=2),h+E>=m?(d=0,h=m):h+E>=1?(d=(i*p-1)*Math.pow(2,u),h=h+E):(d=i*Math.pow(2,E-1)*Math.pow(2,u),h=0));u>=8;e[a+_]=d&255,_+=x,d/=256,u-=8);for(h=h<<u|d,y+=u;y>0;e[a+_]=h&255,_+=x,h/=256,y-=8);e[a+_-x]|=U*128}),ro}var jm;function Px(){return jm||(jm=1,(function(e){const i=qx(),a=Fx(),l=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=d,e.SlowBuffer=X,e.INSPECT_MAX_BYTES=50;const u=2147483647;e.kMaxLength=u,d.TYPED_ARRAY_SUPPORT=c(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const S=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(S,g),S.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function h(S){if(S>u)throw new RangeError('The value "'+S+'" is invalid for option "size"');const g=new Uint8Array(S);return Object.setPrototypeOf(g,d.prototype),g}function d(S,g,b){if(typeof S=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(S)}return p(S,g,b)}d.poolSize=8192;function p(S,g,b){if(typeof S=="string")return v(S,g);if(ArrayBuffer.isView(S))return x(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(pn(S,ArrayBuffer)||S&&pn(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pn(S,SharedArrayBuffer)||S&&pn(S.buffer,SharedArrayBuffer)))return U(S,g,b);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const T=S.valueOf&&S.valueOf();if(T!=null&&T!==S)return d.from(T,g,b);const I=C(S);if(I)return I;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return d.from(S[Symbol.toPrimitive]("string"),g,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}d.from=function(S,g,b){return p(S,g,b)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function y(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function m(S,g,b){return y(S),S<=0?h(S):g!==void 0?typeof b=="string"?h(S).fill(g,b):h(S).fill(g):h(S)}d.alloc=function(S,g,b){return m(S,g,b)};function E(S){return y(S),h(S<0?0:z(S)|0)}d.allocUnsafe=function(S){return E(S)},d.allocUnsafeSlow=function(S){return E(S)};function v(S,g){if((typeof g!="string"||g==="")&&(g="utf8"),!d.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const b=M(S,g)|0;let T=h(b);const I=T.write(S,g);return I!==b&&(T=T.slice(0,I)),T}function _(S){const g=S.length<0?0:z(S.length)|0,b=h(g);for(let T=0;T<g;T+=1)b[T]=S[T]&255;return b}function x(S){if(pn(S,Uint8Array)){const g=new Uint8Array(S);return U(g.buffer,g.byteOffset,g.byteLength)}return _(S)}function U(S,g,b){if(g<0||S.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<g+(b||0))throw new RangeError('"length" is outside of buffer bounds');let T;return g===void 0&&b===void 0?T=new Uint8Array(S):b===void 0?T=new Uint8Array(S,g):T=new Uint8Array(S,g,b),Object.setPrototypeOf(T,d.prototype),T}function C(S){if(d.isBuffer(S)){const g=z(S.length)|0,b=h(g);return b.length===0||S.copy(b,0,0,g),b}if(S.length!==void 0)return typeof S.length!="number"||dl(S.length)?h(0):_(S);if(S.type==="Buffer"&&Array.isArray(S.data))return _(S.data)}function z(S){if(S>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return S|0}function X(S){return+S!=S&&(S=0),d.alloc(+S)}d.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==d.prototype},d.compare=function(g,b){if(pn(g,Uint8Array)&&(g=d.from(g,g.offset,g.byteLength)),pn(b,Uint8Array)&&(b=d.from(b,b.offset,b.byteLength)),!d.isBuffer(g)||!d.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===b)return 0;let T=g.length,I=b.length;for(let V=0,J=Math.min(T,I);V<J;++V)if(g[V]!==b[V]){T=g[V],I=b[V];break}return T<I?-1:I<T?1:0},d.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(g,b){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return d.alloc(0);let T;if(b===void 0)for(b=0,T=0;T<g.length;++T)b+=g[T].length;const I=d.allocUnsafe(b);let V=0;for(T=0;T<g.length;++T){let J=g[T];if(pn(J,Uint8Array))V+J.length>I.length?(d.isBuffer(J)||(J=d.from(J)),J.copy(I,V)):Uint8Array.prototype.set.call(I,J,V);else if(d.isBuffer(J))J.copy(I,V);else throw new TypeError('"list" argument must be an Array of Buffers');V+=J.length}return I};function M(S,g){if(d.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||pn(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const b=S.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&b===0)return 0;let I=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return fl(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return ia(S).length;default:if(I)return T?-1:fl(S).length;g=(""+g).toLowerCase(),I=!0}}d.byteLength=M;function L(S,g,b){let T=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,g>>>=0,b<=g))return"";for(S||(S="utf8");;)switch(S){case"hex":return st(this,g,b);case"utf8":case"utf-8":return Q(this,g,b);case"ascii":return q(this,g,b);case"latin1":case"binary":return it(this,g,b);case"base64":return $(this,g,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,g,b);default:if(T)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),T=!0}}d.prototype._isBuffer=!0;function F(S,g,b){const T=S[g];S[g]=S[b],S[b]=T}d.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<g;b+=2)F(this,b,b+1);return this},d.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<g;b+=4)F(this,b,b+3),F(this,b+1,b+2);return this},d.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<g;b+=8)F(this,b,b+7),F(this,b+1,b+6),F(this,b+2,b+5),F(this,b+3,b+4);return this},d.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?Q(this,0,g):L.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(g){if(!d.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:d.compare(this,g)===0},d.prototype.inspect=function(){let g="";const b=e.INSPECT_MAX_BYTES;return g=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(g+=" ... "),"<Buffer "+g+">"},l&&(d.prototype[l]=d.prototype.inspect),d.prototype.compare=function(g,b,T,I,V){if(pn(g,Uint8Array)&&(g=d.from(g,g.offset,g.byteLength)),!d.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(b===void 0&&(b=0),T===void 0&&(T=g?g.length:0),I===void 0&&(I=0),V===void 0&&(V=this.length),b<0||T>g.length||I<0||V>this.length)throw new RangeError("out of range index");if(I>=V&&b>=T)return 0;if(I>=V)return-1;if(b>=T)return 1;if(b>>>=0,T>>>=0,I>>>=0,V>>>=0,this===g)return 0;let J=V-I,bt=T-b;const Gt=Math.min(J,bt),Ct=this.slice(I,V),re=g.slice(b,T);for(let Yt=0;Yt<Gt;++Yt)if(Ct[Yt]!==re[Yt]){J=Ct[Yt],bt=re[Yt];break}return J<bt?-1:bt<J?1:0};function nt(S,g,b,T,I){if(S.length===0)return-1;if(typeof b=="string"?(T=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,dl(b)&&(b=I?0:S.length-1),b<0&&(b=S.length+b),b>=S.length){if(I)return-1;b=S.length-1}else if(b<0)if(I)b=0;else return-1;if(typeof g=="string"&&(g=d.from(g,T)),d.isBuffer(g))return g.length===0?-1:W(S,g,b,T,I);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(S,g,b):Uint8Array.prototype.lastIndexOf.call(S,g,b):W(S,[g],b,T,I);throw new TypeError("val must be string, number or Buffer")}function W(S,g,b,T,I){let V=1,J=S.length,bt=g.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(S.length<2||g.length<2)return-1;V=2,J/=2,bt/=2,b/=2}function Gt(re,Yt){return V===1?re[Yt]:re.readUInt16BE(Yt*V)}let Ct;if(I){let re=-1;for(Ct=b;Ct<J;Ct++)if(Gt(S,Ct)===Gt(g,re===-1?0:Ct-re)){if(re===-1&&(re=Ct),Ct-re+1===bt)return re*V}else re!==-1&&(Ct-=Ct-re),re=-1}else for(b+bt>J&&(b=J-bt),Ct=b;Ct>=0;Ct--){let re=!0;for(let Yt=0;Yt<bt;Yt++)if(Gt(S,Ct+Yt)!==Gt(g,Yt)){re=!1;break}if(re)return Ct}return-1}d.prototype.includes=function(g,b,T){return this.indexOf(g,b,T)!==-1},d.prototype.indexOf=function(g,b,T){return nt(this,g,b,T,!0)},d.prototype.lastIndexOf=function(g,b,T){return nt(this,g,b,T,!1)};function ct(S,g,b,T){b=Number(b)||0;const I=S.length-b;T?(T=Number(T),T>I&&(T=I)):T=I;const V=g.length;T>V/2&&(T=V/2);let J;for(J=0;J<T;++J){const bt=parseInt(g.substr(J*2,2),16);if(dl(bt))return J;S[b+J]=bt}return J}function ut(S,g,b,T){return ji(fl(g,S.length-b),S,b,T)}function Tt(S,g,b,T){return ji(Is(g),S,b,T)}function Bt(S,g,b,T){return ji(ia(g),S,b,T)}function gt(S,g,b,T){return ji(hl(g,S.length-b),S,b,T)}d.prototype.write=function(g,b,T,I){if(b===void 0)I="utf8",T=this.length,b=0;else if(T===void 0&&typeof b=="string")I=b,T=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(T)?(T=T>>>0,I===void 0&&(I="utf8")):(I=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const V=this.length-b;if((T===void 0||T>V)&&(T=V),g.length>0&&(T<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");let J=!1;for(;;)switch(I){case"hex":return ct(this,g,b,T);case"utf8":case"utf-8":return ut(this,g,b,T);case"ascii":case"latin1":case"binary":return Tt(this,g,b,T);case"base64":return Bt(this,g,b,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt(this,g,b,T);default:if(J)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),J=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(S,g,b){return g===0&&b===S.length?i.fromByteArray(S):i.fromByteArray(S.slice(g,b))}function Q(S,g,b){b=Math.min(S.length,b);const T=[];let I=g;for(;I<b;){const V=S[I];let J=null,bt=V>239?4:V>223?3:V>191?2:1;if(I+bt<=b){let Gt,Ct,re,Yt;switch(bt){case 1:V<128&&(J=V);break;case 2:Gt=S[I+1],(Gt&192)===128&&(Yt=(V&31)<<6|Gt&63,Yt>127&&(J=Yt));break;case 3:Gt=S[I+1],Ct=S[I+2],(Gt&192)===128&&(Ct&192)===128&&(Yt=(V&15)<<12|(Gt&63)<<6|Ct&63,Yt>2047&&(Yt<55296||Yt>57343)&&(J=Yt));break;case 4:Gt=S[I+1],Ct=S[I+2],re=S[I+3],(Gt&192)===128&&(Ct&192)===128&&(re&192)===128&&(Yt=(V&15)<<18|(Gt&63)<<12|(Ct&63)<<6|re&63,Yt>65535&&Yt<1114112&&(J=Yt))}}J===null?(J=65533,bt=1):J>65535&&(J-=65536,T.push(J>>>10&1023|55296),J=56320|J&1023),T.push(J),I+=bt}return H(T)}const Z=4096;function H(S){const g=S.length;if(g<=Z)return String.fromCharCode.apply(String,S);let b="",T=0;for(;T<g;)b+=String.fromCharCode.apply(String,S.slice(T,T+=Z));return b}function q(S,g,b){let T="";b=Math.min(S.length,b);for(let I=g;I<b;++I)T+=String.fromCharCode(S[I]&127);return T}function it(S,g,b){let T="";b=Math.min(S.length,b);for(let I=g;I<b;++I)T+=String.fromCharCode(S[I]);return T}function st(S,g,b){const T=S.length;(!g||g<0)&&(g=0),(!b||b<0||b>T)&&(b=T);let I="";for(let V=g;V<b;++V)I+=Ke[S[V]];return I}function lt(S,g,b){const T=S.slice(g,b);let I="";for(let V=0;V<T.length-1;V+=2)I+=String.fromCharCode(T[V]+T[V+1]*256);return I}d.prototype.slice=function(g,b){const T=this.length;g=~~g,b=b===void 0?T:~~b,g<0?(g+=T,g<0&&(g=0)):g>T&&(g=T),b<0?(b+=T,b<0&&(b=0)):b>T&&(b=T),b<g&&(b=g);const I=this.subarray(g,b);return Object.setPrototypeOf(I,d.prototype),I};function N(S,g,b){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+g>b)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(g,b,T){g=g>>>0,b=b>>>0,T||N(g,b,this.length);let I=this[g],V=1,J=0;for(;++J<b&&(V*=256);)I+=this[g+J]*V;return I},d.prototype.readUintBE=d.prototype.readUIntBE=function(g,b,T){g=g>>>0,b=b>>>0,T||N(g,b,this.length);let I=this[g+--b],V=1;for(;b>0&&(V*=256);)I+=this[g+--b]*V;return I},d.prototype.readUint8=d.prototype.readUInt8=function(g,b){return g=g>>>0,b||N(g,1,this.length),this[g]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(g,b){return g=g>>>0,b||N(g,2,this.length),this[g]|this[g+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(g,b){return g=g>>>0,b||N(g,2,this.length),this[g]<<8|this[g+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(g,b){return g=g>>>0,b||N(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(g,b){return g=g>>>0,b||N(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},d.prototype.readBigUInt64LE=Yn(function(g){g=g>>>0,dn(g,"offset");const b=this[g],T=this[g+7];(b===void 0||T===void 0)&&en(g,this.length-8);const I=b+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,V=this[++g]+this[++g]*2**8+this[++g]*2**16+T*2**24;return BigInt(I)+(BigInt(V)<<BigInt(32))}),d.prototype.readBigUInt64BE=Yn(function(g){g=g>>>0,dn(g,"offset");const b=this[g],T=this[g+7];(b===void 0||T===void 0)&&en(g,this.length-8);const I=b*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],V=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+T;return(BigInt(I)<<BigInt(32))+BigInt(V)}),d.prototype.readIntLE=function(g,b,T){g=g>>>0,b=b>>>0,T||N(g,b,this.length);let I=this[g],V=1,J=0;for(;++J<b&&(V*=256);)I+=this[g+J]*V;return V*=128,I>=V&&(I-=Math.pow(2,8*b)),I},d.prototype.readIntBE=function(g,b,T){g=g>>>0,b=b>>>0,T||N(g,b,this.length);let I=b,V=1,J=this[g+--I];for(;I>0&&(V*=256);)J+=this[g+--I]*V;return V*=128,J>=V&&(J-=Math.pow(2,8*b)),J},d.prototype.readInt8=function(g,b){return g=g>>>0,b||N(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},d.prototype.readInt16LE=function(g,b){g=g>>>0,b||N(g,2,this.length);const T=this[g]|this[g+1]<<8;return T&32768?T|4294901760:T},d.prototype.readInt16BE=function(g,b){g=g>>>0,b||N(g,2,this.length);const T=this[g+1]|this[g]<<8;return T&32768?T|4294901760:T},d.prototype.readInt32LE=function(g,b){return g=g>>>0,b||N(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},d.prototype.readInt32BE=function(g,b){return g=g>>>0,b||N(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},d.prototype.readBigInt64LE=Yn(function(g){g=g>>>0,dn(g,"offset");const b=this[g],T=this[g+7];(b===void 0||T===void 0)&&en(g,this.length-8);const I=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(T<<24);return(BigInt(I)<<BigInt(32))+BigInt(b+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),d.prototype.readBigInt64BE=Yn(function(g){g=g>>>0,dn(g,"offset");const b=this[g],T=this[g+7];(b===void 0||T===void 0)&&en(g,this.length-8);const I=(b<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(I)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+T)}),d.prototype.readFloatLE=function(g,b){return g=g>>>0,b||N(g,4,this.length),a.read(this,g,!0,23,4)},d.prototype.readFloatBE=function(g,b){return g=g>>>0,b||N(g,4,this.length),a.read(this,g,!1,23,4)},d.prototype.readDoubleLE=function(g,b){return g=g>>>0,b||N(g,8,this.length),a.read(this,g,!0,52,8)},d.prototype.readDoubleBE=function(g,b){return g=g>>>0,b||N(g,8,this.length),a.read(this,g,!1,52,8)};function D(S,g,b,T,I,V){if(!d.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>I||g<V)throw new RangeError('"value" argument is out of bounds');if(b+T>S.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(g,b,T,I){if(g=+g,b=b>>>0,T=T>>>0,!I){const bt=Math.pow(2,8*T)-1;D(this,g,b,T,bt,0)}let V=1,J=0;for(this[b]=g&255;++J<T&&(V*=256);)this[b+J]=g/V&255;return b+T},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(g,b,T,I){if(g=+g,b=b>>>0,T=T>>>0,!I){const bt=Math.pow(2,8*T)-1;D(this,g,b,T,bt,0)}let V=T-1,J=1;for(this[b+V]=g&255;--V>=0&&(J*=256);)this[b+V]=g/J&255;return b+T},d.prototype.writeUint8=d.prototype.writeUInt8=function(g,b,T){return g=+g,b=b>>>0,T||D(this,g,b,1,255,0),this[b]=g&255,b+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(g,b,T){return g=+g,b=b>>>0,T||D(this,g,b,2,65535,0),this[b]=g&255,this[b+1]=g>>>8,b+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(g,b,T){return g=+g,b=b>>>0,T||D(this,g,b,2,65535,0),this[b]=g>>>8,this[b+1]=g&255,b+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(g,b,T){return g=+g,b=b>>>0,T||D(this,g,b,4,4294967295,0),this[b+3]=g>>>24,this[b+2]=g>>>16,this[b+1]=g>>>8,this[b]=g&255,b+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(g,b,T){return g=+g,b=b>>>0,T||D(this,g,b,4,4294967295,0),this[b]=g>>>24,this[b+1]=g>>>16,this[b+2]=g>>>8,this[b+3]=g&255,b+4};function rt(S,g,b,T,I){si(g,T,I,S,b,7);let V=Number(g&BigInt(4294967295));S[b++]=V,V=V>>8,S[b++]=V,V=V>>8,S[b++]=V,V=V>>8,S[b++]=V;let J=Number(g>>BigInt(32)&BigInt(4294967295));return S[b++]=J,J=J>>8,S[b++]=J,J=J>>8,S[b++]=J,J=J>>8,S[b++]=J,b}function at(S,g,b,T,I){si(g,T,I,S,b,7);let V=Number(g&BigInt(4294967295));S[b+7]=V,V=V>>8,S[b+6]=V,V=V>>8,S[b+5]=V,V=V>>8,S[b+4]=V;let J=Number(g>>BigInt(32)&BigInt(4294967295));return S[b+3]=J,J=J>>8,S[b+2]=J,J=J>>8,S[b+1]=J,J=J>>8,S[b]=J,b+8}d.prototype.writeBigUInt64LE=Yn(function(g,b=0){return rt(this,g,b,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Yn(function(g,b=0){return at(this,g,b,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(g,b,T,I){if(g=+g,b=b>>>0,!I){const Gt=Math.pow(2,8*T-1);D(this,g,b,T,Gt-1,-Gt)}let V=0,J=1,bt=0;for(this[b]=g&255;++V<T&&(J*=256);)g<0&&bt===0&&this[b+V-1]!==0&&(bt=1),this[b+V]=(g/J>>0)-bt&255;return b+T},d.prototype.writeIntBE=function(g,b,T,I){if(g=+g,b=b>>>0,!I){const Gt=Math.pow(2,8*T-1);D(this,g,b,T,Gt-1,-Gt)}let V=T-1,J=1,bt=0;for(this[b+V]=g&255;--V>=0&&(J*=256);)g<0&&bt===0&&this[b+V+1]!==0&&(bt=1),this[b+V]=(g/J>>0)-bt&255;return b+T},d.prototype.writeInt8=function(g,b,T){return g=+g,b=b>>>0,T||D(this,g,b,1,127,-128),g<0&&(g=255+g+1),this[b]=g&255,b+1},d.prototype.writeInt16LE=function(g,b,T){return g=+g,b=b>>>0,T||D(this,g,b,2,32767,-32768),this[b]=g&255,this[b+1]=g>>>8,b+2},d.prototype.writeInt16BE=function(g,b,T){return g=+g,b=b>>>0,T||D(this,g,b,2,32767,-32768),this[b]=g>>>8,this[b+1]=g&255,b+2},d.prototype.writeInt32LE=function(g,b,T){return g=+g,b=b>>>0,T||D(this,g,b,4,2147483647,-2147483648),this[b]=g&255,this[b+1]=g>>>8,this[b+2]=g>>>16,this[b+3]=g>>>24,b+4},d.prototype.writeInt32BE=function(g,b,T){return g=+g,b=b>>>0,T||D(this,g,b,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[b]=g>>>24,this[b+1]=g>>>16,this[b+2]=g>>>8,this[b+3]=g&255,b+4},d.prototype.writeBigInt64LE=Yn(function(g,b=0){return rt(this,g,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Yn(function(g,b=0){return at(this,g,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ot(S,g,b,T,I,V){if(b+T>S.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function dt(S,g,b,T,I){return g=+g,b=b>>>0,I||ot(S,g,b,4),a.write(S,g,b,T,23,4),b+4}d.prototype.writeFloatLE=function(g,b,T){return dt(this,g,b,!0,T)},d.prototype.writeFloatBE=function(g,b,T){return dt(this,g,b,!1,T)};function Et(S,g,b,T,I){return g=+g,b=b>>>0,I||ot(S,g,b,8),a.write(S,g,b,T,52,8),b+8}d.prototype.writeDoubleLE=function(g,b,T){return Et(this,g,b,!0,T)},d.prototype.writeDoubleBE=function(g,b,T){return Et(this,g,b,!1,T)},d.prototype.copy=function(g,b,T,I){if(!d.isBuffer(g))throw new TypeError("argument should be a Buffer");if(T||(T=0),!I&&I!==0&&(I=this.length),b>=g.length&&(b=g.length),b||(b=0),I>0&&I<T&&(I=T),I===T||g.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),g.length-b<I-T&&(I=g.length-b+T);const V=I-T;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,T,I):Uint8Array.prototype.set.call(g,this.subarray(T,I),b),V},d.prototype.fill=function(g,b,T,I){if(typeof g=="string"){if(typeof b=="string"?(I=b,b=0,T=this.length):typeof T=="string"&&(I=T,T=this.length),I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!d.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(g.length===1){const J=g.charCodeAt(0);(I==="utf8"&&J<128||I==="latin1")&&(g=J)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(b<0||this.length<b||this.length<T)throw new RangeError("Out of range index");if(T<=b)return this;b=b>>>0,T=T===void 0?this.length:T>>>0,g||(g=0);let V;if(typeof g=="number")for(V=b;V<T;++V)this[V]=g;else{const J=d.isBuffer(g)?g:d.from(g,I),bt=J.length;if(bt===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(V=0;V<T-b;++V)this[V+b]=J[V%bt]}return this};const Lt={};function St(S,g,b){Lt[S]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(I){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:I,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}St("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),St("ERR_INVALID_ARG_TYPE",function(S,g){return`The "${S}" argument must be of type number. Received type ${typeof g}`},TypeError),St("ERR_OUT_OF_RANGE",function(S,g,b){let T=`The value of "${S}" is out of range.`,I=b;return Number.isInteger(b)&&Math.abs(b)>2**32?I=ee(String(b)):typeof b=="bigint"&&(I=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(I=ee(I)),I+="n"),T+=` It must be ${g}. Received ${I}`,T},RangeError);function ee(S){let g="",b=S.length;const T=S[0]==="-"?1:0;for(;b>=T+4;b-=3)g=`_${S.slice(b-3,b)}${g}`;return`${S.slice(0,b)}${g}`}function kn(S,g,b){dn(g,"offset"),(S[g]===void 0||S[g+b]===void 0)&&en(g,S.length-(b+1))}function si(S,g,b,T,I,V){if(S>b||S<g){const J=typeof g=="bigint"?"n":"";let bt;throw g===0||g===BigInt(0)?bt=`>= 0${J} and < 2${J} ** ${(V+1)*8}${J}`:bt=`>= -(2${J} ** ${(V+1)*8-1}${J}) and < 2 ** ${(V+1)*8-1}${J}`,new Lt.ERR_OUT_OF_RANGE("value",bt,S)}kn(T,I,V)}function dn(S,g){if(typeof S!="number")throw new Lt.ERR_INVALID_ARG_TYPE(g,"number",S)}function en(S,g,b){throw Math.floor(S)!==S?(dn(S,b),new Lt.ERR_OUT_OF_RANGE("offset","an integer",S)):g<0?new Lt.ERR_BUFFER_OUT_OF_BOUNDS:new Lt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${g}`,S)}const ol=/[^+/0-9A-Za-z-_]/g;function cl(S){if(S=S.split("=")[0],S=S.trim().replace(ol,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function fl(S,g){g=g||1/0;let b;const T=S.length;let I=null;const V=[];for(let J=0;J<T;++J){if(b=S.charCodeAt(J),b>55295&&b<57344){if(!I){if(b>56319){(g-=3)>-1&&V.push(239,191,189);continue}else if(J+1===T){(g-=3)>-1&&V.push(239,191,189);continue}I=b;continue}if(b<56320){(g-=3)>-1&&V.push(239,191,189),I=b;continue}b=(I-55296<<10|b-56320)+65536}else I&&(g-=3)>-1&&V.push(239,191,189);if(I=null,b<128){if((g-=1)<0)break;V.push(b)}else if(b<2048){if((g-=2)<0)break;V.push(b>>6|192,b&63|128)}else if(b<65536){if((g-=3)<0)break;V.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((g-=4)<0)break;V.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return V}function Is(S){const g=[];for(let b=0;b<S.length;++b)g.push(S.charCodeAt(b)&255);return g}function hl(S,g){let b,T,I;const V=[];for(let J=0;J<S.length&&!((g-=2)<0);++J)b=S.charCodeAt(J),T=b>>8,I=b%256,V.push(I),V.push(T);return V}function ia(S){return i.toByteArray(cl(S))}function ji(S,g,b,T){let I;for(I=0;I<T&&!(I+b>=g.length||I>=S.length);++I)g[I+b]=S[I];return I}function pn(S,g){return S instanceof g||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===g.name}function dl(S){return S!==S}const Ke=(function(){const S="0123456789abcdef",g=new Array(256);for(let b=0;b<16;++b){const T=b*16;for(let I=0;I<16;++I)g[T+I]=S[b]+S[I]}return g})();function Yn(S){return typeof BigInt>"u"?Ms:S}function Ms(){throw new Error("BigInt not supported")}})(Dh)),Dh}var we=Px();const ME="0123456789abcdefABCDEF";ME.split("").map(e=>e.codePointAt(0));Array(256).fill(!0).map((e,i)=>{const a=String.fromCodePoint(i),l=ME.indexOf(a);return l<0?void 0:l<16?l:l-6});new TextEncoder;new TextDecoder("ascii");function $x(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;++l)if(e[l]!==i[l])return e[l]<i[l]?-1:1;return e.length===i.length?0:e.length>i.length?1:-1}const kE=0,Td=1,DE=2,zE=3,ws=4,LE=5,jE=6,KE=7,Zx={[kE.toString()]:"Expected Private",[Td.toString()]:"Expected Point",[DE.toString()]:"Expected Tweak",[zE.toString()]:"Expected Hash",[ws.toString()]:"Expected Signature",[LE.toString()]:"Expected Extra Data (32 bytes)",[jE.toString()]:"Expected Parity (1 | 0)",[KE.toString()]:"Bad Recovery Id"};function hn(e){const i=Zx[e.toString()]||`Unknow error code: ${e}`;throw new TypeError(i)}const Cs=32,vs=33,Rs=65,_r=32,GE=32,XE=32,VE=32,Qo=64,YE=new Uint8Array(32),Co=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),Qx=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]);function ai(e){return e instanceof Uint8Array}function $r(e,i){for(let a=0;a<32;++a)if(e[a]!==i[a])return e[a]<i[a]?-1:1;return 0}function td(e){return $r(e,YE)===0}function qE(e){return ai(e)&&e.length===Cs&&$r(e,YE)>0&&$r(e,Co)<0}function Wx(e){return ai(e)&&(e.length===vs||e.length===Rs||e.length===_r)}function FE(e){return ai(e)&&e.length===_r}function Jx(e){return ai(e)&&(e.length===vs||e.length===Rs)}function t8(e){return ai(e)&&e.length===vs}function e8(e){return ai(e)&&e.length===GE&&$r(e,Co)<0}function n8(e){return ai(e)&&e.length===XE}function i8(e){return e===void 0||ai(e)&&e.length===VE}function r8(e){return ai(e)&&e.length===64&&$r(e.subarray(0,32),Co)<0&&$r(e.subarray(32,64),Co)<0}function a8(e){return ai(e)&&e.length===64&&$r(e.subarray(0,32),Qx)<0}function l8(e){e!==0&&e!==1&&hn(jE)}function xr(e){qE(e)||hn(kE)}function Zr(e){Wx(e)||hn(Td)}function Ro(e){FE(e)||hn(Td)}function rl(e){e8(e)||hn(DE)}function al(e){n8(e)||hn(zE)}function Nd(e){i8(e)||hn(LE)}function Ud(e){r8(e)||hn(ws)}function s8(e){e()||hn(ws)}function u8(e){td(e.subarray(0,32))&&hn(ws),td(e.subarray(32,64))&&hn(ws)}function o8(e){a8(e)||hn(KE)}const c8="/assets/secp256k1-Cao5Swmf.wasm",f8=async(e={},i)=>{let a;if(i.startsWith("data:")){const l=i.replace(/^data:.*?base64,/,"");let u;if(typeof Buffer=="function"&&typeof Buffer.from=="function")u=Buffer.from(l,"base64");else if(typeof atob=="function"){const c=atob(l);u=new Uint8Array(c.length);for(let h=0;h<c.length;h++)u[h]=c.charCodeAt(h)}else throw new Error("Cannot decode base64-encoded data URL");a=await WebAssembly.instantiate(u,e)}else{const l=await fetch(i),u=l.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&u.startsWith("application/wasm"))a=await WebAssembly.instantiateStreaming(l,e);else{const c=await l.arrayBuffer();a=await WebAssembly.instantiate(c,e)}}return a.instance.exports};function h8(){const e=new Uint8Array(4);if(typeof crypto>"u")throw new Error("The crypto object is unavailable. This may occur if your environment does not support the Web Cryptography API.");return crypto.getRandomValues(e),e}function d8(){const e=h8();return(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]}URL=globalThis.URL;const zt=await f8({"./rand.js":{generateInt32:d8},"./validate_error.js":{throwError:hn}},c8),p8=zt.memory,y8=zt.initializeContext,g8=zt.isPoint,m8=zt.PUBLIC_KEY_INPUT,E8=zt.pointAdd,b8=zt.PUBLIC_KEY_INPUT2,w8=zt.pointAddScalar,v8=zt.TWEAK_INPUT,A8=zt.xOnlyPointAddTweak,S8=zt.X_ONLY_PUBLIC_KEY_INPUT,_8=zt.xOnlyPointAddTweakCheck,x8=zt.X_ONLY_PUBLIC_KEY_INPUT2,T8=zt.pointCompress,N8=zt.pointFromScalar,U8=zt.PRIVATE_INPUT,O8=zt.xOnlyPointFromScalar,B8=zt.xOnlyPointFromPoint,C8=zt.pointMultiply,R8=zt.privateAdd,H8=zt.privateSub,I8=zt.privateNegate,M8=zt.sign,k8=zt.HASH_INPUT,D8=zt.EXTRA_DATA_INPUT,z8=zt.SIGNATURE_INPUT,L8=zt.signRecoverable,j8=zt.signSchnorr,K8=zt.verify,G8=zt.recover,X8=zt.verifySchnorr,V8=zt.rustsecp256k1_v0_8_1_default_error_callback_fn,Y8=zt.rustsecp256k1_v0_8_1_default_illegal_callback_fn,q8=zt.__data_end,F8=zt.__heap_base,Vt=Object.freeze(Object.defineProperty({__proto__:null,EXTRA_DATA_INPUT:D8,HASH_INPUT:k8,PRIVATE_INPUT:U8,PUBLIC_KEY_INPUT:m8,PUBLIC_KEY_INPUT2:b8,SIGNATURE_INPUT:z8,TWEAK_INPUT:v8,X_ONLY_PUBLIC_KEY_INPUT:S8,X_ONLY_PUBLIC_KEY_INPUT2:x8,__data_end:q8,__heap_base:F8,initializeContext:y8,isPoint:g8,memory:p8,pointAdd:E8,pointAddScalar:w8,pointCompress:T8,pointFromScalar:N8,pointMultiply:C8,privateAdd:R8,privateNegate:I8,privateSub:H8,recover:G8,rustsecp256k1_v0_8_1_default_error_callback_fn:V8,rustsecp256k1_v0_8_1_default_illegal_callback_fn:Y8,sign:M8,signRecoverable:L8,signSchnorr:j8,verify:K8,verifySchnorr:X8,xOnlyPointAddTweak:A8,xOnlyPointAddTweakCheck:_8,xOnlyPointFromPoint:B8,xOnlyPointFromScalar:O8},Symbol.toStringTag,{value:"Module"})),Li=new Uint8Array(Vt.memory.buffer),Km=Vt.PRIVATE_INPUT.value,Gm=Vt.PUBLIC_KEY_INPUT.value,Xm=Vt.PUBLIC_KEY_INPUT2.value,Vm=Vt.X_ONLY_PUBLIC_KEY_INPUT.value,Ym=Vt.X_ONLY_PUBLIC_KEY_INPUT2.value,qm=Vt.TWEAK_INPUT.value,Fm=Vt.HASH_INPUT.value,Pm=Vt.EXTRA_DATA_INPUT.value,$m=Vt.SIGNATURE_INPUT.value,Te=Li.subarray(Km,Km+Cs),fe=Li.subarray(Gm,Gm+Rs),Zm=Li.subarray(Xm,Xm+Rs),Bn=Li.subarray(Vm,Vm+_r),Qm=Li.subarray(Ym,Ym+_r),Rn=Li.subarray(qm,qm+GE),Hn=Li.subarray(Fm,Fm+XE),Qa=Li.subarray(Pm,Pm+VE),In=Li.subarray($m,$m+Qo);function ll(e,i){return e===void 0?i!==void 0?i.length:vs:e?vs:Rs}function Od(e){try{return fe.set(e),Vt.isPoint(e.length)===1}finally{fe.fill(0)}}function P8(){Vt.initializeContext()}function $8(e){return Jx(e)&&Od(e)}function Z8(e){return t8(e)&&Od(e)}function PE(e){return FE(e)&&Od(e)}function Q8(e){return qE(e)}function W8(e,i,a){Zr(e),Zr(i);const l=ll(a,e);try{return fe.set(e),Zm.set(i),Vt.pointAdd(e.length,i.length,l)===1?fe.slice(0,l):null}finally{fe.fill(0),Zm.fill(0)}}function J8(e,i,a){Zr(e),rl(i);const l=ll(a,e);try{return fe.set(e),Rn.set(i),Vt.pointAddScalar(e.length,l)===1?fe.slice(0,l):null}finally{fe.fill(0),Rn.fill(0)}}function tT(e,i){Zr(e);const a=ll(i,e);try{return fe.set(e),Vt.pointCompress(e.length,a),fe.slice(0,a)}finally{fe.fill(0)}}function Ho(e,i){xr(e);const a=ll(i);try{return Te.set(e),Vt.pointFromScalar(a)===1?fe.slice(0,a):null}finally{Te.fill(0),fe.fill(0)}}function eT(e){xr(e);try{return Te.set(e),Vt.xOnlyPointFromScalar(),Bn.slice(0,_r)}finally{Te.fill(0),Bn.fill(0)}}function nT(e){Zr(e);try{return fe.set(e),Vt.xOnlyPointFromPoint(e.length),Bn.slice(0,_r)}finally{fe.fill(0),Bn.fill(0)}}function iT(e,i,a){Zr(e),rl(i);const l=ll(a,e);try{return fe.set(e),Rn.set(i),Vt.pointMultiply(e.length,l)===1?fe.slice(0,l):null}finally{fe.fill(0),Rn.fill(0)}}function $E(e,i){xr(e),rl(i);try{return Te.set(e),Rn.set(i),Vt.privateAdd()===1?Te.slice(0,Cs):null}finally{Te.fill(0),Rn.fill(0)}}function rT(e,i){if(xr(e),rl(i),td(i))return new Uint8Array(e);try{return Te.set(e),Rn.set(i),Vt.privateSub()===1?Te.slice(0,Cs):null}finally{Te.fill(0),Rn.fill(0)}}function ZE(e){xr(e);try{return Te.set(e),Vt.privateNegate(),Te.slice(0,Cs)}finally{Te.fill(0)}}function aT(e,i){Ro(e),rl(i);try{Bn.set(e),Rn.set(i);const a=Vt.xOnlyPointAddTweak();return a!==-1?{parity:a,xOnlyPubkey:Bn.slice(0,_r)}:null}finally{Bn.fill(0),Rn.fill(0)}}function lT(e,i,a,l){Ro(e),Ro(a),rl(i);const u=l!==void 0;u&&l8(l);try{if(Bn.set(e),Qm.set(a),Rn.set(i),u)return Vt.xOnlyPointAddTweakCheck(l)===1;{Vt.xOnlyPointAddTweak();const c=Bn.slice(0,_r);return $x(c,a)===0}}finally{Bn.fill(0),Qm.fill(0),Rn.fill(0)}}function Bd(e,i,a){al(e),xr(i),Nd(a);try{return Hn.set(e),Te.set(i),a!==void 0&&Qa.set(a),Vt.sign(a===void 0?0:1),In.slice(0,Qo)}finally{Hn.fill(0),Te.fill(0),a!==void 0&&Qa.fill(0),In.fill(0)}}function sT(e,i,a){al(e),xr(i),Nd(a);try{Hn.set(e),Te.set(i),a!==void 0&&Qa.set(a);const l=Vt.signRecoverable(a===void 0?0:1);return{signature:In.slice(0,Qo),recoveryId:l}}finally{Hn.fill(0),Te.fill(0),a!==void 0&&Qa.fill(0),In.fill(0)}}function QE(e,i,a){al(e),xr(i),Nd(a);try{return Hn.set(e),Te.set(i),a!==void 0&&Qa.set(a),Vt.signSchnorr(a===void 0?0:1),In.slice(0,Qo)}finally{Hn.fill(0),Te.fill(0),a!==void 0&&Qa.fill(0),In.fill(0)}}function uT(e,i,a,l=!1){al(e),Zr(i),Ud(a);try{return Hn.set(e),fe.set(i),In.set(a),Vt.verify(i.length,l===!0?1:0)===1}finally{Hn.fill(0),fe.fill(0),In.fill(0)}}function oT(e,i,a,l=!1){al(e),Ud(i),u8(i),a&2&&o8(i),s8(()=>PE(i.subarray(0,32)));const u=ll(l);try{return Hn.set(e),In.set(i),Vt.recover(u,a)===1?fe.slice(0,u):null}finally{Hn.fill(0),In.fill(0),fe.fill(0)}}function cT(e,i,a){al(e),Ro(i),Ud(a);try{return Hn.set(e),Bn.set(i),In.set(a),Vt.verifySchnorr()===1}finally{Hn.fill(0),Bn.fill(0),In.fill(0)}}const WE=Object.freeze(Object.defineProperty({__proto__:null,__initializeContext:P8,isPoint:$8,isPointCompressed:Z8,isPrivate:Q8,isXOnlyPoint:PE,pointAdd:W8,pointAddScalar:J8,pointCompress:tT,pointFromScalar:Ho,pointMultiply:iT,privateAdd:$E,privateNegate:ZE,privateSub:rT,recover:oT,sign:Bd,signRecoverable:sT,signSchnorr:QE,verify:uT,verifySchnorr:cT,xOnlyPointAddTweak:aT,xOnlyPointAddTweakCheck:lT,xOnlyPointFromPoint:nT,xOnlyPointFromScalar:eT},Symbol.toStringTag,{value:"Module"}));function JE(e){localStorage.setItem(Hi.WALLET,JSON.stringify(e))}function Wm(){const e=localStorage.getItem(Hi.WALLET);return e?JSON.parse(e):null}function fT(){localStorage.removeItem(Hi.WALLET),localStorage.removeItem(Hi.ACCOUNTS),localStorage.removeItem(Hi.TRANSACTIONS)}function sl(e){localStorage.setItem(Hi.ACCOUNTS,JSON.stringify(e))}function li(){const e=localStorage.getItem(Hi.ACCOUNTS);return e?JSON.parse(e):[]}function hT(e){localStorage.setItem(Hi.NETWORK,e)}function Wo(){const e=localStorage.getItem(Hi.NETWORK);return e==="testnet"||e==="signet"?e:NA}function ul(){const e=Wo();return Ss[e].mempoolApi}async function dT(){try{const e=await fetch(`${ul()}/blocks/tip/height`);if(!e.ok)throw new Error("Failed to fetch tip height");const i=await e.text(),a=Number.parseInt(i,10);return Number.isFinite(a)?a:null}catch(e){return console.error("Error fetching tip height:",e),null}}async function pT(e){try{const i=await fetch(`${ul()}/address/${e}/txs`);if(!i.ok)throw new Error("Failed to fetch address txs");const a=await i.json();let l=null;for(const u of a){const c=u.status.block_height;!u.status.confirmed||!c||!u.vout.some(d=>d.scriptpubkey_address===e&&d.value>0)||(l===null||c<l)&&(l=c)}return l}catch(i){return console.error("Error fetching first funding block:",i),null}}async function yT(e){return(await Cd(e)).balance}async function Cd(e){try{const i=await fetch(`${ul()}/address/${e}`);if(!i.ok)throw new Error("Failed to fetch balance");const a=await i.json(),l=a.chain_stats?.funded_txo_sum||0,u=a.chain_stats?.spent_txo_sum||0,c=a.mempool_stats?.funded_txo_sum||0,h=a.mempool_stats?.spent_txo_sum||0,d=l+c,p=u+h;return{funded:d,spent:p,balance:d-p}}catch(i){return console.error("Error fetching balance:",i),{funded:0,spent:0,balance:0}}}async function Hs(e){try{const i=await fetch(`${ul()}/address/${e}/utxo`);if(!i.ok)throw new Error("Failed to fetch UTXOs");return await i.json()}catch(i){return console.error("Error fetching UTXOs:",i),[]}}async function gT(e,i){try{const a=await fetch(`${ul()}/address/${e}/txs`);if(!a.ok)throw new Error("Failed to fetch transactions");const l=await a.json(),u=i??new Set([e]);return l.map(c=>{const h=c.vin.reduce((y,m)=>{const E=m.prevout?.scriptpubkey_address;return!E||!u.has(E)?y:y+(m.prevout?.value||0)},0),p=c.vout.reduce((y,m)=>{const E=m.scriptpubkey_address;return!E||!u.has(E)?y:y+m.value},0)-h;return p===0?null:{txid:c.txid,amount:Math.abs(p),fee:c.fee||0,timestamp:c.status.block_time||Date.now()/1e3,type:p>0?"incoming":"outgoing",address:e,confirmed:c.status.confirmed,confirmations:c.status.confirmed&&c.status.block_height||0}}).filter(c=>c!==null)}catch(a){return console.error("Error fetching transactions:",a),[]}}async function tb(e){try{const i=await fetch(`${ul()}/tx`,{method:"POST",headers:{"Content-Type":"text/plain"},body:e});if(!i.ok){const a=await i.text();throw new Error(`Failed to broadcast: ${a}`)}return await i.text()}catch(i){throw console.error("Error broadcasting transaction:",i),i}}function Rd(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ni(e,i=""){if(!Number.isSafeInteger(e)||e<0){const a=i&&`"${i}" `;throw new Error(`${a}expected integer >= 0, got ${e}`)}}function te(e,i,a=""){const l=Rd(e),u=e?.length,c=i!==void 0;if(!l||c&&u!==i){const h=a&&`"${a}" `,d=c?` of length ${i}`:"",p=l?`length=${u}`:`type=${typeof e}`;throw new Error(h+"expected Uint8Array"+d+", got "+p)}return e}function Hd(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash must wrapped by utils.createHasher");ni(e.outputLen),ni(e.blockLen)}function Io(e,i=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(i&&e.finished)throw new Error("Hash#digest() has already been called")}function mT(e,i){te(e,void 0,"digestInto() output");const a=i.outputLen;if(e.length<a)throw new Error('"digestInto() output" expected to be of length >='+a)}function ki(...e){for(let i=0;i<e.length;i++)e[i].fill(0)}function Pr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Wn(e,i){return e<<32-i|e>>>i}function ao(e,i){return e<<i|e>>>32-i>>>0}const eb=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ET=Array.from({length:256},(e,i)=>i.toString(16).padStart(2,"0"));function Jo(e){if(te(e),eb)return e.toHex();let i="";for(let a=0;a<e.length;a++)i+=ET[e[a]];return i}const Ni={_0:48,_9:57,A:65,F:70,a:97,f:102};function Jm(e){if(e>=Ni._0&&e<=Ni._9)return e-Ni._0;if(e>=Ni.A&&e<=Ni.F)return e-(Ni.A-10);if(e>=Ni.a&&e<=Ni.f)return e-(Ni.a-10)}function Mo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(eb)return Uint8Array.fromHex(e);const i=e.length,a=i/2;if(i%2)throw new Error("hex string expected, got unpadded hex of length "+i);const l=new Uint8Array(a);for(let u=0,c=0;u<a;u++,c+=2){const h=Jm(e.charCodeAt(c)),d=Jm(e.charCodeAt(c+1));if(h===void 0||d===void 0){const p=e[c]+e[c+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+c)}l[u]=h*16+d}return l}function bT(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function t1(e,i=""){return typeof e=="string"?bT(e):te(e,void 0,i)}function Nn(...e){let i=0;for(let l=0;l<e.length;l++){const u=e[l];te(u),i+=u.length}const a=new Uint8Array(i);for(let l=0,u=0;l<e.length;l++){const c=e[l];a.set(c,u),u+=c.length}return a}function wT(e,i){if(i!==void 0&&{}.toString.call(i)!=="[object Object]")throw new Error("options must be object or undefined");return Object.assign(e,i)}function Id(e,i={}){const a=(u,c)=>e(c).update(u).digest(),l=e(void 0);return a.outputLen=l.outputLen,a.blockLen=l.blockLen,a.create=u=>e(u),Object.assign(a,i),Object.freeze(a)}function nb(e=32){const i=typeof globalThis=="object"?globalThis.crypto:null;if(typeof i?.getRandomValues!="function")throw new Error("crypto.getRandomValues must be defined");return i.getRandomValues(new Uint8Array(e))}const ib=e=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,e])});function vT(e,i,a){return e&i^~e&a}function AT(e,i,a){return e&i^e&a^i&a}class Md{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(i,a,l,u){this.blockLen=i,this.outputLen=a,this.padOffset=l,this.isLE=u,this.buffer=new Uint8Array(i),this.view=Pr(this.buffer)}update(i){Io(this),te(i);const{view:a,buffer:l,blockLen:u}=this,c=i.length;for(let h=0;h<c;){const d=Math.min(u-this.pos,c-h);if(d===u){const p=Pr(i);for(;u<=c-h;h+=u)this.process(p,h);continue}l.set(i.subarray(h,h+d),this.pos),this.pos+=d,h+=d,this.pos===u&&(this.process(a,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){Io(this),mT(i,this),this.finished=!0;const{buffer:a,view:l,blockLen:u,isLE:c}=this;let{pos:h}=this;a[h++]=128,ki(this.buffer.subarray(h)),this.padOffset>u-h&&(this.process(l,0),h=0);for(let E=h;E<u;E++)a[E]=0;l.setBigUint64(u-8,BigInt(this.length*8),c),this.process(l,0);const d=Pr(i),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const y=p/4,m=this.get();if(y>m.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<y;E++)d.setUint32(4*E,m[E],c)}digest(){const{buffer:i,outputLen:a}=this;this.digestInto(i);const l=i.slice(0,a);return this.destroy(),l}_cloneInto(i){i||=new this.constructor,i.set(...this.get());const{blockLen:a,buffer:l,length:u,finished:c,destroyed:h,pos:d}=this;return i.destroyed=h,i.finished=c,i.length=u,i.pos=d,u%a&&i.buffer.set(l),i}clone(){return this._cloneInto()}}const gr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),De=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),lo=BigInt(2**32-1),e1=BigInt(32);function ST(e,i=!1){return i?{h:Number(e&lo),l:Number(e>>e1&lo)}:{h:Number(e>>e1&lo)|0,l:Number(e&lo)|0}}function _T(e,i=!1){const a=e.length;let l=new Uint32Array(a),u=new Uint32Array(a);for(let c=0;c<a;c++){const{h,l:d}=ST(e[c],i);[l[c],u[c]]=[h,d]}return[l,u]}const n1=(e,i,a)=>e>>>a,i1=(e,i,a)=>e<<32-a|i>>>a,Xa=(e,i,a)=>e>>>a|i<<32-a,Va=(e,i,a)=>e<<32-a|i>>>a,so=(e,i,a)=>e<<64-a|i>>>a-32,uo=(e,i,a)=>e>>>a-32|i<<64-a;function Ui(e,i,a,l){const u=(i>>>0)+(l>>>0);return{h:e+a+(u/2**32|0)|0,l:u|0}}const xT=(e,i,a)=>(e>>>0)+(i>>>0)+(a>>>0),TT=(e,i,a,l)=>i+a+l+(e/2**32|0)|0,NT=(e,i,a,l)=>(e>>>0)+(i>>>0)+(a>>>0)+(l>>>0),UT=(e,i,a,l,u)=>i+a+l+u+(e/2**32|0)|0,OT=(e,i,a,l,u)=>(e>>>0)+(i>>>0)+(a>>>0)+(l>>>0)+(u>>>0),BT=(e,i,a,l,u,c)=>i+a+l+u+c+(e/2**32|0)|0,CT=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mr=new Uint32Array(64);class RT extends Md{constructor(i){super(64,i,8,!1)}get(){const{A:i,B:a,C:l,D:u,E:c,F:h,G:d,H:p}=this;return[i,a,l,u,c,h,d,p]}set(i,a,l,u,c,h,d,p){this.A=i|0,this.B=a|0,this.C=l|0,this.D=u|0,this.E=c|0,this.F=h|0,this.G=d|0,this.H=p|0}process(i,a){for(let E=0;E<16;E++,a+=4)mr[E]=i.getUint32(a,!1);for(let E=16;E<64;E++){const v=mr[E-15],_=mr[E-2],x=Wn(v,7)^Wn(v,18)^v>>>3,U=Wn(_,17)^Wn(_,19)^_>>>10;mr[E]=U+mr[E-7]+x+mr[E-16]|0}let{A:l,B:u,C:c,D:h,E:d,F:p,G:y,H:m}=this;for(let E=0;E<64;E++){const v=Wn(d,6)^Wn(d,11)^Wn(d,25),_=m+v+vT(d,p,y)+CT[E]+mr[E]|0,U=(Wn(l,2)^Wn(l,13)^Wn(l,22))+AT(l,u,c)|0;m=y,y=p,p=d,d=h+_|0,h=c,c=u,u=l,l=_+U|0}l=l+this.A|0,u=u+this.B|0,c=c+this.C|0,h=h+this.D|0,d=d+this.E|0,p=p+this.F|0,y=y+this.G|0,m=m+this.H|0,this.set(l,u,c,h,d,p,y,m)}roundClean(){ki(mr)}destroy(){this.set(0,0,0,0,0,0,0,0),ki(this.buffer)}}class HT extends RT{A=gr[0]|0;B=gr[1]|0;C=gr[2]|0;D=gr[3]|0;E=gr[4]|0;F=gr[5]|0;G=gr[6]|0;H=gr[7]|0;constructor(){super(32)}}const rb=_T(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),IT=rb[0],MT=rb[1],Er=new Uint32Array(80),br=new Uint32Array(80);class kT extends Md{constructor(i){super(128,i,16,!1)}get(){const{Ah:i,Al:a,Bh:l,Bl:u,Ch:c,Cl:h,Dh:d,Dl:p,Eh:y,El:m,Fh:E,Fl:v,Gh:_,Gl:x,Hh:U,Hl:C}=this;return[i,a,l,u,c,h,d,p,y,m,E,v,_,x,U,C]}set(i,a,l,u,c,h,d,p,y,m,E,v,_,x,U,C){this.Ah=i|0,this.Al=a|0,this.Bh=l|0,this.Bl=u|0,this.Ch=c|0,this.Cl=h|0,this.Dh=d|0,this.Dl=p|0,this.Eh=y|0,this.El=m|0,this.Fh=E|0,this.Fl=v|0,this.Gh=_|0,this.Gl=x|0,this.Hh=U|0,this.Hl=C|0}process(i,a){for(let M=0;M<16;M++,a+=4)Er[M]=i.getUint32(a),br[M]=i.getUint32(a+=4);for(let M=16;M<80;M++){const L=Er[M-15]|0,F=br[M-15]|0,nt=Xa(L,F,1)^Xa(L,F,8)^n1(L,F,7),W=Va(L,F,1)^Va(L,F,8)^i1(L,F,7),ct=Er[M-2]|0,ut=br[M-2]|0,Tt=Xa(ct,ut,19)^so(ct,ut,61)^n1(ct,ut,6),Bt=Va(ct,ut,19)^uo(ct,ut,61)^i1(ct,ut,6),gt=NT(W,Bt,br[M-7],br[M-16]),$=UT(gt,nt,Tt,Er[M-7],Er[M-16]);Er[M]=$|0,br[M]=gt|0}let{Ah:l,Al:u,Bh:c,Bl:h,Ch:d,Cl:p,Dh:y,Dl:m,Eh:E,El:v,Fh:_,Fl:x,Gh:U,Gl:C,Hh:z,Hl:X}=this;for(let M=0;M<80;M++){const L=Xa(E,v,14)^Xa(E,v,18)^so(E,v,41),F=Va(E,v,14)^Va(E,v,18)^uo(E,v,41),nt=E&_^~E&U,W=v&x^~v&C,ct=OT(X,F,W,MT[M],br[M]),ut=BT(ct,z,L,nt,IT[M],Er[M]),Tt=ct|0,Bt=Xa(l,u,28)^so(l,u,34)^so(l,u,39),gt=Va(l,u,28)^uo(l,u,34)^uo(l,u,39),$=l&c^l&d^c&d,Q=u&h^u&p^h&p;z=U|0,X=C|0,U=_|0,C=x|0,_=E|0,x=v|0,{h:E,l:v}=Ui(y|0,m|0,ut|0,Tt|0),y=d|0,m=p|0,d=c|0,p=h|0,c=l|0,h=u|0;const Z=xT(Tt,gt,Q);l=TT(Z,ut,Bt,$),u=Z|0}({h:l,l:u}=Ui(this.Ah|0,this.Al|0,l|0,u|0)),{h:c,l:h}=Ui(this.Bh|0,this.Bl|0,c|0,h|0),{h:d,l:p}=Ui(this.Ch|0,this.Cl|0,d|0,p|0),{h:y,l:m}=Ui(this.Dh|0,this.Dl|0,y|0,m|0),{h:E,l:v}=Ui(this.Eh|0,this.El|0,E|0,v|0),{h:_,l:x}=Ui(this.Fh|0,this.Fl|0,_|0,x|0),{h:U,l:C}=Ui(this.Gh|0,this.Gl|0,U|0,C|0),{h:z,l:X}=Ui(this.Hh|0,this.Hl|0,z|0,X|0),this.set(l,u,c,h,d,p,y,m,E,v,_,x,U,C,z,X)}roundClean(){ki(Er,br)}destroy(){ki(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class DT extends kT{Ah=De[0]|0;Al=De[1]|0;Bh=De[2]|0;Bl=De[3]|0;Ch=De[4]|0;Cl=De[5]|0;Dh=De[6]|0;Dl=De[7]|0;Eh=De[8]|0;El=De[9]|0;Fh=De[10]|0;Fl=De[11]|0;Gh=De[12]|0;Gl=De[13]|0;Hh=De[14]|0;Hl=De[15]|0;constructor(){super(64)}}const tc=Id(()=>new HT,ib(1)),r1=Id(()=>new DT,ib(3));const kd=BigInt(0),ed=BigInt(1);function ko(e,i=""){if(typeof e!="boolean"){const a=i&&`"${i}" `;throw new Error(a+"expected boolean, got type="+typeof e)}return e}function ab(e){if(typeof e=="bigint"){if(!Eo(e))throw new Error("positive bigint expected, got "+e)}else ni(e);return e}function oo(e){const i=ab(e).toString(16);return i.length&1?"0"+i:i}function lb(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?kd:BigInt("0x"+e)}function ec(e){return lb(Jo(e))}function sb(e){return lb(Jo(zT(te(e)).reverse()))}function Dd(e,i){ni(i),e=ab(e);const a=Mo(e.toString(16).padStart(i*2,"0"));if(a.length!==i)throw new Error("number too large");return a}function ub(e,i){return Dd(e,i).reverse()}function zT(e){return Uint8Array.from(e)}const Eo=e=>typeof e=="bigint"&&kd<=e;function LT(e,i,a){return Eo(e)&&Eo(i)&&Eo(a)&&i<=e&&e<a}function jT(e,i,a,l){if(!LT(i,a,l))throw new Error("expected valid "+e+": "+a+" <= n < "+l+", got "+i)}function KT(e){let i;for(i=0;e>kd;e>>=ed,i+=1);return i}const zd=e=>(ed<<BigInt(e))-ed;function GT(e,i,a){if(ni(e,"hashLen"),ni(i,"qByteLen"),typeof a!="function")throw new Error("hmacFn must be a function");const l=C=>new Uint8Array(C),u=Uint8Array.of(),c=Uint8Array.of(0),h=Uint8Array.of(1),d=1e3;let p=l(e),y=l(e),m=0;const E=()=>{p.fill(1),y.fill(0),m=0},v=(...C)=>a(y,Nn(p,...C)),_=(C=u)=>{y=v(c,C),p=v(),C.length!==0&&(y=v(h,C),p=v())},x=()=>{if(m++>=d)throw new Error("drbg: tried max amount of iterations");let C=0;const z=[];for(;C<i;){p=v();const X=p.slice();z.push(X),C+=p.length}return Nn(...z)};return(C,z)=>{E(),_(C);let X;for(;!(X=z(x()));)_();return E(),X}}function Ld(e,i={},a={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function l(c,h,d){const p=e[c];if(d&&p===void 0)return;const y=typeof p;if(y!==h||p===null)throw new Error(`param "${c}" is invalid: expected ${h}, got ${y}`)}const u=(c,h)=>Object.entries(c).forEach(([d,p])=>l(d,p,h));u(i,!1),u(a,!0)}function a1(e){const i=new WeakMap;return(a,...l)=>{const u=i.get(a);if(u!==void 0)return u;const c=e(a,...l);return i.set(a,c),c}}const We=BigInt(0),Xe=BigInt(1),qr=BigInt(2),ob=BigInt(3),cb=BigInt(4),fb=BigInt(5),XT=BigInt(7),hb=BigInt(8),VT=BigInt(9),db=BigInt(16);function jn(e,i){const a=e%i;return a>=We?a:i+a}function Tn(e,i,a){let l=e;for(;i-- >We;)l*=l,l%=a;return l}function l1(e,i){if(e===We)throw new Error("invert: expected non-zero number");if(i<=We)throw new Error("invert: expected positive modulus, got "+i);let a=jn(e,i),l=i,u=We,c=Xe;for(;a!==We;){const d=l/a,p=l%a,y=u-c*d;l=a,a=p,u=c,c=y}if(l!==Xe)throw new Error("invert: does not exist");return jn(u,i)}function jd(e,i,a){if(!e.eql(e.sqr(i),a))throw new Error("Cannot find square root")}function pb(e,i){const a=(e.ORDER+Xe)/cb,l=e.pow(i,a);return jd(e,l,i),l}function YT(e,i){const a=(e.ORDER-fb)/hb,l=e.mul(i,qr),u=e.pow(l,a),c=e.mul(i,u),h=e.mul(e.mul(c,qr),u),d=e.mul(c,e.sub(h,e.ONE));return jd(e,d,i),d}function qT(e){const i=nc(e),a=yb(e),l=a(i,i.neg(i.ONE)),u=a(i,l),c=a(i,i.neg(l)),h=(e+XT)/db;return(d,p)=>{let y=d.pow(p,h),m=d.mul(y,l);const E=d.mul(y,u),v=d.mul(y,c),_=d.eql(d.sqr(m),p),x=d.eql(d.sqr(E),p);y=d.cmov(y,m,_),m=d.cmov(v,E,x);const U=d.eql(d.sqr(m),p),C=d.cmov(y,m,U);return jd(d,C,p),C}}function yb(e){if(e<ob)throw new Error("sqrt is not defined for small field");let i=e-Xe,a=0;for(;i%qr===We;)i/=qr,a++;let l=qr;const u=nc(e);for(;s1(u,l)===1;)if(l++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(a===1)return pb;let c=u.pow(l,i);const h=(i+Xe)/qr;return function(p,y){if(p.is0(y))return y;if(s1(p,y)!==1)throw new Error("Cannot find square root");let m=a,E=p.mul(p.ONE,c),v=p.pow(y,i),_=p.pow(y,h);for(;!p.eql(v,p.ONE);){if(p.is0(v))return p.ZERO;let x=1,U=p.sqr(v);for(;!p.eql(U,p.ONE);)if(x++,U=p.sqr(U),x===m)throw new Error("Cannot find square root");const C=Xe<<BigInt(m-x-1),z=p.pow(E,C);m=x,E=p.sqr(z),v=p.mul(v,E),_=p.mul(_,z)}return _}}function FT(e){return e%cb===ob?pb:e%hb===fb?YT:e%db===VT?qT(e):yb(e)}const PT=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $T(e){const i={ORDER:"bigint",BYTES:"number",BITS:"number"},a=PT.reduce((l,u)=>(l[u]="function",l),i);return Ld(e,a),e}function ZT(e,i,a){if(a<We)throw new Error("invalid exponent, negatives unsupported");if(a===We)return e.ONE;if(a===Xe)return i;let l=e.ONE,u=i;for(;a>We;)a&Xe&&(l=e.mul(l,u)),u=e.sqr(u),a>>=Xe;return l}function gb(e,i,a=!1){const l=new Array(i.length).fill(a?e.ZERO:void 0),u=i.reduce((h,d,p)=>e.is0(d)?h:(l[p]=h,e.mul(h,d)),e.ONE),c=e.inv(u);return i.reduceRight((h,d,p)=>e.is0(d)?h:(l[p]=e.mul(h,l[p]),e.mul(h,d)),c),l}function s1(e,i){const a=(e.ORDER-Xe)/qr,l=e.pow(i,a),u=e.eql(l,e.ONE),c=e.eql(l,e.ZERO),h=e.eql(l,e.neg(e.ONE));if(!u&&!c&&!h)throw new Error("invalid Legendre symbol result");return u?1:c?0:-1}function QT(e,i){i!==void 0&&ni(i);const a=i!==void 0?i:e.toString(2).length,l=Math.ceil(a/8);return{nBitLength:a,nByteLength:l}}class WT{ORDER;BITS;BYTES;isLE;ZERO=We;ONE=Xe;_lengths;_sqrt;_mod;constructor(i,a={}){if(i<=We)throw new Error("invalid field: expected ORDER > 0, got "+i);let l;this.isLE=!1,a!=null&&typeof a=="object"&&(typeof a.BITS=="number"&&(l=a.BITS),typeof a.sqrt=="function"&&(this.sqrt=a.sqrt),typeof a.isLE=="boolean"&&(this.isLE=a.isLE),a.allowedLengths&&(this._lengths=a.allowedLengths?.slice()),typeof a.modFromBytes=="boolean"&&(this._mod=a.modFromBytes));const{nBitLength:u,nByteLength:c}=QT(i,l);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");this.ORDER=i,this.BITS=u,this.BYTES=c,this._sqrt=void 0,Object.preventExtensions(this)}create(i){return jn(i,this.ORDER)}isValid(i){if(typeof i!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof i);return We<=i&&i<this.ORDER}is0(i){return i===We}isValidNot0(i){return!this.is0(i)&&this.isValid(i)}isOdd(i){return(i&Xe)===Xe}neg(i){return jn(-i,this.ORDER)}eql(i,a){return i===a}sqr(i){return jn(i*i,this.ORDER)}add(i,a){return jn(i+a,this.ORDER)}sub(i,a){return jn(i-a,this.ORDER)}mul(i,a){return jn(i*a,this.ORDER)}pow(i,a){return ZT(this,i,a)}div(i,a){return jn(i*l1(a,this.ORDER),this.ORDER)}sqrN(i){return i*i}addN(i,a){return i+a}subN(i,a){return i-a}mulN(i,a){return i*a}inv(i){return l1(i,this.ORDER)}sqrt(i){return this._sqrt||(this._sqrt=FT(this.ORDER)),this._sqrt(this,i)}toBytes(i){return this.isLE?ub(i,this.BYTES):Dd(i,this.BYTES)}fromBytes(i,a=!1){te(i);const{_lengths:l,BYTES:u,isLE:c,ORDER:h,_mod:d}=this;if(l){if(!l.includes(i.length)||i.length>u)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+i.length);const y=new Uint8Array(u);y.set(i,c?0:y.length-i.length),i=y}if(i.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+i.length);let p=c?sb(i):ec(i);if(d&&(p=jn(p,h)),!a&&!this.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p}invertBatch(i){return gb(this,i)}cmov(i,a,l){return l?a:i}}function nc(e,i={}){return new WT(e,i)}function mb(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const i=e.toString(2).length;return Math.ceil(i/8)}function Eb(e){const i=mb(e);return i+Math.ceil(i/2)}function JT(e,i,a=!1){te(e);const l=e.length,u=mb(i),c=Eb(i);if(l<16||l<c||l>1024)throw new Error("expected "+c+"-1024 bytes of input, got "+l);const h=a?sb(e):ec(e),d=jn(h,i-Xe)+Xe;return a?ub(d,u):Dd(d,u)}const Wa=BigInt(0),Fr=BigInt(1);function Do(e,i){const a=i.negate();return e?a:i}function u1(e,i){const a=gb(e.Fp,i.map(l=>l.Z));return i.map((l,u)=>e.fromAffine(l.toAffine(a[u])))}function bb(e,i){if(!Number.isSafeInteger(e)||e<=0||e>i)throw new Error("invalid window size, expected [1.."+i+"], got W="+e)}function zh(e,i){bb(e,i);const a=Math.ceil(i/e)+1,l=2**(e-1),u=2**e,c=zd(e),h=BigInt(e);return{windows:a,windowSize:l,mask:c,maxNumber:u,shiftBy:h}}function o1(e,i,a){const{windowSize:l,mask:u,maxNumber:c,shiftBy:h}=a;let d=Number(e&u),p=e>>h;d>l&&(d-=c,p+=Fr);const y=i*l,m=y+Math.abs(d)-1,E=d===0,v=d<0,_=i%2!==0;return{nextN:p,offset:m,isZero:E,isNeg:v,isNegF:_,offsetF:y}}const Lh=new WeakMap,wb=new WeakMap;function jh(e){return wb.get(e)||1}function c1(e){if(e!==Wa)throw new Error("invalid wNAF")}class t4{BASE;ZERO;Fn;bits;constructor(i,a){this.BASE=i.BASE,this.ZERO=i.ZERO,this.Fn=i.Fn,this.bits=a}_unsafeLadder(i,a,l=this.ZERO){let u=i;for(;a>Wa;)a&Fr&&(l=l.add(u)),u=u.double(),a>>=Fr;return l}precomputeWindow(i,a){const{windows:l,windowSize:u}=zh(a,this.bits),c=[];let h=i,d=h;for(let p=0;p<l;p++){d=h,c.push(d);for(let y=1;y<u;y++)d=d.add(h),c.push(d);h=d.double()}return c}wNAF(i,a,l){if(!this.Fn.isValid(l))throw new Error("invalid scalar");let u=this.ZERO,c=this.BASE;const h=zh(i,this.bits);for(let d=0;d<h.windows;d++){const{nextN:p,offset:y,isZero:m,isNeg:E,isNegF:v,offsetF:_}=o1(l,d,h);l=p,m?c=c.add(Do(v,a[_])):u=u.add(Do(E,a[y]))}return c1(l),{p:u,f:c}}wNAFUnsafe(i,a,l,u=this.ZERO){const c=zh(i,this.bits);for(let h=0;h<c.windows&&l!==Wa;h++){const{nextN:d,offset:p,isZero:y,isNeg:m}=o1(l,h,c);if(l=d,!y){const E=a[p];u=u.add(m?E.negate():E)}}return c1(l),u}getPrecomputes(i,a,l){let u=Lh.get(a);return u||(u=this.precomputeWindow(a,i),i!==1&&(typeof l=="function"&&(u=l(u)),Lh.set(a,u))),u}cached(i,a,l){const u=jh(i);return this.wNAF(u,this.getPrecomputes(u,i,l),a)}unsafe(i,a,l,u){const c=jh(i);return c===1?this._unsafeLadder(i,a,u):this.wNAFUnsafe(c,this.getPrecomputes(c,i,l),a,u)}createCache(i,a){bb(a,this.bits),wb.set(i,a),Lh.delete(i)}hasCache(i){return jh(i)!==1}}function e4(e,i,a,l){let u=i,c=e.ZERO,h=e.ZERO;for(;a>Wa||l>Wa;)a&Fr&&(c=c.add(u)),l&Fr&&(h=h.add(u)),u=u.double(),a>>=Fr,l>>=Fr;return{p1:c,p2:h}}function f1(e,i,a){if(i){if(i.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return $T(i),i}else return nc(e,{isLE:a})}function n4(e,i,a={},l){if(l===void 0&&(l=e==="edwards"),!i||typeof i!="object")throw new Error(`expected valid ${e} CURVE object`);for(const p of["p","n","h"]){const y=i[p];if(!(typeof y=="bigint"&&y>Wa))throw new Error(`CURVE.${p} must be positive bigint`)}const u=f1(i.p,a.Fp,l),c=f1(i.n,a.Fn,l),d=["Gx","Gy","a","b"];for(const p of d)if(!u.isValid(i[p]))throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);return i=Object.freeze(Object.assign({},i)),{CURVE:i,Fp:u,Fn:c}}function i4(e,i){return function(l){const u=e(l);return{secretKey:u,publicKey:i(u)}}}class vb{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(i,a){if(Hd(i),te(a,void 0,"key"),this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,u=new Uint8Array(l);u.set(a.length>l?i.create().update(a).digest():a);for(let c=0;c<u.length;c++)u[c]^=54;this.iHash.update(u),this.oHash=i.create();for(let c=0;c<u.length;c++)u[c]^=106;this.oHash.update(u),ki(u)}update(i){return Io(this),this.iHash.update(i),this}digestInto(i){Io(this),te(i,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||=Object.create(Object.getPrototypeOf(this),{});const{oHash:a,iHash:l,finished:u,destroyed:c,blockLen:h,outputLen:d}=this;return i=i,i.finished=u,i.destroyed=c,i.blockLen=h,i.outputLen=d,i.oHash=a._cloneInto(i.oHash),i.iHash=l._cloneInto(i.iHash),i}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const As=(e,i,a)=>new vb(e,i).update(a).digest();As.create=(e,i)=>new vb(e,i);const h1=(e,i)=>(e+(e>=0?i:-i)/Ab)/i;function r4(e,i,a){const[[l,u],[c,h]]=i,d=h1(h*e,a),p=h1(-u*e,a);let y=e-d*l-p*c,m=-d*u-p*h;const E=y<Ri,v=m<Ri;E&&(y=-y),v&&(m=-m);const _=zd(Math.ceil(KT(a)/2))+$a;if(y<Ri||y>=_||m<Ri||m>=_)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:E,k1:y,k2neg:v,k2:m}}function nd(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Kh(e,i){const a={};for(let l of Object.keys(i))a[l]=e[l]===void 0?i[l]:e[l];return ko(a.lowS,"lowS"),ko(a.prehash,"prehash"),a.format!==void 0&&nd(a.format),a}class a4 extends Error{constructor(i=""){super(i)}}const vr={Err:a4,_tlv:{encode:(e,i)=>{const{Err:a}=vr;if(e<0||e>256)throw new a("tlv.encode: wrong tag");if(i.length&1)throw new a("tlv.encode: unpadded data");const l=i.length/2,u=oo(l);if(u.length/2&128)throw new a("tlv.encode: long form length too big");const c=l>127?oo(u.length/2|128):"";return oo(e)+c+u+i},decode(e,i){const{Err:a}=vr;let l=0;if(e<0||e>256)throw new a("tlv.encode: wrong tag");if(i.length<2||i[l++]!==e)throw new a("tlv.decode: wrong tlv");const u=i[l++],c=!!(u&128);let h=0;if(!c)h=u;else{const p=u&127;if(!p)throw new a("tlv.decode(long): indefinite length not supported");if(p>4)throw new a("tlv.decode(long): byte length is too big");const y=i.subarray(l,l+p);if(y.length!==p)throw new a("tlv.decode: length bytes not complete");if(y[0]===0)throw new a("tlv.decode(long): zero leftmost byte");for(const m of y)h=h<<8|m;if(l+=p,h<128)throw new a("tlv.decode(long): not minimal encoding")}const d=i.subarray(l,l+h);if(d.length!==h)throw new a("tlv.decode: wrong value length");return{v:d,l:i.subarray(l+h)}}},_int:{encode(e){const{Err:i}=vr;if(e<Ri)throw new i("integer: negative integers are not allowed");let a=oo(e);if(Number.parseInt(a[0],16)&8&&(a="00"+a),a.length&1)throw new i("unexpected DER parsing assertion: unpadded hex");return a},decode(e){const{Err:i}=vr;if(e[0]&128)throw new i("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new i("invalid signature integer: unnecessary leading zero");return ec(e)}},toSig(e){const{Err:i,_int:a,_tlv:l}=vr,u=te(e,void 0,"signature"),{v:c,l:h}=l.decode(48,u);if(h.length)throw new i("invalid signature: left bytes after parsing");const{v:d,l:p}=l.decode(2,c),{v:y,l:m}=l.decode(2,p);if(m.length)throw new i("invalid signature: left bytes after parsing");return{r:a.decode(d),s:a.decode(y)}},hexFromSig(e){const{_tlv:i,_int:a}=vr,l=i.encode(2,a.encode(e.r)),u=i.encode(2,a.encode(e.s)),c=l+u;return i.encode(48,c)}},Ri=BigInt(0),$a=BigInt(1),Ab=BigInt(2),co=BigInt(3),l4=BigInt(4);function s4(e,i={}){const a=n4("weierstrass",e,i),{Fp:l,Fn:u}=a;let c=a.CURVE;const{h,n:d}=c;Ld(i,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object"});const{endo:p}=i;if(p&&(!l.is0(c.a)||typeof p.beta!="bigint"||!Array.isArray(p.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const y=_b(l,u);function m(){if(!l.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function E(gt,$,Q){const{x:Z,y:H}=$.toAffine(),q=l.toBytes(Z);if(ko(Q,"isCompressed"),Q){m();const it=!l.isOdd(H);return Nn(Sb(it),q)}else return Nn(Uint8Array.of(4),q,l.toBytes(H))}function v(gt){te(gt,void 0,"Point");const{publicKey:$,publicKeyUncompressed:Q}=y,Z=gt.length,H=gt[0],q=gt.subarray(1);if(Z===$&&(H===2||H===3)){const it=l.fromBytes(q);if(!l.isValid(it))throw new Error("bad point: is not on curve, wrong x");const st=U(it);let lt;try{lt=l.sqrt(st)}catch(rt){const at=rt instanceof Error?": "+rt.message:"";throw new Error("bad point: is not on curve, sqrt error"+at)}m();const N=l.isOdd(lt);return(H&1)===1!==N&&(lt=l.neg(lt)),{x:it,y:lt}}else if(Z===Q&&H===4){const it=l.BYTES,st=l.fromBytes(q.subarray(0,it)),lt=l.fromBytes(q.subarray(it,it*2));if(!C(st,lt))throw new Error("bad point: is not on curve");return{x:st,y:lt}}else throw new Error(`bad point: got length ${Z}, expected compressed=${$} or uncompressed=${Q}`)}const _=i.toBytes||E,x=i.fromBytes||v;function U(gt){const $=l.sqr(gt),Q=l.mul($,gt);return l.add(l.add(Q,l.mul(gt,c.a)),c.b)}function C(gt,$){const Q=l.sqr($),Z=U(gt);return l.eql(Q,Z)}if(!C(c.Gx,c.Gy))throw new Error("bad curve params: generator point");const z=l.mul(l.pow(c.a,co),l4),X=l.mul(l.sqr(c.b),BigInt(27));if(l.is0(l.add(z,X)))throw new Error("bad curve params: a or b");function M(gt,$,Q=!1){if(!l.isValid($)||Q&&l.is0($))throw new Error(`bad point coordinate ${gt}`);return $}function L(gt){if(!(gt instanceof ut))throw new Error("Weierstrass Point expected")}function F(gt){if(!p||!p.basises)throw new Error("no endo");return r4(gt,p.basises,u.ORDER)}const nt=a1((gt,$)=>{const{X:Q,Y:Z,Z:H}=gt;if(l.eql(H,l.ONE))return{x:Q,y:Z};const q=gt.is0();$==null&&($=q?l.ONE:l.inv(H));const it=l.mul(Q,$),st=l.mul(Z,$),lt=l.mul(H,$);if(q)return{x:l.ZERO,y:l.ZERO};if(!l.eql(lt,l.ONE))throw new Error("invZ was invalid");return{x:it,y:st}}),W=a1(gt=>{if(gt.is0()){if(i.allowInfinityPoint&&!l.is0(gt.Y))return;throw new Error("bad point: ZERO")}const{x:$,y:Q}=gt.toAffine();if(!l.isValid($)||!l.isValid(Q))throw new Error("bad point: x or y not field elements");if(!C($,Q))throw new Error("bad point: equation left != right");if(!gt.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ct(gt,$,Q,Z,H){return Q=new ut(l.mul(Q.X,gt),Q.Y,Q.Z),$=Do(Z,$),Q=Do(H,Q),$.add(Q)}class ut{static BASE=new ut(c.Gx,c.Gy,l.ONE);static ZERO=new ut(l.ZERO,l.ONE,l.ZERO);static Fp=l;static Fn=u;X;Y;Z;constructor($,Q,Z){this.X=M("x",$),this.Y=M("y",Q,!0),this.Z=M("z",Z),Object.freeze(this)}static CURVE(){return c}static fromAffine($){const{x:Q,y:Z}=$||{};if(!$||!l.isValid(Q)||!l.isValid(Z))throw new Error("invalid affine point");if($ instanceof ut)throw new Error("projective point not allowed");return l.is0(Q)&&l.is0(Z)?ut.ZERO:new ut(Q,Z,l.ONE)}static fromBytes($){const Q=ut.fromAffine(x(te($,void 0,"point")));return Q.assertValidity(),Q}static fromHex($){return ut.fromBytes(Mo($))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute($=8,Q=!0){return Bt.createCache(this,$),Q||this.multiply(co),this}assertValidity(){W(this)}hasEvenY(){const{y:$}=this.toAffine();if(!l.isOdd)throw new Error("Field doesn't support isOdd");return!l.isOdd($)}equals($){L($);const{X:Q,Y:Z,Z:H}=this,{X:q,Y:it,Z:st}=$,lt=l.eql(l.mul(Q,st),l.mul(q,H)),N=l.eql(l.mul(Z,st),l.mul(it,H));return lt&&N}negate(){return new ut(this.X,l.neg(this.Y),this.Z)}double(){const{a:$,b:Q}=c,Z=l.mul(Q,co),{X:H,Y:q,Z:it}=this;let st=l.ZERO,lt=l.ZERO,N=l.ZERO,D=l.mul(H,H),rt=l.mul(q,q),at=l.mul(it,it),ot=l.mul(H,q);return ot=l.add(ot,ot),N=l.mul(H,it),N=l.add(N,N),st=l.mul($,N),lt=l.mul(Z,at),lt=l.add(st,lt),st=l.sub(rt,lt),lt=l.add(rt,lt),lt=l.mul(st,lt),st=l.mul(ot,st),N=l.mul(Z,N),at=l.mul($,at),ot=l.sub(D,at),ot=l.mul($,ot),ot=l.add(ot,N),N=l.add(D,D),D=l.add(N,D),D=l.add(D,at),D=l.mul(D,ot),lt=l.add(lt,D),at=l.mul(q,it),at=l.add(at,at),D=l.mul(at,ot),st=l.sub(st,D),N=l.mul(at,rt),N=l.add(N,N),N=l.add(N,N),new ut(st,lt,N)}add($){L($);const{X:Q,Y:Z,Z:H}=this,{X:q,Y:it,Z:st}=$;let lt=l.ZERO,N=l.ZERO,D=l.ZERO;const rt=c.a,at=l.mul(c.b,co);let ot=l.mul(Q,q),dt=l.mul(Z,it),Et=l.mul(H,st),Lt=l.add(Q,Z),St=l.add(q,it);Lt=l.mul(Lt,St),St=l.add(ot,dt),Lt=l.sub(Lt,St),St=l.add(Q,H);let ee=l.add(q,st);return St=l.mul(St,ee),ee=l.add(ot,Et),St=l.sub(St,ee),ee=l.add(Z,H),lt=l.add(it,st),ee=l.mul(ee,lt),lt=l.add(dt,Et),ee=l.sub(ee,lt),D=l.mul(rt,St),lt=l.mul(at,Et),D=l.add(lt,D),lt=l.sub(dt,D),D=l.add(dt,D),N=l.mul(lt,D),dt=l.add(ot,ot),dt=l.add(dt,ot),Et=l.mul(rt,Et),St=l.mul(at,St),dt=l.add(dt,Et),Et=l.sub(ot,Et),Et=l.mul(rt,Et),St=l.add(St,Et),ot=l.mul(dt,St),N=l.add(N,ot),ot=l.mul(ee,St),lt=l.mul(Lt,lt),lt=l.sub(lt,ot),ot=l.mul(Lt,dt),D=l.mul(ee,D),D=l.add(D,ot),new ut(lt,N,D)}subtract($){return this.add($.negate())}is0(){return this.equals(ut.ZERO)}multiply($){const{endo:Q}=i;if(!u.isValidNot0($))throw new Error("invalid scalar: out of range");let Z,H;const q=it=>Bt.cached(this,it,st=>u1(ut,st));if(Q){const{k1neg:it,k1:st,k2neg:lt,k2:N}=F($),{p:D,f:rt}=q(st),{p:at,f:ot}=q(N);H=rt.add(ot),Z=ct(Q.beta,D,at,it,lt)}else{const{p:it,f:st}=q($);Z=it,H=st}return u1(ut,[Z,H])[0]}multiplyUnsafe($){const{endo:Q}=i,Z=this;if(!u.isValid($))throw new Error("invalid scalar: out of range");if($===Ri||Z.is0())return ut.ZERO;if($===$a)return Z;if(Bt.hasCache(this))return this.multiply($);if(Q){const{k1neg:H,k1:q,k2neg:it,k2:st}=F($),{p1:lt,p2:N}=e4(ut,Z,q,st);return ct(Q.beta,lt,N,H,it)}else return Bt.unsafe(Z,$)}toAffine($){return nt(this,$)}isTorsionFree(){const{isTorsionFree:$}=i;return h===$a?!0:$?$(ut,this):Bt.unsafe(this,d).is0()}clearCofactor(){const{clearCofactor:$}=i;return h===$a?this:$?$(ut,this):this.multiplyUnsafe(h)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}toBytes($=!0){return ko($,"isCompressed"),this.assertValidity(),_(ut,this,$)}toHex($=!0){return Jo(this.toBytes($))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}const Tt=u.BITS,Bt=new t4(ut,i.endo?Math.ceil(Tt/2):Tt);return ut.BASE.precompute(8),ut}function Sb(e){return Uint8Array.of(e?2:3)}function _b(e,i){return{secretKey:i.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*i.BYTES}}function u4(e,i={}){const{Fn:a}=e,l=i.randomBytes||nb,u=Object.assign(_b(e.Fp,a),{seed:Eb(a.ORDER)});function c(_){try{const x=a.fromBytes(_);return a.isValidNot0(x)}catch{return!1}}function h(_,x){const{publicKey:U,publicKeyUncompressed:C}=u;try{const z=_.length;return x===!0&&z!==U||x===!1&&z!==C?!1:!!e.fromBytes(_)}catch{return!1}}function d(_=l(u.seed)){return JT(te(_,u.seed,"seed"),a.ORDER)}function p(_,x=!0){return e.BASE.multiply(a.fromBytes(_)).toBytes(x)}function y(_){const{secretKey:x,publicKey:U,publicKeyUncompressed:C}=u;if(!Rd(_)||"_lengths"in a&&a._lengths||x===U)return;const z=te(_,void 0,"key").length;return z===U||z===C}function m(_,x,U=!0){if(y(_)===!0)throw new Error("first arg must be private key");if(y(x)===!1)throw new Error("second arg must be public key");const C=a.fromBytes(_);return e.fromBytes(x).multiply(C).toBytes(U)}const E={isValidSecretKey:c,isValidPublicKey:h,randomSecretKey:d},v=i4(d,p);return Object.freeze({getPublicKey:p,getSharedSecret:m,keygen:v,Point:e,utils:E,lengths:u})}function o4(e,i,a={}){Hd(i),Ld(a,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"}),a=Object.assign({},a);const l=a.randomBytes||nb,u=a.hmac||((Q,Z)=>As(i,Q,Z)),{Fp:c,Fn:h}=e,{ORDER:d,BITS:p}=h,{keygen:y,getPublicKey:m,getSharedSecret:E,utils:v,lengths:_}=u4(e,a),x={prehash:!0,lowS:typeof a.lowS=="boolean"?a.lowS:!0,format:"compact",extraEntropy:!1},U=d*Ab<c.ORDER;function C(Q){const Z=d>>$a;return Q>Z}function z(Q,Z){if(!h.isValidNot0(Z))throw new Error(`invalid signature ${Q}: out of range 1..Point.Fn.ORDER`);return Z}function X(){if(U)throw new Error('"recovered" sig type is not supported for cofactor >2 curves')}function M(Q,Z){nd(Z);const H=_.signature,q=Z==="compact"?H:Z==="recovered"?H+1:void 0;return te(Q,q)}class L{r;s;recovery;constructor(Z,H,q){if(this.r=z("r",Z),this.s=z("s",H),q!=null){if(X(),![0,1,2,3].includes(q))throw new Error("invalid recovery id");this.recovery=q}Object.freeze(this)}static fromBytes(Z,H=x.format){M(Z,H);let q;if(H==="der"){const{r:N,s:D}=vr.toSig(te(Z));return new L(N,D)}H==="recovered"&&(q=Z[0],H="compact",Z=Z.subarray(1));const it=_.signature/2,st=Z.subarray(0,it),lt=Z.subarray(it,it*2);return new L(h.fromBytes(st),h.fromBytes(lt),q)}static fromHex(Z,H){return this.fromBytes(Mo(Z),H)}assertRecovery(){const{recovery:Z}=this;if(Z==null)throw new Error("invalid recovery id: must be present");return Z}addRecoveryBit(Z){return new L(this.r,this.s,Z)}recoverPublicKey(Z){const{r:H,s:q}=this,it=this.assertRecovery(),st=it===2||it===3?H+d:H;if(!c.isValid(st))throw new Error("invalid recovery id: sig.r+curve.n != R.x");const lt=c.toBytes(st),N=e.fromBytes(Nn(Sb((it&1)===0),lt)),D=h.inv(st),rt=nt(te(Z,void 0,"msgHash")),at=h.create(-rt*D),ot=h.create(q*D),dt=e.BASE.multiplyUnsafe(at).add(N.multiplyUnsafe(ot));if(dt.is0())throw new Error("invalid recovery: point at infinify");return dt.assertValidity(),dt}hasHighS(){return C(this.s)}toBytes(Z=x.format){if(nd(Z),Z==="der")return Mo(vr.hexFromSig(this));const{r:H,s:q}=this,it=h.toBytes(H),st=h.toBytes(q);return Z==="recovered"?(X(),Nn(Uint8Array.of(this.assertRecovery()),it,st)):Nn(it,st)}toHex(Z){return Jo(this.toBytes(Z))}}const F=a.bits2int||function(Z){if(Z.length>8192)throw new Error("input is too large");const H=ec(Z),q=Z.length*8-p;return q>0?H>>BigInt(q):H},nt=a.bits2int_modN||function(Z){return h.create(F(Z))},W=zd(p);function ct(Q){return jT("num < 2^"+p,Q,Ri,W),h.toBytes(Q)}function ut(Q,Z){return te(Q,void 0,"message"),Z?te(i(Q),void 0,"prehashed message"):Q}function Tt(Q,Z,H){const{lowS:q,prehash:it,extraEntropy:st}=Kh(H,x);Q=ut(Q,it);const lt=nt(Q),N=h.fromBytes(Z);if(!h.isValidNot0(N))throw new Error("invalid private key");const D=[ct(N),ct(lt)];if(st!=null&&st!==!1){const dt=st===!0?l(_.secretKey):st;D.push(te(dt,void 0,"extraEntropy"))}const rt=Nn(...D),at=lt;function ot(dt){const Et=F(dt);if(!h.isValidNot0(Et))return;const Lt=h.inv(Et),St=e.BASE.multiply(Et).toAffine(),ee=h.create(St.x);if(ee===Ri)return;const kn=h.create(Lt*h.create(at+ee*N));if(kn===Ri)return;let si=(St.x===ee?0:2)|Number(St.y&$a),dn=kn;return q&&C(kn)&&(dn=h.neg(kn),si^=1),new L(ee,dn,U?void 0:si)}return{seed:rt,k2sig:ot}}function Bt(Q,Z,H={}){const{seed:q,k2sig:it}=Tt(Q,Z,H);return GT(i.outputLen,h.BYTES,u)(q,it).toBytes(H.format)}function gt(Q,Z,H,q={}){const{lowS:it,prehash:st,format:lt}=Kh(q,x);if(H=te(H,void 0,"publicKey"),Z=ut(Z,st),!Rd(Q)){const N=Q instanceof L?", use sig.toBytes()":"";throw new Error("verify expects Uint8Array signature"+N)}M(Q,lt);try{const N=L.fromBytes(Q,lt),D=e.fromBytes(H);if(it&&N.hasHighS())return!1;const{r:rt,s:at}=N,ot=nt(Z),dt=h.inv(at),Et=h.create(ot*dt),Lt=h.create(rt*dt),St=e.BASE.multiplyUnsafe(Et).add(D.multiplyUnsafe(Lt));return St.is0()?!1:h.create(St.x)===rt}catch{return!1}}function $(Q,Z,H={}){const{prehash:q}=Kh(H,x);return Z=ut(Z,q),L.fromBytes(Q,"recovered").recoverPublicKey(Z).toBytes()}return Object.freeze({keygen:y,getPublicKey:m,getSharedSecret:E,utils:v,lengths:_,Point:e,sign:Bt,verify:gt,recoverPublicKey:$,Signature:L,hash:i})}const Kd={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},c4={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},d1=BigInt(2);function f4(e){const i=Kd.p,a=BigInt(3),l=BigInt(6),u=BigInt(11),c=BigInt(22),h=BigInt(23),d=BigInt(44),p=BigInt(88),y=e*e*e%i,m=y*y*e%i,E=Tn(m,a,i)*m%i,v=Tn(E,a,i)*m%i,_=Tn(v,d1,i)*y%i,x=Tn(_,u,i)*_%i,U=Tn(x,c,i)*x%i,C=Tn(U,d,i)*U%i,z=Tn(C,p,i)*C%i,X=Tn(z,d,i)*U%i,M=Tn(X,a,i)*m%i,L=Tn(M,h,i)*x%i,F=Tn(L,l,i)*y%i,nt=Tn(F,d1,i);if(!id.eql(id.sqr(nt),e))throw new Error("Cannot find square root");return nt}const id=nc(Kd.p,{sqrt:f4}),h4=s4(Kd,{Fp:id,endo:c4}),qa=o4(h4,tc),d4=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),xb=Uint8Array.from(new Array(16).fill(0).map((e,i)=>i)),p4=xb.map(e=>(9*e+5)%16),Tb=(()=>{const a=[[xb],[p4]];for(let l=0;l<4;l++)for(let u of a)u.push(u[l].map(c=>d4[c]));return a})(),Nb=Tb[0],Ub=Tb[1],Ob=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),y4=Nb.map((e,i)=>e.map(a=>Ob[i][a])),g4=Ub.map((e,i)=>e.map(a=>Ob[i][a])),m4=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),E4=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function p1(e,i,a,l){return e===0?i^a^l:e===1?i&a|~i&l:e===2?(i|~a)^l:e===3?i&l|a&~l:i^(a|~l)}const fo=new Uint32Array(16);class b4 extends Md{h0=1732584193;h1=-271733879;h2=-1732584194;h3=271733878;h4=-1009589776;constructor(){super(64,20,8,!0)}get(){const{h0:i,h1:a,h2:l,h3:u,h4:c}=this;return[i,a,l,u,c]}set(i,a,l,u,c){this.h0=i|0,this.h1=a|0,this.h2=l|0,this.h3=u|0,this.h4=c|0}process(i,a){for(let _=0;_<16;_++,a+=4)fo[_]=i.getUint32(a,!0);let l=this.h0|0,u=l,c=this.h1|0,h=c,d=this.h2|0,p=d,y=this.h3|0,m=y,E=this.h4|0,v=E;for(let _=0;_<5;_++){const x=4-_,U=m4[_],C=E4[_],z=Nb[_],X=Ub[_],M=y4[_],L=g4[_];for(let F=0;F<16;F++){const nt=ao(l+p1(_,c,d,y)+fo[z[F]]+U,M[F])+E|0;l=E,E=y,y=ao(d,10)|0,d=c,c=nt}for(let F=0;F<16;F++){const nt=ao(u+p1(x,h,p,m)+fo[X[F]]+C,L[F])+v|0;u=v,v=m,m=ao(p,10)|0,p=h,h=nt}}this.set(this.h1+d+m|0,this.h2+y+v|0,this.h3+E+u|0,this.h4+l+h|0,this.h0+c+p|0)}roundClean(){ki(fo)}destroy(){this.destroyed=!0,ki(this.buffer),this.set(0,0,0,0,0)}}const w4=Id(()=>new b4);function rd(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Bb(e,i){return Array.isArray(i)?i.length===0?!0:e?i.every(a=>typeof a=="string"):i.every(a=>Number.isSafeInteger(a)):!1}function v4(e){if(typeof e!="function")throw new Error("function expected");return!0}function ad(e,i){if(typeof i!="string")throw new Error(`${e}: string expected`);return!0}function Gd(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function ld(e){if(!Array.isArray(e))throw new Error("array expected")}function Cb(e,i){if(!Bb(!0,i))throw new Error(`${e}: array of strings expected`)}function A4(e,i){if(!Bb(!1,i))throw new Error(`${e}: array of numbers expected`)}function Rb(...e){const i=c=>c,a=(c,h)=>d=>c(h(d)),l=e.map(c=>c.encode).reduceRight(a,i),u=e.map(c=>c.decode).reduce(a,i);return{encode:l,decode:u}}function S4(e){const i=typeof e=="string"?e.split(""):e,a=i.length;Cb("alphabet",i);const l=new Map(i.map((u,c)=>[u,c]));return{encode:u=>(ld(u),u.map(c=>{if(!Number.isSafeInteger(c)||c<0||c>=a)throw new Error(`alphabet.encode: digit index outside alphabet "${c}". Allowed: ${e}`);return i[c]})),decode:u=>(ld(u),u.map(c=>{ad("alphabet.decode",c);const h=l.get(c);if(h===void 0)throw new Error(`Unknown letter: "${c}". Allowed: ${e}`);return h}))}}function _4(e=""){return ad("join",e),{encode:i=>(Cb("join.decode",i),i.join(e)),decode:i=>(ad("join.decode",i),i.split(e))}}function y1(e,i,a){if(i<2)throw new Error(`convertRadix: invalid from=${i}, base cannot be less than 2`);if(a<2)throw new Error(`convertRadix: invalid to=${a}, base cannot be less than 2`);if(ld(e),!e.length)return[];let l=0;const u=[],c=Array.from(e,d=>{if(Gd(d),d<0||d>=i)throw new Error(`invalid integer: ${d}`);return d}),h=c.length;for(;;){let d=0,p=!0;for(let y=l;y<h;y++){const m=c[y],E=i*d,v=E+m;if(!Number.isSafeInteger(v)||E/i!==d||v-m!==E)throw new Error("convertRadix: carry overflow");const _=v/a;d=v%a;const x=Math.floor(_);if(c[y]=x,!Number.isSafeInteger(x)||x*a+d!==v)throw new Error("convertRadix: carry overflow");if(p)x?p=!1:l=y;else continue}if(u.push(d),p)break}for(let d=0;d<e.length-1&&e[d]===0;d++)u.push(0);return u.reverse()}function x4(e){Gd(e);const i=2**8;return{encode:a=>{if(!rd(a))throw new Error("radix.encode input should be Uint8Array");return y1(Array.from(a),i,e)},decode:a=>(A4("radix.decode",a),Uint8Array.from(y1(a,e,i)))}}function T4(e,i){return Gd(e),v4(i),{encode(a){if(!rd(a))throw new Error("checksum.encode: input should be Uint8Array");const l=i(a).slice(0,e),u=new Uint8Array(a.length+e);return u.set(a),u.set(l,a.length),u},decode(a){if(!rd(a))throw new Error("checksum.decode: input should be Uint8Array");const l=a.slice(0,-e),u=a.slice(-e),c=i(l).slice(0,e);for(let h=0;h<e;h++)if(c[h]!==u[h])throw new Error("Invalid checksum");return l}}}const N4=e=>Rb(x4(58),S4(e),_4("")),U4=N4("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),O4=e=>Rb(T4(4,i=>e(e(i))),U4);const hs=qa.Point,{Fn:fs}=hs,Gh=O4(tc),B4=Uint8Array.from("Bitcoin seed".split(""),e=>e.charCodeAt(0)),Xh={private:76066276,public:76067358},Vh=2147483648,C4=e=>w4(tc(e)),R4=e=>Pr(e).getUint32(0,!1),ho=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error("invalid number, should be from 0 to 2**32-1, got "+e);const i=new Uint8Array(4);return Pr(i).setUint32(0,e,!1),i};class Gn{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return R4(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this._privateKey||null}get publicKey(){return this._publicKey||null}get privateExtendedKey(){const i=this._privateKey;if(!i)throw new Error("No private key");return Gh.encode(this.serialize(this.versions.private,Nn(Uint8Array.of(0),i)))}get publicExtendedKey(){if(!this._publicKey)throw new Error("No public key");return Gh.encode(this.serialize(this.versions.public,this._publicKey))}static fromMasterSeed(i,a=Xh){if(te(i),8*i.length<128||8*i.length>512)throw new Error("HDKey: seed length must be between 128 and 512 bits; 256 bits is advised, got "+i.length);const l=As(r1,B4,i),u=l.slice(0,32),c=l.slice(32);return new Gn({versions:a,chainCode:c,privateKey:u})}static fromExtendedKey(i,a=Xh){const l=Gh.decode(i),u=Pr(l),c=u.getUint32(0,!1),h={versions:a,depth:l[4],parentFingerprint:u.getUint32(5,!1),index:u.getUint32(9,!1),chainCode:l.slice(13,45)},d=l.slice(45),p=d[0]===0;if(c!==a[p?"private":"public"])throw new Error("Version mismatch");return p?new Gn({...h,privateKey:d.slice(1)}):new Gn({...h,publicKey:d})}static fromJSON(i){return Gn.fromExtendedKey(i.xpriv)}versions;depth=0;index=0;chainCode=null;parentFingerprint=0;_privateKey;_publicKey;pubHash;constructor(i){if(!i||typeof i!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=i.versions||Xh,this.depth=i.depth||0,this.chainCode=i.chainCode||null,this.index=i.index||0,this.parentFingerprint=i.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(this.depth>255)throw new Error("HDKey: depth exceeds the serializable value 255");if(i.publicKey&&i.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(i.privateKey){if(!qa.utils.isValidSecretKey(i.privateKey))throw new Error("Invalid private key");this._privateKey=i.privateKey,this._publicKey=qa.getPublicKey(i.privateKey,!0)}else if(i.publicKey)this._publicKey=hs.fromBytes(i.publicKey).toBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=C4(this._publicKey)}derive(i){if(!/^[mM]'?/.test(i))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(i))return this;const a=i.replace(/^[mM]'?\//,"").split("/");let l=this;for(const u of a){const c=/^(\d+)('?)$/.exec(u),h=c&&c[1];if(!c||c.length!==3||typeof h!="string")throw new Error("invalid child index: "+u);let d=+h;if(!Number.isSafeInteger(d)||d>=Vh)throw new Error("Invalid index");c[2]==="'"&&(d+=Vh),l=l.deriveChild(d)}return l}deriveChild(i){if(!this._publicKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let a=ho(i);if(i>=Vh){const p=this._privateKey;if(!p)throw new Error("Could not derive hardened child key");a=Nn(Uint8Array.of(0),p,a)}else a=Nn(this._publicKey,a);const l=As(r1,this.chainCode,a),u=l.slice(0,32),c=l.slice(32);if(!qa.utils.isValidSecretKey(u))throw new Error("Tweak bigger than curve order");const h={versions:this.versions,chainCode:c,depth:this.depth+1,parentFingerprint:this.fingerprint,index:i},d=fs.fromBytes(u);try{if(this._privateKey){const p=fs.create(fs.fromBytes(this._privateKey)+d);if(!fs.isValidNot0(p))throw new Error("The tweak was out of range or the resulted private key is invalid");h.privateKey=fs.toBytes(p)}else{const p=hs.fromBytes(this._publicKey).add(hs.BASE.multiply(d));if(p.equals(hs.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");h.publicKey=p.toBytes(!0)}return new Gn(h)}catch{return this.deriveChild(i+1)}}sign(i){if(!this._privateKey)throw new Error("No privateKey set!");return te(i,32),qa.sign(i,this._privateKey,{prehash:!1})}verify(i,a){if(te(i,32),te(a,64),!this._publicKey)throw new Error("No publicKey set!");return qa.verify(a,i,this._publicKey,{prehash:!1})}wipePrivateData(){return this._privateKey&&(this._privateKey.fill(0),this._privateKey=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(i,a){if(!this.chainCode)throw new Error("No chainCode set");return te(a,33),Nn(ho(i),new Uint8Array([this.depth]),ho(this.parentFingerprint),ho(this.index),this.chainCode,a)}}function H4(e,i,a,l){Hd(e);const u=wT({dkLen:32,asyncTick:10},l),{c,dkLen:h,asyncTick:d}=u;if(ni(c,"c"),ni(h,"dkLen"),ni(d,"asyncTick"),c<1)throw new Error("iterations (c) must be >= 1");const p=t1(i,"password"),y=t1(a,"salt"),m=new Uint8Array(h),E=As.create(e,p),v=E._cloneInto().update(y);return{c,dkLen:h,asyncTick:d,DK:m,PRF:E,PRFSalt:v}}function I4(e,i,a,l,u){return e.destroy(),i.destroy(),l&&l.destroy(),ki(u),a}function M4(e,i,a,l){const{c:u,dkLen:c,DK:h,PRF:d,PRFSalt:p}=H4(e,i,a,l);let y;const m=new Uint8Array(4),E=Pr(m),v=new Uint8Array(d.outputLen);for(let _=1,x=0;x<c;_++,x+=d.outputLen){const U=h.subarray(x,x+d.outputLen);E.setInt32(0,_,!1),(y=p._cloneInto(y)).update(m).digestInto(v),U.set(v.subarray(0,U.length));for(let C=1;C<u;C++){d._cloneInto(y).update(v).digestInto(v);for(let z=0;z<U.length;z++)U[z]^=v[z]}}return I4(d,p,h,y,v)}const Hb=["academic","acid","acne","acquire","acrobat","activity","actress","adapt","adequate","adjust","admit","adorn","adult","advance","advocate","afraid","again","agency","agree","aide","aircraft","airline","airport","ajar","alarm","album","alcohol","alien","alive","alpha","already","alto","aluminum","always","amazing","ambition","amount","amuse","analysis","anatomy","ancestor","ancient","angel","angry","animal","answer","antenna","anxiety","apart","aquatic","arcade","arena","argue","armed","artist","artwork","aspect","auction","august","aunt","average","aviation","avoid","award","away","axis","axle","beam","beard","beaver","become","bedroom","behavior","being","believe","belong","benefit","best","beyond","bike","biology","birthday","bishop","black","blanket","blessing","blimp","blind","blue","body","bolt","boring","born","both","boundary","bracelet","branch","brave","breathe","briefing","broken","brother","browser","bucket","budget","building","bulb","bulge","bumpy","bundle","burden","burning","busy","buyer","cage","calcium","camera","campus","canyon","capacity","capital","capture","carbon","cards","careful","cargo","carpet","carve","category","cause","ceiling","center","ceramic","champion","change","charity","check","chemical","chest","chew","chubby","cinema","civil","class","clay","cleanup","client","climate","clinic","clock","clogs","closet","clothes","club","cluster","coal","coastal","coding","column","company","corner","costume","counter","course","cover","cowboy","cradle","craft","crazy","credit","cricket","criminal","crisis","critical","crowd","crucial","crunch","crush","crystal","cubic","cultural","curious","curly","custody","cylinder","daisy","damage","dance","darkness","database","daughter","deadline","deal","debris","debut","decent","decision","declare","decorate","decrease","deliver","demand","density","deny","depart","depend","depict","deploy","describe","desert","desire","desktop","destroy","detailed","detect","device","devote","diagnose","dictate","diet","dilemma","diminish","dining","diploma","disaster","discuss","disease","dish","dismiss","display","distance","dive","divorce","document","domain","domestic","dominant","dough","downtown","dragon","dramatic","dream","dress","drift","drink","drove","drug","dryer","duckling","duke","duration","dwarf","dynamic","early","earth","easel","easy","echo","eclipse","ecology","edge","editor","educate","either","elbow","elder","election","elegant","element","elephant","elevator","elite","else","email","emerald","emission","emperor","emphasis","employer","empty","ending","endless","endorse","enemy","energy","enforce","engage","enjoy","enlarge","entrance","envelope","envy","epidemic","episode","equation","equip","eraser","erode","escape","estate","estimate","evaluate","evening","evidence","evil","evoke","exact","example","exceed","exchange","exclude","excuse","execute","exercise","exhaust","exotic","expand","expect","explain","express","extend","extra","eyebrow","facility","fact","failure","faint","fake","false","family","famous","fancy","fangs","fantasy","fatal","fatigue","favorite","fawn","fiber","fiction","filter","finance","findings","finger","firefly","firm","fiscal","fishing","fitness","flame","flash","flavor","flea","flexible","flip","float","floral","fluff","focus","forbid","force","forecast","forget","formal","fortune","forward","founder","fraction","fragment","frequent","freshman","friar","fridge","friendly","frost","froth","frozen","fumes","funding","furl","fused","galaxy","game","garbage","garden","garlic","gasoline","gather","general","genius","genre","genuine","geology","gesture","glad","glance","glasses","glen","glimpse","goat","golden","graduate","grant","grasp","gravity","gray","greatest","grief","grill","grin","grocery","gross","group","grownup","grumpy","guard","guest","guilt","guitar","gums","hairy","hamster","hand","hanger","harvest","have","havoc","hawk","hazard","headset","health","hearing","heat","helpful","herald","herd","hesitate","hobo","holiday","holy","home","hormone","hospital","hour","huge","human","humidity","hunting","husband","hush","husky","hybrid","idea","identify","idle","image","impact","imply","improve","impulse","include","income","increase","index","indicate","industry","infant","inform","inherit","injury","inmate","insect","inside","install","intend","intimate","invasion","involve","iris","island","isolate","item","ivory","jacket","jerky","jewelry","join","judicial","juice","jump","junction","junior","junk","jury","justice","kernel","keyboard","kidney","kind","kitchen","knife","knit","laden","ladle","ladybug","lair","lamp","language","large","laser","laundry","lawsuit","leader","leaf","learn","leaves","lecture","legal","legend","legs","lend","length","level","liberty","library","license","lift","likely","lilac","lily","lips","liquid","listen","literary","living","lizard","loan","lobe","location","losing","loud","loyalty","luck","lunar","lunch","lungs","luxury","lying","lyrics","machine","magazine","maiden","mailman","main","makeup","making","mama","manager","mandate","mansion","manual","marathon","march","market","marvel","mason","material","math","maximum","mayor","meaning","medal","medical","member","memory","mental","merchant","merit","method","metric","midst","mild","military","mineral","minister","miracle","mixed","mixture","mobile","modern","modify","moisture","moment","morning","mortgage","mother","mountain","mouse","move","much","mule","multiple","muscle","museum","music","mustang","nail","national","necklace","negative","nervous","network","news","nuclear","numb","numerous","nylon","oasis","obesity","object","observe","obtain","ocean","often","olympic","omit","oral","orange","orbit","order","ordinary","organize","ounce","oven","overall","owner","paces","pacific","package","paid","painting","pajamas","pancake","pants","papa","paper","parcel","parking","party","patent","patrol","payment","payroll","peaceful","peanut","peasant","pecan","penalty","pencil","percent","perfect","permit","petition","phantom","pharmacy","photo","phrase","physics","pickup","picture","piece","pile","pink","pipeline","pistol","pitch","plains","plan","plastic","platform","playoff","pleasure","plot","plunge","practice","prayer","preach","predator","pregnant","premium","prepare","presence","prevent","priest","primary","priority","prisoner","privacy","prize","problem","process","profile","program","promise","prospect","provide","prune","public","pulse","pumps","punish","puny","pupal","purchase","purple","python","quantity","quarter","quick","quiet","race","racism","radar","railroad","rainbow","raisin","random","ranked","rapids","raspy","reaction","realize","rebound","rebuild","recall","receiver","recover","regret","regular","reject","relate","remember","remind","remove","render","repair","repeat","replace","require","rescue","research","resident","response","result","retailer","retreat","reunion","revenue","review","reward","rhyme","rhythm","rich","rival","river","robin","rocky","romantic","romp","roster","round","royal","ruin","ruler","rumor","sack","safari","salary","salon","salt","satisfy","satoshi","saver","says","scandal","scared","scatter","scene","scholar","science","scout","scramble","screw","script","scroll","seafood","season","secret","security","segment","senior","shadow","shaft","shame","shaped","sharp","shelter","sheriff","short","should","shrimp","sidewalk","silent","silver","similar","simple","single","sister","skin","skunk","slap","slavery","sled","slice","slim","slow","slush","smart","smear","smell","smirk","smith","smoking","smug","snake","snapshot","sniff","society","software","soldier","solution","soul","source","space","spark","speak","species","spelling","spend","spew","spider","spill","spine","spirit","spit","spray","sprinkle","square","squeeze","stadium","staff","standard","starting","station","stay","steady","step","stick","stilt","story","strategy","strike","style","subject","submit","sugar","suitable","sunlight","superior","surface","surprise","survive","sweater","swimming","swing","switch","symbolic","sympathy","syndrome","system","tackle","tactics","tadpole","talent","task","taste","taught","taxi","teacher","teammate","teaspoon","temple","tenant","tendency","tension","terminal","testify","texture","thank","that","theater","theory","therapy","thorn","threaten","thumb","thunder","ticket","tidy","timber","timely","ting","tofu","together","tolerate","total","toxic","tracks","traffic","training","transfer","trash","traveler","treat","trend","trial","tricycle","trip","triumph","trouble","true","trust","twice","twin","type","typical","ugly","ultimate","umbrella","uncover","undergo","unfair","unfold","unhappy","union","universe","unkind","unknown","unusual","unwrap","upgrade","upstairs","username","usher","usual","valid","valuable","vampire","vanish","various","vegan","velvet","venture","verdict","verify","very","veteran","vexed","victim","video","view","vintage","violence","viral","visitor","visual","vitamins","vocal","voice","volume","voter","voting","walnut","warmth","warn","watch","wavy","wealthy","weapon","webcam","welcome","welfare","western","width","wildlife","window","wine","wireless","wisdom","withdraw","wits","wolf","woman","work","worthy","wrap","wrist","writing","wrote","year","yelp","yield","yoga","zero"],zo=new Map;Hb.forEach((e,i)=>{zo.set(e,i)});const k4=[14737472,29474944,58949888,117899776,235798537,470557714,940076068,814808136,565311632,66318624],D4=1e4,Xd=4;function Ib(e){let i=1;for(const a of e){const l=i>>20;i=(i&1048575)<<10^a;for(let u=0;u<10;u++)i^=l>>u&1?k4[u]:0}return i}function z4(e,i){const a=e.split("").map(u=>u.charCodeAt(0)).concat(i).concat([0,0,0]),l=Ib(a)^1;return[l>>20&1023,l>>10&1023,l&1023]}function L4(e,i){const a=e.split("").map(l=>l.charCodeAt(0)).concat(i);return Ib(a)===1}function j4(){const e=new Uint8Array(2);return crypto.getRandomValues(e),(e[0]<<8|e[1])&32767}function K4(e){return Math.floor((D4<<e)/Xd)}function Mb(e,i){if(i)return new Uint8Array(0);{const a=new TextEncoder().encode("shamir"),l=new Uint8Array(a.length+2);return l.set(a,0),l[a.length]=e>>8&255,l[a.length+1]=e&255,l}}function kb(e,i,a,l,u){const c=K4(a),h=new TextEncoder().encode(i.normalize("NFKD")),d=new Uint8Array(1+h.length);d[0]=e,d.set(h,1);const p=new Uint8Array(l.length+u.length);return p.set(l,0),p.set(u,l.length),M4(tc,d,p,{c,dkLen:u.length})}function G4(e,i,a,l,u){if(e.length%2!==0)throw new Error("Data length must be even");const c=e.length/2;let h=e.slice(0,c),d=e.slice(c);const p=Mb(l,u);for(let m=0;m<Xd;m++){const E=kb(m,i,a,p,d),v=new Uint8Array(c);for(let _=0;_<c;_++)v[_]=h[_]^E[_];h=d,d=v}const y=new Uint8Array(e.length);return y.set(d,0),y.set(h,c),y}function X4(e,i,a,l,u){if(e.length%2!==0)throw new Error("Data length must be even");const c=e.length/2;let h=e.slice(0,c),d=e.slice(c);const p=Mb(l,u);for(let m=Xd-1;m>=0;m--){const E=kb(m,i,a,p,d),v=new Uint8Array(c);for(let _=0;_<c;_++)v[_]=h[_]^E[_];h=d,d=v}const y=new Uint8Array(e.length);return y.set(d,0),y.set(h,c),y}function V4(e){const{identifier:i,iterationExponent:a,groupIndex:l,groupThreshold:u,groupCount:c,memberIndex:h,memberThreshold:d}=e,p=[];return p.push(i>>5&1023),p.push((i&31)<<5|0|a&15),p.push((l&15)<<6|(u-1&15)<<2|(c-1&12)>>2),p.push((c-1&3)<<8|(h&15)<<4|d-1&15),p}function Y4(e){const i=(e[0]<<5|e[1]>>5&31)&32767,a=(e[1]>>4&1)===1,l=e[1]&15,u=e[2]>>6&15,c=(e[2]>>2&15)+1,h=((e[2]&3)<<2|e[3]>>8&3)+1,d=e[3]>>4&15,p=(e[3]&15)+1;return{identifier:i,extendable:a,iterationExponent:l,groupIndex:u,groupThreshold:c,groupCount:h,memberIndex:d,memberThreshold:p}}function q4(e,i){const a=V4(e),l=i.length*8,u=Math.ceil(l/10);let c=0n;for(const y of i)c=(c<<8n)+BigInt(y);const h=[];for(let y=0;y<u;y++)h.unshift(Number(c%1024n)),c/=1024n;a.push(...h);const p=z4("shamir",a);return a.push(...p),a.map(y=>Hb[y])}function F4(e){const i=e.map(y=>{const m=zo.get(y.toLowerCase());if(m===void 0)throw new Error(`Invalid word: ${y}`);return m});if(i.length!==20&&i.length!==33)throw new Error(`Invalid mnemonic length: ${i.length} words. Expected 20 or 33.`);const a=Y4(i),l=i.slice(4,-3),u=l.length*10,c=u%16,h=u-c,d=h/8;let p=0n;for(const y of l)p=p*1024n+BigInt(y);try{const y=(1n<<BigInt(h))-1n;if(p>y)throw new Error("Invalid mnemonic padding");const m=new Uint8Array(d);for(let E=0;E<d;E++)m[d-1-E]=Number(p&0xffn),p>>=8n;return{metadata:a,encryptedSecret:m}}catch{throw new Error("Invalid mnemonic padding")}}function P4(e){if(e.length!==16&&e.length!==32)throw new Error("Master secret must be 16 bytes (128-bit) or 32 bytes (256-bit)");const i=j4(),a=0,l=!1,u="",c=new Uint8Array(2);c[0]=i>>8&255,c[1]=i&255;const h=G4(e,u,a,i,l);return q4({identifier:i,iterationExponent:a,groupIndex:0,groupThreshold:1,groupCount:1,memberIndex:0,memberThreshold:1},h).join(" ")}function Db(e){try{const i=e.trim().split(/\s+/);if(i.length!==20&&i.length!==33)return!1;for(const c of i)if(!zo.has(c.toLowerCase()))return!1;const a=i.map(c=>zo.get(c.toLowerCase())),u=(a[1]>>4&1)===1?"shamir_extendable":"shamir";return L4(u,a)}catch{return!1}}function $4(e){const i=e.trim().split(/\s+/);if(i.length!==20&&i.length!==33)throw new Error(`Invalid mnemonic length: ${i.length} words`);const{metadata:a,encryptedSecret:l}=F4(i),{identifier:u,iterationExponent:c}=a;return X4(l,"",c,u,a.extendable)}Z1(WE);const g1={private:76066276,public:76067358};function Qr(){const e=Wo();return Ss[e].bitcoinNetwork}function zb(){const e=Qr();return{private:e.bip32.private,public:e.bip32.public}}function sd(e){const i=zb();if(e.startsWith("tpub")||e.startsWith("tprv"))return Gn.fromExtendedKey(e,i);if(e.startsWith("xpub")||e.startsWith("xprv"))return Gn.fromExtendedKey(e,g1);try{return Gn.fromExtendedKey(e,i)}catch{return Gn.fromExtendedKey(e,g1)}}function Z4(){const e=new Uint8Array(16);return crypto.getRandomValues(e),P4(e)}async function Mn(e){const i=await $4(e);return Gn.fromMasterSeed(i,zb())}function Di(e,i,a,l=0){const u=`${_s}/${i}'/${l}/${a}`,c=e.derive(u);if(!c.publicKey)throw new Error("Failed to derive public key");const h=we.Buffer.from(c.publicKey);return ta({internalPubkey:h.slice(1,33),network:Qr()}).address}function Q4(e,i,a,l=0){const u=`${_s}/${i}'/${l}/${a}`,c=e.derive(u);if(!c.privateKey)throw new Error("Failed to derive private key");return we.Buffer.from(c.privateKey)}function Ja(e,i,a,l=0){return Lb(e,i,a,l).address}function Lb(e,i,a,l=0){const u=sd(e),c=sd(i),h=u.deriveChild(l).deriveChild(a),d=c.deriveChild(l).deriveChild(a);if(!h.publicKey||!d.publicKey)throw new Error("Failed to derive multisig child keys");const p=Ns({m:2,pubkeys:[we.Buffer.from(h.publicKey),we.Buffer.from(d.publicKey)].sort(we.Buffer.compare),network:Qr()}),y=nl({redeem:p,network:Qr()});if(!y.address)throw new Error("Failed to derive inheritance address");if(!y.output||!p.output)throw new Error("Failed to derive inheritance script");return{address:y.address,output:we.Buffer.from(y.output),witnessScript:we.Buffer.from(p.output)}}function W4(e){const i=sd(e);if(!i.publicExtendedKey)throw new Error("Kl neobsahuje veejnou extended st");return i.publicExtendedKey}Z1(WE);const tl=10;function Vd(e){return(e>>>0).toString(16).padStart(8,"0")}function na(e){const i=`${_s}/0'`,a=e.derive(i);if(!a.publicExtendedKey)throw new Error("Nepodailo se vytvoit lokln tpub");return{fingerprint:Vd(e.fingerprint),xpub:a.publicExtendedKey,derivationPath:i}}function J4(e,i,a,l){const u=[`${e}:${i}`,`${a}:${l}`].sort().join("|");let c=2166136261;for(let h=0;h<u.length;h++)c^=u.charCodeAt(h),c=Math.imul(c,16777619);return`inheritance-${(c>>>0).toString(16).padStart(8,"0")}`}async function t6(e){const i=await Mn(e);return Vd(i.fingerprint)}async function e6(e){const i=await Mn(e),a=na(i);return{fingerprint:a.fingerprint,tpub:a.xpub,derivationPath:a.derivationPath}}function n6(e){return e.trim().toLowerCase().replace(/^0x/,"").padStart(8,"0")}function i6(e){return e.replace(/\s+/g,"").trim()}function r6(e){const i=n6(e.fingerprint);if(!/^[0-9a-f]{8}$/i.test(i))throw new Error("Fingerprint protistrany mus mt 8 hex znak");const a=i6(e.xpub);if(!a)throw new Error("tpub/xpub protistrany je przdn");try{return{fingerprint:i,xpub:W4(a)}}catch(l){const u=l instanceof Error?` (${l.message})`:"";throw new Error(`Neplatn xpub/tpub protistrany${u}`)}}function jb(e,i){const a=e.localRole||"user",l=e.localFingerprint||i.fingerprint,u=e.localXpub||i.xpub,c=e.counterpartyFingerprint||e.heirFingerprint||"",h=e.counterpartyXpub||e.heirXpub||"";return{localRole:a,localXpub:u,counterpartyXpub:h,userFingerprint:a==="user"?l:c,userXpub:a==="user"?u:h,heirFingerprint:a==="heir"?l:c,heirXpub:a==="heir"?u:h}}async function Kb(e){const i=new Set(e.derivedAddresses.map(l=>l.address)),a=new Map;for(const l of e.derivedAddresses){const u=await gT(l.address,i);for(const c of u)a.has(c.txid)||a.set(c.txid,c)}return Array.from(a.values()).sort((l,u)=>u.timestamp-l.timestamp).slice(0,10)}async function Lo(e){return await Promise.all(e.map(async({index:a,address:l})=>{const[u,c]=await Promise.all([Cd(l),Hs(l)]),h=c.reduce((d,p)=>d+p.value,0);return{index:a,address:l,totalReceived:u.funded,currentBalance:Math.max(u.balance,h,0),hasUnspent:h>0}}))}function a6(e,i){return{receive:Array.from({length:tl},(a,l)=>({index:l,address:Di(e,i,l,0)})),change:Array.from({length:tl},(a,l)=>({index:l,address:Di(e,i,l,1)}))}}function l6(e,i){return{receive:Array.from({length:tl},(a,l)=>({index:l,address:Ja(e,i,l,0)})),change:Array.from({length:tl},(a,l)=>({index:l,address:Ja(e,i,l,1)}))}}async function s6(e,i){if(i.type!=="standard")return null;const l=li().findIndex(E=>E.id===i.id);if(l===-1)throw new Error("et nebyl nalezen");const u=await Mn(e),c=`${_s}/${l}'`,h=u.derive(c),d=a6(u,l),[p,y,m]=await Promise.all([Kb(i),Lo(d.receive),Lo(d.change)]);return{masterFingerprint:Vd(u.fingerprint),accountXpub:h.publicExtendedKey||"",derivationPath:c,transactions:p,receiveAddresses:y,changeAddresses:m}}async function u6(e,i){if(i.type!=="inheritance")return null;const a=await Mn(e),l=na(a),u=jb(i,l),c=u.counterpartyXpub?l6(u.localXpub,u.counterpartyXpub):{receive:[],change:[]},[h,d,p]=await Promise.all([Kb(i),Lo(c.receive),Lo(c.change)]);return{localRole:u.localRole,userFingerprint:u.userFingerprint,userXpub:u.userXpub,heirFingerprint:u.heirFingerprint,heirXpub:u.heirXpub,derivationPath:i.identityDerivationPath||l.derivationPath,spendingConditions:i.spendingConditions||fd,transactions:h,receiveAddresses:d,changeAddresses:p}}async function o6(){const i={mnemonic:Z4(),createdAt:Date.now()};return JE(i),await Yd(i.mnemonic,"Mj et"),i}async function c6(e){if(!Db(e))return null;const a={mnemonic:e,createdAt:Date.now()};return JE(a),await p6(a.mnemonic),li().length===0&&await Yd(a.mnemonic,"Mj et"),a}async function Yd(e,i){const a=await Mn(e),l=li(),u=l.length,c=Di(a,u,0),h={id:`account-${Date.now()}`,name:i,type:"standard",balance:0,addressIndex:1,derivedAddresses:[{index:0,address:c,change:!1,used:!1}]};return l.push(h),sl(l),h}async function f6(e,i,a,l="user",u=fd){const c=await Mn(e),h=li(),d=na(c),p=r6(a);let y="";try{y=Ja(d.xpub,p.xpub,0,0)}catch(_){const x=_ instanceof Error?` (${_.message})`:"";throw new Error(`Neplatn xpub/tpub protistrany${x}`)}const m=J4(d.fingerprint,d.xpub,p.fingerprint,p.xpub),E=h.find(_=>_.id===m);if(E)return E;const v={id:m,name:i,type:"inheritance",balance:0,addressIndex:1,derivedAddresses:[{index:0,address:y,change:!1,used:!1}],localRole:l,localFingerprint:d.fingerprint,localXpub:d.xpub,counterpartyFingerprint:p.fingerprint,counterpartyXpub:p.xpub,identityDerivationPath:d.derivationPath,heirFingerprint:p.fingerprint,heirXpub:p.xpub,heirName:a.name,spendingConditions:u,inheritanceStatus:{blocksSinceFunding:0,canUserSpend:!1,canHeirSpend:!1,requiresMultisig:!1}};return h.push(v),sl(h),v}async function h6(e,i){const a=li(),l=a.findIndex(v=>v.id===e.id);if(l===-1)return e;const u=await Mn(i),c=new Map(e.derivedAddresses.map(v=>[v.address,v])),h=[...e.derivedAddresses],d=v=>{c.has(v.address)||(c.set(v.address,v),h.push(v))};if(e.type==="standard")for(let v=0;v<tl;v++)d({index:v,address:Di(u,l,v,0),change:!1,used:!1}),d({index:v,address:Di(u,l,v,1),change:!0,used:!1});else{const v=na(u),_=e.localXpub||v.xpub,x=e.counterpartyXpub||e.heirXpub;if(x)for(let U=0;U<tl;U++)d({index:U,address:Ja(_,x,U,0),change:!1,used:!1}),d({index:U,address:Ja(_,x,U,1),change:!0,used:!1})}let p=0;const y=[];for(const v of h){const[_,x]=await Promise.all([Cd(v.address),Hs(v.address)]),U=x.reduce((M,L)=>M+L.value,0),C=Math.max(U,_.balance,0),z=e.derivedAddresses.some(M=>M.address===v.address),X=_.funded>0||x.length>0||v.used;!z&&!X||(p+=C,y.push({...v,balance:C,used:X}))}y.sort((v,_)=>{const x=v.change?1:0,U=_.change?1:0;return x!==U?x-U:v.index-_.index});const m=y.filter(v=>!v.change).reduce((v,_)=>Math.max(v,_.index),-1),E={...e,balance:p,addressIndex:Math.max(e.addressIndex,m+1),derivedAddresses:y};return e.type==="inheritance"&&e.spendingConditions&&(E.inheritanceStatus=await d6(e.spendingConditions,y)),a[l]=E,sl(a),E}async function d6(e,i){const a=i.filter(u=>u.used);let l=0;if(a.length>0){const[u,c]=await Promise.all([dT(),Promise.all(a.map(p=>pT(p.address)))]),h=c.filter(p=>p!==null),d=h.length>0?Math.min(...h):null;u!==null&&d!==null&&(l=Math.max(0,u-d))}return{blocksSinceFunding:l,canUserSpend:l>=e.userOnlyAfterBlocks,canHeirSpend:l>=e.heirOnlyAfterBlocks,requiresMultisig:l>=e.multisigAfterBlocks&&l<e.userOnlyAfterBlocks}}async function p6(e){const i=await Mn(e);for(let a=0;a<5;a++){const l=Di(i,a,0);await yT(l)>0&&await Yd(e,`et ${a+1}`)}}function y6(e){const i=e.derivedAddresses.find(a=>!a.change&&!a.used);return i||null}async function g6(e,i){const a=await Mn(e),l=li(),u=l.findIndex(m=>m.id===i.id),c=i.derivedAddresses.filter(m=>!m.change).length,h=na(a),d=i.counterpartyXpub||i.heirXpub,p=i.type==="inheritance"&&d?Ja(i.localXpub||h.xpub,d,c,0):Di(a,u,c),y={index:c,address:p,change:!1,used:!1};return i.derivedAddresses.push(y),i.addressIndex=c+1,l[u]=i,sl(l),y}function po(e,i,a){const l=10+e*58+i*43;return Math.ceil(l*a)}function yo(e,i,a){const l=12+e*110+i*43;return Math.ceil(l*a)}function m6(e){return e.length===32?e:e.slice(1,33)}function E6(e){let i=we.Buffer.from(e);const a=Ho(i,!0);if(!a)throw new Error("Invalid private key");if(a[0]===3){const h=ZE(i);if(!h)throw new Error("Failed to negate private key");i=we.Buffer.from(h)}const l=Us("TapTweak",m6(we.Buffer.from(a))),u=$E(i,l);if(!u)throw new Error("Failed to tweak private key");const c=Ho(u,!0);if(!c)throw new Error("Failed to derive tweaked public key");return{publicKey:we.Buffer.from(c),sign:h=>we.Buffer.from(Bd(h,u)),signSchnorr:h=>we.Buffer.from(QE(h,u))}}function Gb(e){const i=we.Buffer.from(e),a=Ho(i,!0);if(!a)throw new Error("Invalid private key");return{publicKey:we.Buffer.from(a),sign:l=>we.Buffer.from(Bd(l,i))}}function b6(e,i){const a=e.find(y=>y.type==="standard");if(!a)throw new Error("Pro change je poteba alespo jeden standardn et");const l=e.findIndex(y=>y.id===a.id);if(l===-1)throw new Error("Hlavn et nebyl nalezen");const u=a.derivedAddresses.filter(y=>!y.change).map(y=>y.index),c=u.length>0?Math.max(...u):-1,h=Math.max(a.addressIndex,c+1),d=Di(i,l,h,0),p=a.derivedAddresses.find(y=>y.address===d);return p?p.used=!0:a.derivedAddresses.push({index:h,address:d,change:!1,used:!0,balance:0}),a.addressIndex=Math.max(a.addressIndex,h+1),d}function Xb(e,i){return e.identityDerivationPath||i}function w6(e,i){return we.Buffer.from(e.txInputs[i].hash).reverse().toString("hex")}async function v6(e,i,a,l,u){if(i.type!=="inheritance")throw new Error("Tato funkce je pouze pro ddick et");const c=Qr(),h=li(),d=h.findIndex(W=>W.id===i.id);if(d===-1)throw new Error("et nebyl nalezen");const p=h[d],y=p.inheritanceStatus;if(!y||!y.requiresMultisig)throw new Error("Spolen utrcen zatm nen dostupn");if(!Number.isInteger(l)||l<=0)throw new Error("Neplatn stka v satech");if(!Number.isFinite(u)||u<=0)throw new Error("Neplatn fee rate");try{wd(a,c)}catch{throw new Error("Neplatn adresa pjemce pro aktivn s")}const m=await Mn(e),E=na(m),v=jb(p,E);if(!v.counterpartyXpub)throw new Error("Chyb xpub protistrany");const _=[];for(const W of p.derivedAddresses){const ct=await Hs(W.address),ut=W.change?1:0;for(const Tt of ct)_.push({txid:Tt.txid,vout:Tt.vout,value:Tt.value,addressIndex:W.index,change:ut})}if(_.length===0)throw new Error("dn UTXO k utracen");_.sort((W,ct)=>ct.value-W.value);const x=[];let U=0;const C=330;for(const W of _){x.push(W),U+=W.value;const ct=yo(x.length,2,u);if(U>=l+ct)break;const ut=yo(x.length,1,u);if(U>=l+ut)break}let z=yo(x.length,2,u),X=U-l-z;const M=X>=C;if(M||(z=yo(x.length,1,u),X=U-l-z),X<0)throw new Error("Nedostatek prostedk vetn poplatku");const L=new Za({network:c});for(const W of x){const ct=Lb(v.userXpub,v.heirXpub,W.addressIndex,W.change);L.addInput({hash:W.txid,index:W.vout,witnessUtxo:{script:ct.output,value:BigInt(W.value)},witnessScript:ct.witnessScript})}L.addOutput({address:a,value:BigInt(l)});let F="";M&&X>0&&(F=b6(h,m),L.addOutput({address:F,value:BigInt(X)}));const nt=Xb(p,E.derivationPath);for(let W=0;W<x.length;W++){const ct=x[W],ut=m.derive(`${nt}/${ct.change}/${ct.addressIndex}`);if(!ut.privateKey)throw new Error("Nepodailo se odvodit privtn kl pro podpis");const Tt=Gb(we.Buffer.from(ut.privateKey));L.signInput(W,Tt)}return sl(h),{psbt:L.toBase64(),fee:z,changeAmount:Math.max(X,0),changeAddress:F}}async function A6(e,i,a){if(i.type!=="inheritance")throw new Error("Tato funkce je pouze pro ddick et");const l=Qr(),u=li(),c=u.findIndex(x=>x.id===i.id);if(c===-1)throw new Error("et nebyl nalezen");const h=u[c],d=await Mn(e),p=na(d),y=Xb(h,p.derivationPath),m=Za.fromBase64(a.trim(),{network:l}),E=new Map;for(const x of h.derivedAddresses){const U=await Hs(x.address),C=x.change?1:0;for(const z of U)E.set(`${z.txid}:${z.vout}`,{index:x.index,change:C})}if(E.size===0)throw new Error("dn dostupn UTXO pro dopodepsn");for(let x=0;x<m.txInputs.length;x++){const U=w6(m,x),C=m.txInputs[x].index,z=E.get(`${U}:${C}`);if(!z)throw new Error("PSBT obsahuje vstup, kter nepat tomuto ddickmu tu");const X=d.derive(`${y}/${z.change}/${z.index}`);if(!X.privateKey)throw new Error("Nepodailo se odvodit privtn kl pro dopodepsn");const M=Gb(we.Buffer.from(X.privateKey));m.signInput(x,M)}m.finalizeAllInputs();const v=m.extractTransaction().toHex();return await tb(v)}async function S6(e,i,a,l,u){if(i.type==="inheritance")throw new Error("Utrcen z ddickho tu zatm nen implementovno podle timelock podmnek.");const c=Qr(),h=li(),d=h.findIndex(nt=>nt.id===i.id);if(d===-1)throw new Error("et nebyl nalezen");if(!Number.isInteger(l)||l<=0)throw new Error("Neplatn stka v satech");if(!Number.isFinite(u)||u<=0)throw new Error("Neplatn fee rate");try{wd(a,c)}catch{throw new Error("Neplatn adresa pjemce pro aktivn s")}const p=await Mn(e),y=[];for(const nt of i.derivedAddresses){const W=await Hs(nt.address),ct=nt.change?1:0;for(const ut of W)y.push({txid:ut.txid,vout:ut.vout,value:ut.value,addressIndex:nt.index,change:ct})}if(y.length===0)throw new Error("dn UTXO k utracen");y.sort((nt,W)=>W.value-nt.value);const m=[];let E=0;const v=330;for(const nt of y){m.push(nt),E+=nt.value;const W=po(m.length,2,u);if(E>=l+W)break;const ct=po(m.length,1,u);if(E>=l+ct)break}let _=po(m.length,2,u),x=E-l-_;const U=x>=v;if(U||(_=po(m.length,1,u),x=E-l-_),x<0)throw new Error("Nedostatek prostedk vetn poplatku");const C=new Za({network:c});for(const nt of m){const W=`${_s}/${d}'/${nt.change}/${nt.addressIndex}`,ct=p.derive(W);if(!ct.publicKey)throw new Error("Nepodailo se odvodit veejn kl pro vstup");const ut=we.Buffer.from(ct.publicKey).slice(1,33),Tt=ta({internalPubkey:ut,network:c});if(!Tt.output)throw new Error("Nepodailo se vytvoit output script");C.addInput({hash:nt.txid,index:nt.vout,witnessUtxo:{script:Tt.output,value:BigInt(nt.value)},tapInternalKey:ut})}C.addOutput({address:a,value:BigInt(l)});const z=h[d],X=z.derivedAddresses.filter(nt=>nt.change).sort((nt,W)=>nt.index-W.index);let M=X.find(nt=>!nt.used);if(!M){const nt=X.length>0?Math.max(...X.map(ct=>ct.index))+1:0,W=Di(p,d,nt,1);M={index:nt,address:W,change:!0,used:!1,balance:0},z.derivedAddresses.push(M)}U&&x>0&&(C.addOutput({address:M.address,value:BigInt(x)}),M.used=!0);for(let nt=0;nt<m.length;nt++){const W=m[nt],ct=Q4(p,d,W.addressIndex,W.change),ut=E6(ct);C.signInput(nt,ut)}C.finalizeAllInputs();const L=C.extractTransaction().toHex(),F=await tb(L);return sl(h),F}function m1(e){return e===1?"blok":e>=2&&e<=4?"bloky":"blok"}function _6(e,i,a){const l=Math.max(0,a.multisigAfterBlocks-i),u=e==="user"?a.userOnlyAfterBlocks:a.heirOnlyAfterBlocks,c=Math.max(0,u-i);if(c===0)return{disabled:!1,reason:"Odesln je dostupn i samostatn."};if(l>0){const h=e==="user"?"ddicem":"uivatelem";return{disabled:!0,reason:`Za ${l} ${m1(l)} s ${h}.`}}return{disabled:!1,reason:`Spolen odesln je mon hned. Za ${c} ${m1(c)} pjde odeslat samostatn.`}}function x6({account:e,mnemonic:i,onBack:a,onRefresh:l,onReceive:u,onSend:c}){const[h,d]=xt.useState(null),[p,y]=xt.useState(null),[m,E]=xt.useState(!0),v=xt.useCallback(async()=>{if(E(!0),e.type==="standard"){const X=await s6(i,e);d(X),y(null)}else{const X=await u6(i,e);y(X),d(null)}E(!1)},[e,i]);xt.useEffect(()=>{const X=window.setTimeout(()=>{v()},0);return()=>{window.clearTimeout(X)}},[v]);const _=e.type==="standard"?h?.transactions??[]:p?.transactions??[],x=e.type==="standard"?h?.receiveAddresses??[]:p?.receiveAddresses??[],U=e.type==="standard"?h?.changeAddresses??[]:p?.changeAddresses??[],C=e.type==="inheritance"&&p?_6(p.localRole,e.inheritanceStatus?.blocksSinceFunding||0,p.spendingConditions):null,z=(X,M)=>O.jsxs("div",{className:"address-audit-block",children:[O.jsx("h4",{children:X}),M.length===0&&O.jsx("div",{className:"detail-loading",children:"Bez dat."}),M.map(L=>O.jsxs("div",{className:"address-audit-item",children:[O.jsxs("div",{className:"address-audit-head",children:[O.jsxs("span",{children:["#",L.index]}),O.jsx("span",{className:`audit-badge ${L.hasUnspent?"yes":"no"}`,children:L.hasUnspent?"M zstatek":"Bez zstatku"})]}),O.jsx("div",{className:"mono wrap address-audit-address",children:L.address}),O.jsxs("div",{className:"address-audit-stats",children:[O.jsxs("span",{children:["Poslno celkem: ",L.totalReceived.toLocaleString("cs-CZ")," sats"]}),O.jsxs("span",{children:["Zbv: ",L.currentBalance.toLocaleString("cs-CZ")," sats"]})]})]},`${X}-${L.index}`))]});return O.jsxs("div",{className:"account-detail-page",children:[O.jsxs("div",{className:"account-detail-header",children:[O.jsx("button",{className:"back-btn",onClick:a,children:" Zpt"}),O.jsx("button",{className:"refresh-btn",title:"Obnovit",onClick:async()=>{await l(),await v()},children:""})]}),O.jsxs("div",{className:"detail-balance-card",children:[O.jsx("div",{className:"detail-account-name",children:e.name}),O.jsx("div",{className:"detail-account-type",children:e.type==="standard"?"Standardn et":"Ddick et"}),O.jsxs("div",{className:"detail-account-balance",children:[e.balance.toLocaleString("cs-CZ")," sats"]})]}),O.jsxs("div",{className:"detail-action-row",children:[O.jsx("button",{className:"detail-action-btn receive",onClick:()=>u(e),children:"Pijmout prostedky"}),e.type==="standard"?O.jsx("button",{className:"detail-action-btn send",onClick:()=>c(e),children:"Odeslat"}):O.jsx("button",{className:"detail-action-btn send",onClick:()=>c(e),disabled:C?.disabled??!0,title:C?.reason||"Odesln zatm nen dostupn",children:"Odeslat"})]}),e.type==="inheritance"&&C&&O.jsx("div",{className:"detail-send-hint",children:C.reason}),O.jsxs("div",{className:"detail-info-card",children:[O.jsx("h3",{children:"Informace o tu"}),m&&O.jsx("div",{className:"detail-loading",children:"Natn detail..."}),!m&&e.type==="standard"&&h&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"detail-row",children:[O.jsx("span",{children:"Fingerprint"}),O.jsx("span",{className:"mono",children:h.masterFingerprint})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"Derivan cesta"}),O.jsx("span",{className:"mono",children:h.derivationPath})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"tpub (account extended public key)"}),O.jsx("span",{className:"mono wrap",children:h.accountXpub})]})]}),!m&&e.type==="inheritance"&&p&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"detail-row",children:[O.jsx("span",{children:"Moje role"}),O.jsx("span",{children:p.localRole==="user"?"Uivatel":"Ddic"})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"Derivan cesta"}),O.jsx("span",{className:"mono",children:p.derivationPath})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"Fingerprint uivatele"}),O.jsx("span",{className:"mono",children:p.userFingerprint})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"Fingerprint ddice"}),O.jsx("span",{className:"mono",children:p.heirFingerprint})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"tpub uivatele"}),O.jsx("span",{className:"mono wrap",children:p.userXpub})]}),O.jsxs("div",{className:"detail-row vertical",children:[O.jsx("span",{children:"tpub ddice"}),O.jsx("span",{className:"mono wrap",children:p.heirXpub})]}),O.jsxs("div",{className:"timelock-box",children:[O.jsxs("div",{children:["0",p.spendingConditions.noSpendBlocks-1," ","blok: nikdo"]}),O.jsxs("div",{children:["od ",p.spendingConditions.multisigAfterBlocks," ","blok: uivatel + ddic"]}),O.jsxs("div",{children:["od ",p.spendingConditions.userOnlyAfterBlocks," ","blok: uivatel"]}),O.jsxs("div",{children:["od ",p.spendingConditions.heirOnlyAfterBlocks," ","blok: ddic"]})]})]})]}),O.jsxs("div",{className:"detail-info-card",children:[O.jsx("h3",{children:"Transakn historie"}),!m&&_.length===0&&O.jsx("div",{className:"detail-loading",children:"Zatm bez transakc."}),_.map(X=>O.jsxs("div",{className:"tx-item",children:[O.jsxs("div",{className:"tx-main-row",children:[O.jsx("span",{className:`tx-type ${X.type==="incoming"?"in":"out"}`,children:X.type==="incoming"?"Pchoz":"Odchoz"}),O.jsxs("span",{className:"tx-amount",children:[X.amount.toLocaleString("cs-CZ")," sats"]})]}),O.jsxs("div",{className:"tx-sub-row",children:[O.jsxs("span",{className:"mono",children:[X.txid.slice(0,10),""]}),O.jsx("span",{children:new Date(X.timestamp*1e3).toLocaleString("cs-CZ")})]})]},X.txid))]}),O.jsxs("div",{className:"detail-info-card",children:[O.jsx("h3",{children:"Kontrola adres (prvnch 10)"}),m&&O.jsx("div",{className:"detail-loading",children:"Natn adres..."}),!m&&O.jsxs("div",{className:"address-audit-grid",children:[z("Receive adresy",x),z("Change adresy",U)]})]})]})}function T6({mnemonic:e,onClose:i}){const[a,l]=xt.useState("user"),[u,c]=xt.useState("Ddick et"),[h,d]=xt.useState(""),[p,y]=xt.useState(""),[m,E]=xt.useState(!1),[v,_]=xt.useState(""),[x,U]=xt.useState(null);xt.useEffect(()=>{const z=window.setTimeout(()=>{e6(e).then(X=>U(X)).catch(()=>{_("Nepodailo se nast lokln identitu")})},0);return()=>{window.clearTimeout(z)}},[e]);const C=async()=>{_("");const z=h.trim().replace(/^0x/,""),X=p.replace(/\s+/g,"").trim();if(!u.trim()){_("Zadejte nzev tu");return}if(!/^[0-9a-fA-F]{8}$/.test(z)){_("Fingerprint ddice mus mt 8 hex znak");return}if(!X){_("Zadejte tpub/xpub ddice");return}E(!0);try{await f6(e,u.trim(),{id:`heir-${Date.now()}`,name:a==="user"?"Ddic":"Uivatel",fingerprint:z,xpub:X},a,fd),i()}catch(M){const L=M instanceof Error?M.message:"Chyba pi vytven ddickho tu";_(L)}finally{E(!1)}};return O.jsx("div",{className:"modal-overlay",onClick:i,children:O.jsxs("div",{className:"modal-content modal-large",onClick:z=>z.stopPropagation(),children:[O.jsxs("div",{className:"modal-header",children:[O.jsx("h2",{children:"Pidat ddick et"}),O.jsx("button",{className:"modal-close",onClick:i,children:""})]}),O.jsxs("div",{className:"modal-body",children:[O.jsx("p",{className:"step-description",children:"Zadejte daje protistrany. Pokud ob strany pouij stejn pr fingerprint+tpub, vznikne stejn spolen et. Podmnky: 04 bloky nikdo, od 5 blok uivatel + ddic, od 10 blok uivatel, od 20 blok ddic."}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Moje role"}),O.jsxs("div",{className:"fee-options",children:[O.jsx("button",{type:"button",className:`fee-btn ${a==="user"?"active":""}`,onClick:()=>l("user"),children:"Jsem uivatel"}),O.jsx("button",{type:"button",className:`fee-btn ${a==="heir"?"active":""}`,onClick:()=>l("heir"),children:"Jsem ddic"})]})]}),x&&O.jsxs("div",{className:"summary-box",children:[O.jsx("h4",{children:"Moje daje ke sdlen"}),O.jsxs("div",{className:"summary-item",children:[O.jsx("span",{children:"Fingerprint"}),O.jsx("span",{children:x.fingerprint})]}),O.jsxs("div",{className:"summary-item",children:[O.jsx("span",{children:"Derivan cesta"}),O.jsx("span",{children:x.derivationPath})]}),O.jsxs("div",{className:"summary-item mono",children:[O.jsx("span",{children:"tpub"}),O.jsxs("span",{children:[x.tpub.slice(0,32),""]})]})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Nzev tu"}),O.jsx("input",{type:"text",value:u,onChange:z=>c(z.target.value),className:"form-input"})]}),O.jsxs("div",{className:"form-group",children:[O.jsxs("label",{children:["Fingerprint protistrany (",a==="user"?"ddice":"uivatele",")"]}),O.jsx("input",{type:"text",value:h,onChange:z=>d(z.target.value),placeholder:"nap. d90c6a4f",className:"form-input"})]}),O.jsxs("div",{className:"form-group",children:[O.jsxs("label",{children:["tpub protistrany (",a==="user"?"ddice":"uivatele",")"]}),O.jsx("textarea",{value:p,onChange:z=>y(z.target.value),placeholder:"tpub...",className:"form-input",rows:3})]}),v&&O.jsx("div",{className:"error-message",children:v}),O.jsx("button",{onClick:C,disabled:m||!h||!p,className:"btn-primary btn-full",children:m?"Vytven...":"Vytvoit spolen et"})]})]})})}function N6({mnemonic:e,network:i,onNetworkChange:a,onLogout:l}){const[u,c]=xt.useState(!1),[h,d]=xt.useState(!1),p=()=>{navigator.clipboard.writeText(e),d(!0),setTimeout(()=>d(!1),2e3),c(!1)},y=()=>{fT(),l()},m=()=>{a(i==="testnet"?"signet":"testnet"),c(!1)};return O.jsxs("div",{className:"menu-bar",children:[O.jsxs("div",{className:"menu-title",children:["Bitcoin ",Ss[i].label]}),O.jsxs("div",{className:"menu-container",children:[O.jsxs("button",{className:"menu-button",onClick:()=>c(!u),children:[O.jsx("span",{}),O.jsx("span",{}),O.jsx("span",{})]}),u&&O.jsxs("div",{className:"menu-dropdown",children:[O.jsxs("button",{onClick:p,className:"menu-item",children:[O.jsx("span",{className:"menu-icon",children:""}),h?"Zkoprovno!":"Zkoprovat seed"]}),O.jsxs("button",{onClick:m,className:"menu-item",children:[O.jsx("span",{className:"menu-icon",children:""}),"Pepnout na ",i==="testnet"?"Signet":"Testnet"]}),O.jsxs("button",{onClick:y,className:"menu-item menu-item-danger",children:[O.jsx("span",{className:"menu-icon",children:""}),"Odhlsit se"]})]})]}),u&&O.jsx("div",{className:"menu-overlay",onClick:()=>c(!1)})]})}var U6=Object.defineProperty,jo=Object.getOwnPropertySymbols,Vb=Object.prototype.hasOwnProperty,Yb=Object.prototype.propertyIsEnumerable,E1=(e,i,a)=>i in e?U6(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a,ud=(e,i)=>{for(var a in i||(i={}))Vb.call(i,a)&&E1(e,a,i[a]);if(jo)for(var a of jo(i))Yb.call(i,a)&&E1(e,a,i[a]);return e},od=(e,i)=>{var a={};for(var l in e)Vb.call(e,l)&&i.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&jo)for(var l of jo(e))i.indexOf(l)<0&&Yb.call(e,l)&&(a[l]=e[l]);return a};var Wr;(e=>{const i=class It{constructor(p,y,m,E){if(this.version=p,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],p<It.MIN_VERSION||p>It.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let v=[];for(let x=0;x<this.size;x++)v.push(!1);for(let x=0;x<this.size;x++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const _=this.addEccAndInterleave(m);if(this.drawCodewords(_),E==-1){let x=1e9;for(let U=0;U<8;U++){this.applyMask(U),this.drawFormatBits(U);const C=this.getPenaltyScore();C<x&&(E=U,x=C),this.applyMask(U)}}u(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(p,y){const m=e.QrSegment.makeSegments(p);return It.encodeSegments(m,y)}static encodeBinary(p,y){const m=e.QrSegment.makeBytes(p);return It.encodeSegments([m],y)}static encodeSegments(p,y,m=1,E=40,v=-1,_=!0){if(!(It.MIN_VERSION<=m&&m<=E&&E<=It.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let x,U;for(x=m;;x++){const M=It.getNumDataCodewords(x,y)*8,L=h.getTotalBits(p,x);if(L<=M){U=L;break}if(x>=E)throw new RangeError("Data too long")}for(const M of[It.Ecc.MEDIUM,It.Ecc.QUARTILE,It.Ecc.HIGH])_&&U<=It.getNumDataCodewords(x,M)*8&&(y=M);let C=[];for(const M of p){a(M.mode.modeBits,4,C),a(M.numChars,M.mode.numCharCountBits(x),C);for(const L of M.getData())C.push(L)}u(C.length==U);const z=It.getNumDataCodewords(x,y)*8;u(C.length<=z),a(0,Math.min(4,z-C.length),C),a(0,(8-C.length%8)%8,C),u(C.length%8==0);for(let M=236;C.length<z;M^=253)a(M,8,C);let X=[];for(;X.length*8<C.length;)X.push(0);return C.forEach((M,L)=>X[L>>>3]|=M<<7-(L&7)),new It(x,y,X,v)}getModule(p,y){return 0<=p&&p<this.size&&0<=y&&y<this.size&&this.modules[y][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),y=p.length;for(let m=0;m<y;m++)for(let E=0;E<y;E++)m==0&&E==0||m==0&&E==y-1||m==y-1&&E==0||this.drawAlignmentPattern(p[m],p[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const y=this.errorCorrectionLevel.formatBits<<3|p;let m=y;for(let v=0;v<10;v++)m=m<<1^(m>>>9)*1335;const E=(y<<10|m)^21522;u(E>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,l(E,v));this.setFunctionModule(8,7,l(E,6)),this.setFunctionModule(8,8,l(E,7)),this.setFunctionModule(7,8,l(E,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,l(E,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,l(E,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,l(E,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let m=0;m<12;m++)p=p<<1^(p>>>11)*7973;const y=this.version<<12|p;u(y>>>18==0);for(let m=0;m<18;m++){const E=l(y,m),v=this.size-11+m%3,_=Math.floor(m/3);this.setFunctionModule(v,_,E),this.setFunctionModule(_,v,E)}}drawFinderPattern(p,y){for(let m=-4;m<=4;m++)for(let E=-4;E<=4;E++){const v=Math.max(Math.abs(E),Math.abs(m)),_=p+E,x=y+m;0<=_&&_<this.size&&0<=x&&x<this.size&&this.setFunctionModule(_,x,v!=2&&v!=4)}}drawAlignmentPattern(p,y){for(let m=-2;m<=2;m++)for(let E=-2;E<=2;E++)this.setFunctionModule(p+E,y+m,Math.max(Math.abs(E),Math.abs(m))!=1)}setFunctionModule(p,y,m){this.modules[y][p]=m,this.isFunction[y][p]=!0}addEccAndInterleave(p){const y=this.version,m=this.errorCorrectionLevel;if(p.length!=It.getNumDataCodewords(y,m))throw new RangeError("Invalid argument");const E=It.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][y],v=It.ECC_CODEWORDS_PER_BLOCK[m.ordinal][y],_=Math.floor(It.getNumRawDataModules(y)/8),x=E-_%E,U=Math.floor(_/E);let C=[];const z=It.reedSolomonComputeDivisor(v);for(let M=0,L=0;M<E;M++){let F=p.slice(L,L+U-v+(M<x?0:1));L+=F.length;const nt=It.reedSolomonComputeRemainder(F,z);M<x&&F.push(0),C.push(F.concat(nt))}let X=[];for(let M=0;M<C[0].length;M++)C.forEach((L,F)=>{(M!=U-v||F>=x)&&X.push(L[M])});return u(X.length==_),X}drawCodewords(p){if(p.length!=Math.floor(It.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let E=0;E<this.size;E++)for(let v=0;v<2;v++){const _=m-v,U=(m+1&2)==0?this.size-1-E:E;!this.isFunction[U][_]&&y<p.length*8&&(this.modules[U][_]=l(p[y>>>3],7-(y&7)),y++)}}u(y==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let m=0;m<this.size;m++){let E;switch(p){case 0:E=(m+y)%2==0;break;case 1:E=y%2==0;break;case 2:E=m%3==0;break;case 3:E=(m+y)%3==0;break;case 4:E=(Math.floor(m/3)+Math.floor(y/2))%2==0;break;case 5:E=m*y%2+m*y%3==0;break;case 6:E=(m*y%2+m*y%3)%2==0;break;case 7:E=((m+y)%2+m*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][m]&&E&&(this.modules[y][m]=!this.modules[y][m])}}getPenaltyScore(){let p=0;for(let v=0;v<this.size;v++){let _=!1,x=0,U=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[v][C]==_?(x++,x==5?p+=It.PENALTY_N1:x>5&&p++):(this.finderPenaltyAddHistory(x,U),_||(p+=this.finderPenaltyCountPatterns(U)*It.PENALTY_N3),_=this.modules[v][C],x=1);p+=this.finderPenaltyTerminateAndCount(_,x,U)*It.PENALTY_N3}for(let v=0;v<this.size;v++){let _=!1,x=0,U=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][v]==_?(x++,x==5?p+=It.PENALTY_N1:x>5&&p++):(this.finderPenaltyAddHistory(x,U),_||(p+=this.finderPenaltyCountPatterns(U)*It.PENALTY_N3),_=this.modules[C][v],x=1);p+=this.finderPenaltyTerminateAndCount(_,x,U)*It.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let _=0;_<this.size-1;_++){const x=this.modules[v][_];x==this.modules[v][_+1]&&x==this.modules[v+1][_]&&x==this.modules[v+1][_+1]&&(p+=It.PENALTY_N2)}let y=0;for(const v of this.modules)y=v.reduce((_,x)=>_+(x?1:0),y);const m=this.size*this.size,E=Math.ceil(Math.abs(y*20-m*10)/m)-1;return u(0<=E&&E<=9),p+=E*It.PENALTY_N4,u(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let m=[6];for(let E=this.size-7;m.length<p;E-=y)m.splice(1,0,E);return m}}static getNumRawDataModules(p){if(p<It.MIN_VERSION||p>It.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*p+128)*p+64;if(p>=2){const m=Math.floor(p/7)+2;y-=(25*m-10)*m-55,p>=7&&(y-=36)}return u(208<=y&&y<=29648),y}static getNumDataCodewords(p,y){return Math.floor(It.getNumRawDataModules(p)/8)-It.ECC_CODEWORDS_PER_BLOCK[y.ordinal][p]*It.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let y=[];for(let E=0;E<p-1;E++)y.push(0);y.push(1);let m=1;for(let E=0;E<p;E++){for(let v=0;v<y.length;v++)y[v]=It.reedSolomonMultiply(y[v],m),v+1<y.length&&(y[v]^=y[v+1]);m=It.reedSolomonMultiply(m,2)}return y}static reedSolomonComputeRemainder(p,y){let m=y.map(E=>0);for(const E of p){const v=E^m.shift();m.push(0),y.forEach((_,x)=>m[x]^=It.reedSolomonMultiply(_,v))}return m}static reedSolomonMultiply(p,y){if(p>>>8||y>>>8)throw new RangeError("Byte out of range");let m=0;for(let E=7;E>=0;E--)m=m<<1^(m>>>7)*285,m^=(y>>>E&1)*p;return u(m>>>8==0),m}finderPenaltyCountPatterns(p){const y=p[1];u(y<=this.size*3);const m=y>0&&p[2]==y&&p[3]==y*3&&p[4]==y&&p[5]==y;return(m&&p[0]>=y*4&&p[6]>=y?1:0)+(m&&p[6]>=y*4&&p[0]>=y?1:0)}finderPenaltyTerminateAndCount(p,y,m){return p&&(this.finderPenaltyAddHistory(y,m),y=0),y+=this.size,this.finderPenaltyAddHistory(y,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(p,y){y[0]==0&&(p+=this.size),y.pop(),y.unshift(p)}};i.MIN_VERSION=1,i.MAX_VERSION=40,i.PENALTY_N1=3,i.PENALTY_N2=3,i.PENALTY_N3=40,i.PENALTY_N4=10,i.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=i;function a(d,p,y){if(p<0||p>31||d>>>p)throw new RangeError("Value out of range");for(let m=p-1;m>=0;m--)y.push(d>>>m&1)}function l(d,p){return(d>>>p&1)!=0}function u(d){if(!d)throw new Error("Assertion error")}const c=class oe{constructor(p,y,m){if(this.mode=p,this.numChars=y,this.bitData=m,y<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(p){let y=[];for(const m of p)a(m,8,y);return new oe(oe.Mode.BYTE,p.length,y)}static makeNumeric(p){if(!oe.isNumeric(p))throw new RangeError("String contains non-numeric characters");let y=[];for(let m=0;m<p.length;){const E=Math.min(p.length-m,3);a(parseInt(p.substring(m,m+E),10),E*3+1,y),m+=E}return new oe(oe.Mode.NUMERIC,p.length,y)}static makeAlphanumeric(p){if(!oe.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],m;for(m=0;m+2<=p.length;m+=2){let E=oe.ALPHANUMERIC_CHARSET.indexOf(p.charAt(m))*45;E+=oe.ALPHANUMERIC_CHARSET.indexOf(p.charAt(m+1)),a(E,11,y)}return m<p.length&&a(oe.ALPHANUMERIC_CHARSET.indexOf(p.charAt(m)),6,y),new oe(oe.Mode.ALPHANUMERIC,p.length,y)}static makeSegments(p){return p==""?[]:oe.isNumeric(p)?[oe.makeNumeric(p)]:oe.isAlphanumeric(p)?[oe.makeAlphanumeric(p)]:[oe.makeBytes(oe.toUtf8ByteArray(p))]}static makeEci(p){let y=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)a(p,8,y);else if(p<16384)a(2,2,y),a(p,14,y);else if(p<1e6)a(6,3,y),a(p,21,y);else throw new RangeError("ECI assignment value out of range");return new oe(oe.Mode.ECI,0,y)}static isNumeric(p){return oe.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return oe.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,y){let m=0;for(const E of p){const v=E.mode.numCharCountBits(y);if(E.numChars>=1<<v)return 1/0;m+=4+v+E.bitData.length}return m}static toUtf8ByteArray(p){p=encodeURI(p);let y=[];for(let m=0;m<p.length;m++)p.charAt(m)!="%"?y.push(p.charCodeAt(m)):(y.push(parseInt(p.substring(m+1,m+3),16)),m+=2);return y}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=c;e.QrSegment=c})(Wr||(Wr={}));(e=>{(i=>{const a=class{constructor(u,c){this.ordinal=u,this.formatBits=c}};a.LOW=new a(0,1),a.MEDIUM=new a(1,0),a.QUARTILE=new a(2,3),a.HIGH=new a(3,2),i.Ecc=a})(e.QrCode||(e.QrCode={}))})(Wr||(Wr={}));(e=>{(i=>{const a=class{constructor(u,c){this.modeBits=u,this.numBitsCharCount=c}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};a.NUMERIC=new a(1,[10,12,14]),a.ALPHANUMERIC=new a(2,[9,11,13]),a.BYTE=new a(4,[8,16,16]),a.KANJI=new a(8,[8,10,12]),a.ECI=new a(7,[0,0,0]),i.Mode=a})(e.QrSegment||(e.QrSegment={}))})(Wr||(Wr={}));var Fa=Wr;var O6={L:Fa.QrCode.Ecc.LOW,M:Fa.QrCode.Ecc.MEDIUM,Q:Fa.QrCode.Ecc.QUARTILE,H:Fa.QrCode.Ecc.HIGH},qb=128,Fb="L",Pb="#FFFFFF",$b="#000000",Zb=!1,Qb=1,B6=4,C6=0,R6=.1;function Wb(e,i=0){const a=[];return e.forEach(function(l,u){let c=null;l.forEach(function(h,d){if(!h&&c!==null){a.push(`M${c+i} ${u+i}h${d-c}v1H${c+i}z`),c=null;return}if(d===l.length-1){if(!h)return;c===null?a.push(`M${d+i},${u+i} h1v1H${d+i}z`):a.push(`M${c+i},${u+i} h${d+1-c}v1H${c+i}z`);return}h&&c===null&&(c=d)})}),a.join("")}function Jb(e,i){return e.slice().map((a,l)=>l<i.y||l>=i.y+i.h?a:a.map((u,c)=>c<i.x||c>=i.x+i.w?u:!1))}function H6(e,i,a,l){if(l==null)return null;const u=e.length+a*2,c=Math.floor(i*R6),h=u/i,d=(l.width||c)*h,p=(l.height||c)*h,y=l.x==null?e.length/2-d/2:l.x*h,m=l.y==null?e.length/2-p/2:l.y*h,E=l.opacity==null?1:l.opacity;let v=null;if(l.excavate){let x=Math.floor(y),U=Math.floor(m),C=Math.ceil(d+y-x),z=Math.ceil(p+m-U);v={x,y:U,w:C,h:z}}const _=l.crossOrigin;return{x:y,y:m,h:p,w:d,excavation:v,opacity:E,crossOrigin:_}}function I6(e,i){return i!=null?Math.max(Math.floor(i),0):e?B6:C6}function tw({value:e,level:i,minVersion:a,includeMargin:l,marginSize:u,imageSettings:c,size:h,boostLevel:d}){let p=_e.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((U,C)=>(U.push(...Fa.QrSegment.makeSegments(C)),U),[]);return Fa.QrCode.encodeSegments(x,O6[i],a,void 0,void 0,d)},[e,i,a,d]);const{cells:y,margin:m,numCells:E,calculatedImageSettings:v}=_e.useMemo(()=>{let _=p.getModules();const x=I6(l,u),U=_.length+x*2,C=H6(_,h,x,c);return{cells:_,margin:x,numCells:U,calculatedImageSettings:C}},[p,h,c,l,u]);return{qrcode:p,margin:m,cells:y,numCells:E,calculatedImageSettings:v}}var M6=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),k6=_e.forwardRef(function(i,a){const l=i,{value:u,size:c=qb,level:h=Fb,bgColor:d=Pb,fgColor:p=$b,includeMargin:y=Zb,minVersion:m=Qb,boostLevel:E,marginSize:v,imageSettings:_}=l,U=od(l,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:C}=U,z=od(U,["style"]),X=_?.src,M=_e.useRef(null),L=_e.useRef(null),F=_e.useCallback(Q=>{M.current=Q,typeof a=="function"?a(Q):a&&(a.current=Q)},[a]),[nt,W]=_e.useState(!1),{margin:ct,cells:ut,numCells:Tt,calculatedImageSettings:Bt}=tw({value:u,level:h,minVersion:m,boostLevel:E,includeMargin:y,marginSize:v,imageSettings:_,size:c});_e.useEffect(()=>{if(M.current!=null){const Q=M.current,Z=Q.getContext("2d");if(!Z)return;let H=ut;const q=L.current,it=Bt!=null&&q!==null&&q.complete&&q.naturalHeight!==0&&q.naturalWidth!==0;it&&Bt.excavation!=null&&(H=Jb(ut,Bt.excavation));const st=window.devicePixelRatio||1;Q.height=Q.width=c*st;const lt=c/Tt*st;Z.scale(lt,lt),Z.fillStyle=d,Z.fillRect(0,0,Tt,Tt),Z.fillStyle=p,M6?Z.fill(new Path2D(Wb(H,ct))):ut.forEach(function(N,D){N.forEach(function(rt,at){rt&&Z.fillRect(at+ct,D+ct,1,1)})}),Bt&&(Z.globalAlpha=Bt.opacity),it&&Z.drawImage(q,Bt.x+ct,Bt.y+ct,Bt.w,Bt.h)}}),_e.useEffect(()=>{W(!1)},[X]);const gt=ud({height:c,width:c},C);let $=null;return X!=null&&($=_e.createElement("img",{src:X,key:X,style:{display:"none"},onLoad:()=>{W(!0)},ref:L,crossOrigin:Bt?.crossOrigin})),_e.createElement(_e.Fragment,null,_e.createElement("canvas",ud({style:gt,height:c,width:c,ref:F,role:"img"},z)),$)});k6.displayName="QRCodeCanvas";var ew=_e.forwardRef(function(i,a){const l=i,{value:u,size:c=qb,level:h=Fb,bgColor:d=Pb,fgColor:p=$b,includeMargin:y=Zb,minVersion:m=Qb,boostLevel:E,title:v,marginSize:_,imageSettings:x}=l,U=od(l,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:C,cells:z,numCells:X,calculatedImageSettings:M}=tw({value:u,level:h,minVersion:m,boostLevel:E,includeMargin:y,marginSize:_,imageSettings:x,size:c});let L=z,F=null;x!=null&&M!=null&&(M.excavation!=null&&(L=Jb(z,M.excavation)),F=_e.createElement("image",{href:x.src,height:M.h,width:M.w,x:M.x+C,y:M.y+C,preserveAspectRatio:"none",opacity:M.opacity,crossOrigin:M.crossOrigin}));const nt=Wb(L,C);return _e.createElement("svg",ud({height:c,width:c,viewBox:`0 0 ${X} ${X}`,ref:a,role:"img"},U),!!v&&_e.createElement("title",null,v),_e.createElement("path",{fill:d,d:`M0,0 h${X}v${X}H0z`,shapeRendering:"crispEdges"}),_e.createElement("path",{fill:p,d:nt,shapeRendering:"crispEdges"}),F)});ew.displayName="QRCodeSVG";function D6({account:e,mnemonic:i,onClose:a}){const[l,u]=xt.useState(""),[c,h]=xt.useState(!1),d=Wo();xt.useEffect(()=>{(async()=>{const m=y6(e);if(m)u(m.address);else{const E=await g6(i,e);u(E.address)}})()},[e,i]);const p=()=>{navigator.clipboard.writeText(l),h(!0),setTimeout(()=>h(!1),2e3)};return O.jsx("div",{className:"modal-overlay",onClick:a,children:O.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[O.jsxs("div",{className:"modal-header",children:[O.jsx("h2",{children:"Pijmout Bitcoin"}),O.jsx("button",{className:"modal-close",onClick:a,children:""})]}),O.jsxs("div",{className:"modal-body",children:[O.jsx("p",{className:"modal-description",children:"Naskenujte QR kd nebo zkoprujte adresu pro pjem testnet bitcoin"}),O.jsx("div",{className:"qr-container",children:l?O.jsx(ew,{value:l,size:200,level:"M",bgColor:"#ffffff",fgColor:"#000000"}):O.jsx("div",{className:"qr-loading",children:"Natn..."})}),O.jsxs("div",{className:"address-box",children:[O.jsx("code",{className:"address-text",children:l}),O.jsx("button",{onClick:p,className:`copy-btn ${c?"copied":""}`,children:c?" Zkoprovno":"Koprovat"})]}),O.jsxs("div",{className:"network-badge",children:[Ss[d].label,' adresy zanaj na "tb1..."']})]})]})})}function z6({account:e,mnemonic:i,onClose:a,onSent:l}){const u=e.type==="inheritance",[c,h]=xt.useState(""),[d,p]=xt.useState(""),[y,m]=xt.useState("5"),[E,v]=xt.useState("create"),[_,x]=xt.useState(""),[U,C]=xt.useState(""),[z,X]=xt.useState(!1),[M,L]=xt.useState(""),[F,nt]=xt.useState(""),W=$=>$.startsWith("tb1")||$.startsWith("m")||$.startsWith("n")||$.startsWith("2"),ct=()=>{const $=parseInt(d,10);if(!Number.isInteger($)||$<=0)return L("Zadejte platnou stku v satech"),null;const Q=parseInt(y,10);return Number.isNaN(Q)||Q<=0?(L("Zadejte platn fee"),null):$>e.balance?(L("Nedostatek prostedk"),null):{amountSats:$,feeRate:Q}},ut=async()=>{if(L(""),nt(""),!W(c)){L("Neplatn testnet adresa");return}const $=ct();if(!$)return;const{amountSats:Q,feeRate:Z}=$;X(!0);try{const H=await S6(i,e,c,Q,Z);nt(`Transakce odeslna. TXID: ${H}`),setTimeout(()=>{l(),a()},2e3)}catch(H){const q=H instanceof Error?H.message:"Chyba pi odesln";L(q)}finally{X(!1)}},Tt=async()=>{if(L(""),nt(""),!W(c)){L("Neplatn testnet/signet adresa");return}const $=ct();if($){X(!0);try{const Q=await v6(i,e,c,$.amountSats,$.feeRate);C(Q.psbt),nt(Q.changeAddress?`PSBT vytvoeno. Fee: ${Q.fee} sats. Change: ${Q.changeAmount} sats  ${Q.changeAddress}`:`PSBT vytvoeno. Fee: ${Q.fee} sats.`)}catch(Q){const Z=Q instanceof Error?Q.message:"Chyba pi tvorb PSBT";L(Z)}finally{X(!1)}}},Bt=async()=>{if(L(""),nt(""),!_.trim()){L("Vlote PSBT k dopodepsn");return}X(!0);try{const $=await A6(i,e,_);nt(`Transakce dopodepsna a odeslna. TXID: ${$}`),setTimeout(()=>{l(),a()},2e3)}catch($){const Q=$ instanceof Error?$.message:"Chyba pi dopodepsn PSBT";L(Q)}finally{X(!1)}},gt=async()=>{if(U)try{await navigator.clipboard.writeText(U),nt("PSBT zkoprovno do schrnky.")}catch{L("PSBT nelo zkoprovat do schrnky")}};return O.jsx("div",{className:"modal-overlay",onClick:a,children:O.jsxs("div",{className:"modal-content",onClick:$=>$.stopPropagation(),children:[O.jsxs("div",{className:"modal-header",children:[O.jsx("h2",{children:"Odeslat Bitcoin"}),O.jsx("button",{className:"modal-close",onClick:a,children:""})]}),O.jsxs("div",{className:"modal-body",children:[u&&O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Reim ddickho odesln"}),O.jsxs("div",{className:"fee-options",children:[O.jsx("button",{type:"button",onClick:()=>v("create"),className:`fee-btn ${E==="create"?"active":""}`,children:"Vytvoit + podepsat PSBT"}),O.jsx("button",{type:"button",onClick:()=>v("finalize"),className:`fee-btn ${E==="finalize"?"active":""}`,children:"Vloit PSBT a odeslat"})]})]}),(!u||E==="create")&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Adresa pjemce"}),O.jsx("input",{type:"text",value:c,onChange:$=>h($.target.value),placeholder:"tb1...",className:"form-input"})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"stka (sats)"}),O.jsx("input",{type:"text",value:d,onChange:$=>p($.target.value),placeholder:"50000",className:"form-input"}),O.jsxs("div",{className:"input-hint",children:["Dostupn: ",e.balance.toLocaleString("cs-CZ")," sats"]})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Fee (sat/vB)"}),O.jsxs("div",{className:"fee-options",children:[O.jsx("button",{type:"button",onClick:()=>m("1"),className:`fee-btn ${y==="1"?"active":""}`,children:"Slow (1)"}),O.jsx("button",{type:"button",onClick:()=>m("5"),className:`fee-btn ${y==="5"?"active":""}`,children:"Normal (5)"}),O.jsx("button",{type:"button",onClick:()=>m("20"),className:`fee-btn ${y==="20"?"active":""}`,children:"Fast (20)"})]})]})]}),u&&E==="finalize"&&O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"PSBT od protistrany (base64)"}),O.jsx("textarea",{value:_,onChange:$=>x($.target.value),rows:5,className:"form-input",placeholder:"cHNidP8B..."}),O.jsx("div",{className:"input-hint",children:"Vlote sten podepsanou PSBT a odelete na s."})]}),u&&U&&O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Exportovan PSBT"}),O.jsx("textarea",{value:U,rows:5,readOnly:!0,className:"form-input"}),O.jsx("button",{type:"button",className:"btn-secondary btn-full",onClick:gt,children:"Zkoprovat PSBT"})]}),M&&O.jsx("div",{className:"error-message",children:M}),F&&O.jsx("div",{className:"success-message",children:F}),!u&&O.jsx("button",{onClick:ut,disabled:z||!c||!d,className:"btn-primary btn-full",children:z?"Odesln...":"Odeslat"}),u&&E==="create"&&O.jsx("button",{onClick:Tt,disabled:z||!c||!d,className:"btn-primary btn-full",children:z?"Podepisovn...":"Podepsat a exportovat PSBT"}),u&&E==="finalize"&&O.jsx("button",{onClick:Bt,disabled:z||!_.trim(),className:"btn-primary btn-full",children:z?"Dopodepisovn...":"Dopodepsat a odeslat"})]})]})})}function L6({mnemonic:e,network:i,onNetworkChange:a,onLogout:l}){const[u,c]=xt.useState([]),[h,d]=xt.useState(null),[p,y]=xt.useState(null),[m,E]=xt.useState(!1),[v,_]=xt.useState(!1),[x,U]=xt.useState(!1),[C,z]=xt.useState(""),[X,M]=xt.useState(!0),L=xt.useCallback(async()=>{M(!0);const W=li(),ct=await Promise.all(W.map(Tt=>h6(Tt,e))),ut=await t6(e);c(ct),z(ut),d(Tt=>Tt&&(ct.find(Bt=>Bt.id===Tt.id)||Tt)),M(!1)},[e]);xt.useEffect(()=>{const W=window.setTimeout(()=>{L()},0);return()=>{window.clearTimeout(W)}},[i,L]);const F=u.reduce((W,ct)=>W+ct.balance,0),nt=async()=>{await L()};return X?O.jsx("div",{className:"accounts-container",children:O.jsxs("div",{className:"loading-screen",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Natn t..."})]})}):O.jsxs("div",{className:"accounts-container",children:[O.jsx(N6,{mnemonic:e,network:i,onNetworkChange:a,onLogout:l}),h?O.jsx(x6,{account:h,mnemonic:e,onBack:()=>d(null),onRefresh:nt,onReceive:W=>{y(W),E(!0)},onSend:W=>{y(W),_(!0)}}):O.jsxs("div",{className:"accounts-content",children:[O.jsxs("div",{className:"balance-card",children:[O.jsxs("div",{className:"balance-header",children:[O.jsx("span",{className:"balance-label",children:"Celkov balance"}),O.jsx("button",{onClick:nt,className:"refresh-btn",title:"Obnovit",children:""})]}),O.jsxs("div",{className:"balance-amount",children:[F.toLocaleString("cs-CZ")," ",O.jsx("span",{className:"btc-label",children:"sats"})]}),O.jsx("div",{className:"balance-testnet",children:Ss[i].label}),C&&O.jsxs("div",{className:"wallet-fingerprint",children:["Master fingerprint: ",C]})]}),O.jsxs("div",{className:"accounts-list",children:[O.jsx("h2",{children:"ty"}),u.map(W=>O.jsxs("div",{className:`account-item ${W.type}`,onClick:()=>d(W),children:[O.jsxs("div",{className:"account-info",children:[O.jsxs("div",{className:"account-name",children:[W.type==="inheritance"&&O.jsx("span",{className:"inheritance-icon",children:""}),W.name]}),O.jsx("div",{className:"account-type",children:W.type==="inheritance"?"Ddick et":"Standardn et"}),W.type==="inheritance"&&W.inheritanceStatus&&O.jsxs("div",{className:"inheritance-status",children:[W.inheritanceStatus.canUserSpend&&" Mete utrcet",W.inheritanceStatus.requiresMultisig&&" Multisig vyadovn",!W.inheritanceStatus.canUserSpend&&!W.inheritanceStatus.requiresMultisig&&W.balance>0&&" ekn na timelock"]})]}),O.jsxs("div",{className:"account-balance",children:[W.balance.toLocaleString("cs-CZ")," sats"]})]},W.id))]}),O.jsxs("button",{onClick:()=>U(!0),className:"add-inheritance-btn",children:[O.jsx("span",{className:"plus-icon",children:"+"}),"Pidat ddick et"]})]}),m&&p&&O.jsx(D6,{account:p,mnemonic:e,onClose:()=>E(!1)}),v&&p&&O.jsx(z6,{account:p,mnemonic:e,onClose:()=>_(!1),onSent:nt}),x&&O.jsx(T6,{mnemonic:e,onClose:()=>{U(!1),nt()}})]})}function j6({onWalletCreated:e}){const[i,a]=xt.useState(!1),[l,u]=xt.useState(""),[c,h]=xt.useState(""),[d,p]=xt.useState(!1),y=async()=>{p(!0);try{await o6(),e()}catch(E){console.error("Error creating wallet:",E),h("Nepodailo se vytvoit penenku")}finally{p(!1)}},m=async()=>{const E=l.trim(),v=E.split(/\s+/);if(v.length!==20&&v.length!==33){h(`Neplatn seed. SLIP-39 m 20 nebo 33 slov, zadno ${v.length}.`);return}if(!Db(E)){h("Neplatn seed. Zkontrolujte, e jste zadali sprvn slova.");return}await c6(E)?e():h("Nepodailo se obnovit penenku")};return i?O.jsx("div",{className:"welcome-container",children:O.jsxs("div",{className:"welcome-card",children:[O.jsx("h1",{children:"Obnovit penenku"}),O.jsx("p",{children:"Zadejte svj SLIP-39 seed (20 nebo 33 slov):"}),O.jsx("textarea",{value:l,onChange:E=>u(E.target.value),placeholder:"slovo1 slovo2 slovo3... (20 nebo 33 slov)",rows:4,className:"mnemonic-input"}),c&&O.jsx("div",{className:"error-message",children:c}),O.jsxs("div",{className:"button-group",children:[O.jsx("button",{onClick:m,className:"btn-primary",children:"Obnovit"}),O.jsx("button",{onClick:()=>{a(!1),h(""),u("")},className:"btn-secondary",children:"Zpt"})]})]})}):O.jsx("div",{className:"welcome-container",children:O.jsxs("div",{className:"welcome-card",children:[O.jsx("div",{className:"logo",children:O.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[O.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#F7931A",strokeWidth:"2"}),O.jsx("path",{d:"M15.5 9.5c.5-1.5-1-2-2.5-2.5l.5-2-1.5-.5-.5 2c-.5 0-1 0-1.5.5l.5-2-1.5-.5-.5 2c-2 .5-3.5 1.5-3 3.5.5 1.5 2 2 3.5 2.5-1 .5-2 1-1.5 2.5.5 1.5 2 2 4 1.5l-.5 2 1.5.5.5-2c.5 0 1 0 1.5-.5l.5 2 1.5.5.5-2c2-.5 3.5-1.5 3-3.5-.5-1.5-2-2-3.5-2.5z",fill:"#F7931A"})]})}),O.jsx("h1",{children:"Bitcoin Testnet Penenka"}),O.jsx("p",{className:"subtitle",children:"Bezpen penenka s ddickmi ty"}),O.jsxs("div",{className:"button-group",children:[O.jsx("button",{onClick:y,disabled:d,className:"btn-primary",children:d?"Vytven...":"Vytvoit novou penenku"}),O.jsx("button",{onClick:()=>a(!0),className:"btn-secondary",children:"Vloit SLIP-39 seed"})]}),O.jsx("p",{className:"testnet-badge",children:"Testnet Only"})]})})}function K6(){const[e,i]=xt.useState(()=>Wm()),[a,l]=xt.useState(()=>Wo()),u=()=>{const d=Wm();d&&i(d)},c=()=>{i(null)},h=d=>{hT(d),l(d)};return e?O.jsx(L6,{mnemonic:e.mnemonic,network:a,onNetworkChange:h,onLogout:c}):O.jsx(j6,{onWalletCreated:u})}TA.createRoot(document.getElementById("root")).render(O.jsx(xt.StrictMode,{children:O.jsx(K6,{})}));
